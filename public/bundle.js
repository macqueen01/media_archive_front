var app=function(){"use strict";function noop(){}const identity=e=>e;function assign(e,t){for(const n in t)e[n]=t[n];return e}function is_promise(e){return e&&"object"==typeof e&&"function"==typeof e.then}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return"function"==typeof e}function safe_not_equal(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let src_url_equal_anchor;function src_url_equal(e,t){return src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=t,e===src_url_equal_anchor.href}function is_empty(e){return 0===Object.keys(e).length}function subscribe(e,...t){if(null==e)return noop;const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function component_subscribe(e,t,n){e.$$.on_destroy.push(subscribe(t,n))}function create_slot(e,t,n,r){if(e){const o=get_slot_context(e,t,n,r);return e[0](o)}}function get_slot_context(e,t,n,r){return e[1]&&r?assign(n.ctx.slice(),e[1](r(t))):n.ctx}function get_slot_changes(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function update_slot_base(e,t,n,r,o,s){if(o){const i=get_slot_context(t,n,r,s);e.p(i,o)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function null_to_empty(e){return null==e?"":e}const is_client="undefined"!=typeof window;let now=is_client?()=>window.performance.now():()=>Date.now(),raf=is_client?e=>requestAnimationFrame(e):noop;const tasks=new Set;function run_tasks(e){tasks.forEach(t=>{t.c(e)||(tasks.delete(t),t.f())}),0!==tasks.size&&raf(run_tasks)}function loop(e){let t;return 0===tasks.size&&raf(run_tasks),{promise:new Promise(n=>{tasks.add(t={c:e,f:n})}),abort(){tasks.delete(t)}}}function append(e,t){e.appendChild(t)}function get_root_for_style(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function append_empty_stylesheet(e){const t=element("style");return append_stylesheet(get_root_for_style(e),t),t.sheet}function append_stylesheet(e,t){return append(e.head||e,t),t.sheet}function insert(e,t,n){e.insertBefore(t,n||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function prevent_default(e){return function(t){return t.preventDefault(),e.call(this,t)}}function attr(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function children(e){return Array.from(e.childNodes)}function set_data(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function set_input_value(e,t){e.value=null==t?"":t}function set_style(e,t,n,r){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,r?"important":"")}function select_option(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function select_value(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function toggle_class(e,t,n){e.classList[n?"add":"remove"](t)}function custom_event(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,r,t),o}const managed_styles=new Map;let active=0,current_component;function hash(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function create_style_information(e,t){const n={stylesheet:append_empty_stylesheet(t),rules:{}};return managed_styles.set(e,n),n}function create_rule(e,t,n,r,o,s,i,a=0){const l=16.666/r;let c="{\n";for(let e=0;e<=1;e+=l){const r=t+(n-t)*s(e);c+=100*e+`%{${i(r,1-r)}}\n`}const d=c+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${hash(d)}_${a}`,u=get_root_for_style(e),{stylesheet:h,rules:m}=managed_styles.get(u)||create_style_information(u,e);m[p]||(m[p]=!0,h.insertRule(`@keyframes ${p} ${d}`,h.cssRules.length));const f=e.style.animation||"";return e.style.animation=`${f?`${f}, `:""}${p} ${r}ms linear ${o}ms 1 both`,active+=1,p}function delete_rule(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),(active-=o)||clear_rules())}function clear_rules(){raf(()=>{active||(managed_styles.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&detach(t)}),managed_styles.clear())})}function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function onMount(e){get_current_component().$$.on_mount.push(e)}function onDestroy(e){get_current_component().$$.on_destroy.push(e)}function createEventDispatcher(){const e=get_current_component();return(t,n,{cancelable:r=!1}={})=>{const o=e.$$.callbacks[t];if(o){const s=custom_event(t,n,{cancelable:r});return o.slice().forEach(t=>{t.call(e,s)}),!s.defaultPrevented}return!0}}function setContext(e,t){return get_current_component().$$.context.set(e,t),t}function getContext(e){return get_current_component().$$.context.get(e)}function hasContext(e){return get_current_component().$$.context.has(e)}const dirty_components=[],binding_callbacks=[],render_callbacks=[],flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function tick(){return schedule_update(),resolved_promise}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0,promise;function flush(){const e=current_component;do{for(;flushidx<dirty_components.length;){const e=dirty_components[flushidx];flushidx++,set_current_component(e),update(e.$$)}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let e=0;e<render_callbacks.length;e+=1){const t=render_callbacks[e];seen_callbacks.has(t)||(seen_callbacks.add(t),t())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(null!==e.fragment){e.update(),run_all(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(add_render_callback)}}function wait(){return promise||(promise=Promise.resolve()).then(()=>{promise=null}),promise}function dispatch(e,t,n){e.dispatchEvent(custom_event(`${t?"intro":"outro"}${n}`))}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,t){e&&e.i&&(outroing.delete(e),e.i(t))}function transition_out(e,t,n,r){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const null_transition={duration:0};function create_in_transition(e,t,n){let r,o,s=t(e,n),i=!1,a=0;function l(){r&&delete_rule(e,r)}function c(){const{delay:t=0,duration:n=300,easing:c=identity,tick:d=noop,css:p}=s||null_transition;p&&(r=create_rule(e,0,1,n,t,c,p,a++)),d(0,1);const u=now()+t,h=u+n;o&&o.abort(),i=!0,add_render_callback(()=>dispatch(e,!0,"start")),o=loop(t=>{if(i){if(t>=h)return d(1,0),dispatch(e,!0,"end"),l(),i=!1;if(t>=u){const e=c((t-u)/n);d(e,1-e)}}return i})}let d=!1;return{start(){d||(d=!0,delete_rule(e),is_function(s)?(s=s(),wait().then(c)):c())},invalidate(){d=!1},end(){i&&(l(),i=!1)}}}function create_out_transition(e,t,n){let r,o=t(e,n),s=!0;const i=outros;function a(){const{delay:t=0,duration:n=300,easing:a=identity,tick:l=noop,css:c}=o||null_transition;c&&(r=create_rule(e,1,0,n,t,a,c));const d=now()+t,p=d+n;add_render_callback(()=>dispatch(e,!1,"start")),loop(t=>{if(s){if(t>=p)return l(0,1),dispatch(e,!1,"end"),--i.r||run_all(i.c),!1;if(t>=d){const e=a((t-d)/n);l(1-e,e)}}return s})}return i.r+=1,is_function(o)?wait().then(()=>{o=o(),a()}):a(),{end(t){t&&o.tick&&o.tick(1,0),s&&(r&&delete_rule(e,r),s=!1)}}}function create_bidirectional_transition(e,t,n,r){let o=t(e,n),s=r?0:1,i=null,a=null,l=null;function c(){l&&delete_rule(e,l)}function d(e,t){const n=e.b-s;return t*=Math.abs(n),{a:s,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function p(t){const{delay:n=0,duration:r=300,easing:p=identity,tick:u=noop,css:h}=o||null_transition,m={start:now()+n,b:t};t||(m.group=outros,outros.r+=1),i||a?a=m:(h&&(c(),l=create_rule(e,s,t,r,n,p,h)),t&&u(0,1),i=d(m,r),add_render_callback(()=>dispatch(e,t,"start")),loop(t=>{if(a&&t>a.start&&(i=d(a,r),a=null,dispatch(e,i.b,"start"),h&&(c(),l=create_rule(e,s,i.b,i.duration,0,p,o.css))),i)if(t>=i.end)u(s=i.b,1-s),dispatch(e,i.b,"end"),a||(i.b?c():--i.group.r||run_all(i.group.c)),i=null;else if(t>=i.start){const e=t-i.start;s=i.a+i.d*p(e/i.duration),u(s,1-s)}return!(!i&&!a)}))}return{run(e){is_function(o)?wait().then(()=>{o=o(),p(e)}):p(e)},end(){c(),i=a=null}}}function handle_promise(e,t){const n=t.token={};function r(e,r,o,s){if(t.token!==n)return;t.resolved=s;let i=t.ctx;void 0!==o&&((i=i.slice())[o]=s);const a=e&&(t.current=e)(i);let l=!1;t.block&&(t.blocks?t.blocks.forEach((e,n)=>{n!==r&&e&&(group_outros(),transition_out(e,1,1,()=>{t.blocks[n]===e&&(t.blocks[n]=null)}),check_outros())}):t.block.d(1),a.c(),transition_in(a,1),a.m(t.mount(),t.anchor),l=!0),t.block=a,t.blocks&&(t.blocks[r]=a),l&&flush()}if(is_promise(e)){const n=get_current_component();if(e.then(e=>{set_current_component(n),r(t.then,1,t.value,e),set_current_component(null)},e=>{if(set_current_component(n),r(t.catch,2,t.error,e),set_current_component(null),!t.hasCatch)throw e}),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}}function update_await_block_branch(e,t,n){const r=t.slice(),{resolved:o}=e;e.current===e.then&&(r[e.value]=o),e.current===e.catch&&(r[e.error]=o),e.block.p(r,n)}function create_component(e){e&&e.c()}function mount_component(e,t,n,r){const{fragment:o,after_update:s}=e.$$;o&&o.m(t,n),r||add_render_callback(()=>{const t=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...t):run_all(t),e.$$.on_mount=[]}),s.forEach(add_render_callback)}function destroy_component(e,t){const n=e.$$;null!==n.fragment&&(run_all(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function make_dirty(e,t){-1===e.$$.dirty[0]&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function init(e,t,n,r,o,s,i,a=[-1]){const l=current_component;set_current_component(e);const c=e.$$={fragment:null,ctx:[],props:s,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:blank_object(),dirty:a,skip_bound:!1,root:t.target||l.$$.root};i&&i(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(t,n,...r)=>{const s=r.length?r[0]:n;return c.ctx&&o(c.ctx[t],c.ctx[t]=s)&&(!c.skip_bound&&c.bound[t]&&c.bound[t](s),d&&make_dirty(e,t)),n}):[],c.update(),d=!0,run_all(c.before_update),c.fragment=!!r&&r(c.ctx),t.target){if(t.hydrate){const e=children(t.target);c.fragment&&c.fragment.l(e),e.forEach(detach)}else c.fragment&&c.fragment.c();t.intro&&transition_in(e.$$.fragment),mount_component(e,t.target,t.anchor,t.customElement),flush()}set_current_component(l)}class SvelteComponent{$destroy(){destroy_component(this,1),this.$destroy=noop}$on(e,t){if(!is_function(t))return noop;const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){this.$$set&&!is_empty(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const subscriber_queue=[];function writable(e,t=noop){let n;const r=new Set;function o(t){if(safe_not_equal(e,t)&&(e=t,n)){const t=!subscriber_queue.length;for(const t of r)t[1](),subscriber_queue.push(t,e);if(t){for(let e=0;e<subscriber_queue.length;e+=2)subscriber_queue[e][0](subscriber_queue[e+1]);subscriber_queue.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(s,i=noop){const a=[s,i];return r.add(a),1===r.size&&(n=t(o)||noop),s(e),()=>{r.delete(a),0===r.size&&(n(),n=null)}}}}function p(e,t=!1){return(e=e.slice(e.startsWith("/#")?2:0,e.endsWith("/*")?-2:void 0)).startsWith("/")||(e="/"+e),"/"===e&&(e=""),t&&!e.endsWith("/")&&(e+="/"),e}function d(e,t){e=p(e,!0),t=p(t,!0);let n=[],r={},o=!0,s=e.split("/").map(e=>e.startsWith(":")?(n.push(e.slice(1)),"([^\\/]+)"):e).join("\\/"),i=t.match(new RegExp(`^${s}$`));return i||(o=!1,i=t.match(new RegExp(`^${s}`))),i?(n.forEach((e,t)=>r[e]=i[t+1]),{exact:o,params:r,part:i[0].slice(0,-1)}):null}function x(e,t,n){if(""===n)return e;if("/"===n[0])return n;let r=e=>e.split("/").filter(e=>""!==e),o=r(e);return"/"+(t?r(t):[]).map((e,t)=>o[t]).join("/")+"/"+n}function m(e,t,n,r){let o=[t,"data-"+t].reduce((t,r)=>{let o=e.getAttribute(r);return n&&e.removeAttribute(r),null===o?t:o},!1);return!r&&""===o||(o||r||!1)}function S(e){let t=e.split("&").map(e=>e.split("=")).reduce((e,t)=>{let n=t[0];if(!n)return e;let r=!(t.length>1)||t[t.length-1];return"string"==typeof r&&r.includes(",")&&(r=r.split(",")),void 0===e[n]?e[n]=[r]:e[n].push(r),e},{});return Object.entries(t).reduce((e,t)=>(e[t[0]]=t[1].length>1?t[1]:t[1][0],e),{})}function M(e){return Object.entries(e).map(([e,t])=>t?!0===t?e:`${e}=${Array.isArray(t)?t.join(","):t}`:null).filter(e=>e).join("&")}function w(e,t){return e?t+e:""}function k(e){throw new Error("[Tinro] "+e)}var i={HISTORY:1,HASH:2,MEMORY:3,OFF:4,run(e,t,n,r){return e===this.HISTORY?t&&t():e===this.HASH?n&&n():r&&r()},getDefault(){return window&&"srcdoc"!==window.location.pathname?this.HISTORY:this.MEMORY}},y,$,H,b="",l=E();function E(){let e,t=i.getDefault(),n=n=>e&&e(R(t)),r=e=>{e&&(t=e),(e=>window.onhashchange=window.onpopstate=y=null)(),t!==i.OFF&&i.run(t,e=>window.onpopstate=n,e=>window.onhashchange=n)&&n()};return{mode:r,get:e=>R(t),go(e,r){_(t,e,r),n()},start(t){e=t,r()},stop(){e=null,r(i.OFF)},set(e){this.go((e=>{let n=Object.assign(R(t),e);return n.path+w(M(n.query),"?")+w(n.hash,"#")})(e),!e.path)},methods(){return j(this)},base:e=>b=e}}function _(e,t,n){!n&&($=H);let r=e=>history[`${n?"replace":"push"}State`]({},"",e);i.run(e,e=>r(b+t),e=>r(`#${t}`),e=>y=t)}function R(e){let t=window.location,n=i.run(e,e=>(b?t.pathname.replace(b,""):t.pathname)+t.search+t.hash,e=>String(t.hash.slice(1)||"/"),e=>y||"/"),r=n.match(/^([^?#]+)(?:\?([^#]+))?(?:\#(.+))?$/);return H=n,{url:n,from:$,path:r[1]||"",query:S(r[2]||""),hash:r[3]||""}}function j(e){let t=()=>e.get().query,n=t=>e.set({query:t}),r=e=>n(e(t())),o=t=>e.set({hash:t});return{hash:{get:()=>e.get().hash,set:o,clear:()=>o("")},query:{replace:n,clear:()=>n(""),get:e=>e?t()[e]:t(),set(e,t){r(n=>(n[e]=t,n))},delete(e){r(t=>(t[e]&&delete t[e],t))}}}}var f=T();function T(){let{subscribe:e}=writable(l.get(),e=>{l.start(e);let t=P(l.go);return()=>{l.stop(),t()}});return{subscribe:e,goto:l.go,params:Q,meta:O,useHashNavigation:e=>l.mode(e?i.HASH:i.HISTORY),mode:{hash:()=>l.mode(i.HASH),history:()=>l.mode(i.HISTORY),memory:()=>l.mode(i.MEMORY)},base:l.base,location:l.methods()}}function P(e){let t=t=>{let n=t.target.closest("a[href]"),r=n&&m(n,"target",!1,"_self"),o=n&&m(n,"tinro-ignore"),s=t.ctrlKey||t.metaKey||t.altKey||t.shiftKey;if("_self"==r&&!o&&!s&&n){let r=n.getAttribute("href").replace(/^\/#/,"");/^\/\/|^#|^[a-zA-Z]+:/.test(r)||(t.preventDefault(),e(r.startsWith("/")?r:n.href.replace(window.location.origin,"")))}};return addEventListener("click",t),()=>removeEventListener("click",t)}function Q(){return getContext("tinro").meta.params}var g="tinro",K=v({pattern:"",matched:!0});function q(e){let t=getContext(g)||K;(t.exact||t.fallback)&&k(`${e.fallback?"<Route fallback>":`<Route path="${e.path}">`}  can't be inside ${t.fallback?"<Route fallback>":`<Route path="${t.path||"/"}"> with exact path`}`);let n=e.fallback?"fallbacks":"childs",r=writable({}),o=v({fallback:e.fallback,parent:t,update(e){o.exact=!e.path.endsWith("/*"),o.pattern=p(`${o.parent.pattern||""}${e.path}`),o.redirect=e.redirect,o.firstmatch=e.firstmatch,o.breadcrumb=e.breadcrumb,o.match()},register:()=>(o.parent[n].add(o),async()=>{o.parent[n].delete(o),o.parent.activeChilds.delete(o),o.router.un&&o.router.un(),o.parent.match()}),show:()=>{e.onShow(),!o.fallback&&o.parent.activeChilds.add(o)},hide:()=>{e.onHide(),o.parent.activeChilds.delete(o)},match:async()=>{o.matched=!1;let{path:t,url:n,from:s,query:i}=o.router.location,a=d(o.pattern,t);if(!o.fallback&&a&&o.redirect&&(!o.exact||o.exact&&a.exact)){let e=x(t,o.parent.pattern,o.redirect);return f.goto(e,!0)}o.meta=a&&{from:s,url:n,query:i,match:a.part,pattern:o.pattern,breadcrumbs:o.parent.meta&&o.parent.meta.breadcrumbs.slice()||[],params:a.params,subscribe:r.subscribe},o.breadcrumb&&o.meta&&o.meta.breadcrumbs.push({name:o.breadcrumb,path:a.part}),r.set(o.meta),!a||o.fallback||!(!o.exact||o.exact&&a.exact)||o.parent.firstmatch&&o.parent.matched?o.hide():(e.onMeta(o.meta),o.parent.matched=!0,o.show()),a&&o.showFallbacks()}});return setContext(g,o),onMount(()=>o.register()),o}function O(){return hasContext(g)?getContext(g).meta:k("meta() function must be run inside any `<Route>` child component only")}function v(e){let t={router:{},exact:!1,pattern:null,meta:null,parent:null,fallback:!1,redirect:!1,firstmatch:!1,breadcrumb:null,matched:!1,childs:new Set,activeChilds:new Set,fallbacks:new Set,async showFallbacks(){if(!this.fallback&&(await tick(),this.childs.size>0&&0==this.activeChilds.size||0==this.childs.size&&this.fallbacks.size>0)){let e=this;for(;0==e.fallbacks.size;)if(!(e=e.parent))return;e&&e.fallbacks.forEach(e=>{if(e.redirect){let t=x("/",e.parent.pattern,e.redirect);f.goto(t,!0)}else e.show()})}},start(){this.router.un||(this.router.un=f.subscribe(e=>{this.router.location=e,null!==this.pattern&&this.match()}))},match(){this.showFallbacks()}};return Object.assign(t,e),t.start(),t}const get_default_slot_changes=e=>({params:2&e,meta:4&e}),get_default_slot_context=e=>({params:e[1],meta:e[2]});function create_if_block(e){let t;const n=e[9].default,r=create_slot(n,e,e[8],get_default_slot_context);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,o){r&&r.p&&(!t||262&o)&&update_slot_base(r,n,e,e[8],t?get_slot_changes(n,e[8],o,get_default_slot_changes):get_all_dirty_from_scope(e[8]),get_default_slot_context)},i(e){t||(transition_in(r,e),t=!0)},o(e){transition_out(r,e),t=!1},d(e){r&&r.d(e)}}}function create_fragment(e){let t,n,r=e[0]&&create_if_block(e);return{c(){r&&r.c(),t=empty()},m(e,o){r&&r.m(e,o),insert(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&transition_in(r,1)):((r=create_if_block(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance(e,t,n){let{$$slots:r={},$$scope:o}=t,{path:s="/*"}=t,{fallback:i=!1}=t,{redirect:a=!1}=t,{firstmatch:l=!1}=t,{breadcrumb:c=null}=t,d=!1,p={},u={};const h=q({fallback:i,onShow(){n(0,d=!0)},onHide(){n(0,d=!1)},onMeta(e){n(2,u=e),n(1,p=u.params)}});return e.$$set=(e=>{"path"in e&&n(3,s=e.path),"fallback"in e&&n(4,i=e.fallback),"redirect"in e&&n(5,a=e.redirect),"firstmatch"in e&&n(6,l=e.firstmatch),"breadcrumb"in e&&n(7,c=e.breadcrumb),"$$scope"in e&&n(8,o=e.$$scope)}),e.$$.update=(()=>{232&e.$$.dirty&&h.update({path:s,redirect:a,firstmatch:l,breadcrumb:c})}),[d,p,u,s,i,a,l,c,o,r]}class Route extends SvelteComponent{constructor(e){super(),init(this,e,instance,create_fragment,safe_not_equal,{path:3,fallback:4,redirect:5,firstmatch:6,breadcrumb:7})}}let token=writable(null),wishList=writable({0:[],1:[],2:[]});function create_fragment$1(e){let t;return{c(){(t=element("div")).innerHTML='<div class="navbar svelte-1tr0jot"><div class="logo-wrap svelte-1tr0jot"><a href="/"><img src="/public/nama_logo.png" alt="navy" height="60"/></a></div> \n        <div class="menu-wrap svelte-1tr0jot"><a class="menu-select svelte-1tr0jot" href="/user/accounts"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#15133C" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"></path></svg></a> \n            <a class="menu-select svelte-1tr0jot" href="/user/notices"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="#15133C" width="18" height="18"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"></path></svg></a></div></div>',attr(t,"class","navbar-wrap svelte-1tr0jot")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function instance$1(e){return[]}class UserNavbar extends SvelteComponent{constructor(e){super(),init(this,e,instance$1,create_fragment$1,safe_not_equal,{})}}function cubicInOut(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function cubicOut(e){const t=e-1;return t*t*t+1}function quadIn(e){return e*e}function quintOut(e){return--e*e*e*e*e+1}function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function fade(e,{delay:t=0,duration:n=400,easing:r=identity}={}){const o=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:e=>`opacity: ${e*o}`}}function fly(e,{delay:t=0,duration:n=400,easing:r=cubicOut,x:o=0,y:s=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,c="none"===a.transform?"":a.transform,d=l*(1-i);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*s}px);\n\t\t\topacity: ${l-d*t}`}}function slide(e,{delay:t=0,duration:n=400,easing:r=cubicOut}={}){const o=getComputedStyle(e),s=+o.opacity,i=parseFloat(o.height),a=parseFloat(o.paddingTop),l=parseFloat(o.paddingBottom),c=parseFloat(o.marginTop),d=parseFloat(o.marginBottom),p=parseFloat(o.borderTopWidth),u=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>"overflow: hidden;"+`opacity: ${Math.min(20*e,1)*s};`+`height: ${e*i}px;`+`padding-top: ${e*a}px;`+`padding-bottom: ${e*l}px;`+`margin-top: ${e*c}px;`+`margin-bottom: ${e*d}px;`+`border-top-width: ${e*p}px;`+`border-bottom-width: ${e*u}px;`}}function draw(e,{delay:t=0,speed:n,duration:r,easing:o=cubicInOut}={}){let s=e.getTotalLength();const i=getComputedStyle(e);return"butt"!==i.strokeLinecap&&(s+=parseInt(i.strokeWidth)),void 0===r?r=void 0===n?800:s/n:"function"==typeof r&&(r=r(s)),{delay:t,duration:r,easing:o,css:(e,t)=>`stroke-dasharray: ${e*s} ${t*s}`}}function crossfade(e){var{fallback:t}=e,n=__rest(e,["fallback"]);const r=new Map,o=new Map;function s(e,r,o){return(s,i)=>(e.set(i.key,{rect:s.getBoundingClientRect()}),()=>{if(r.has(i.key)){const{rect:e}=r.get(i.key);return r.delete(i.key),function(e,t,r){const{delay:o=0,duration:s=(e=>30*Math.sqrt(e)),easing:i=cubicOut}=assign(assign({},n),r),a=t.getBoundingClientRect(),l=e.left-a.left,c=e.top-a.top,d=e.width/a.width,p=e.height/a.height,u=Math.sqrt(l*l+c*c),h=getComputedStyle(t),m="none"===h.transform?"":h.transform,f=+h.opacity;return{delay:o,duration:is_function(s)?s(u):s,easing:i,css:(e,t)=>`\n\t\t\t\topacity: ${e*f};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${t*l}px,${t*c}px) scale(${e+(1-e)*d}, ${e+(1-e)*p});\n\t\t\t`}}(e,s,i)}return e.delete(i.key),t&&t(s,i,o)})}return[s(o,r,!1),s(r,o,!0)]}function create_fragment$2(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b;return{c(){t=element("div"),n=element("div"),(r=element("div")).innerHTML='<a href="/"><img src="/public/navy-logo.JPG" alt="navy" height="40"/></a>',o=space(),s=element("div"),i=element("a"),a=text("기록물 관리"),c=space(),d=element("a"),p=text("헬프데스크"),h=space(),m=element("a"),f=text("회원관리"),attr(r,"class","logo-wrap svelte-qjqqwz"),attr(i,"class",l=null_to_empty(2==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"),attr(i,"href","/manage/cases"),attr(d,"class",u=null_to_empty(3==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"),attr(d,"href","/manage/help"),attr(m,"class",g=null_to_empty(5==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"),attr(m,"href","/manage/accounts"),attr(s,"class","menu-wrap svelte-qjqqwz"),attr(n,"class","navbar svelte-qjqqwz"),attr(t,"class","navbar-wrap svelte-qjqqwz")},m(l,u){insert(l,t,u),append(t,n),append(n,r),append(n,o),append(n,s),append(s,i),append(i,a),append(s,c),append(s,d),append(d,p),append(s,h),append(s,m),append(m,f),_=!0,w||(b=[listen(i,"mouseover",e[3]),listen(i,"mouseout",e[2]),listen(d,"mouseover",e[4]),listen(d,"mouseout",e[2]),listen(m,"mouseover",e[5]),listen(m,"mouseout",e[2])],w=!0)},p(e,[t]){(!_||1&t&&l!==(l=null_to_empty(2==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"))&&attr(i,"class",l),(!_||1&t&&u!==(u=null_to_empty(3==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"))&&attr(d,"class",u),(!_||1&t&&g!==(g=null_to_empty(5==e[0]?"menu-select-hover":"menu-select")+" svelte-qjqqwz"))&&attr(m,"class",g)},i(e){_||(add_render_callback(()=>{v||(v=create_bidirectional_transition(n,fly,{duration:200,x:0,y:-100},!0)),v.run(1)}),_=!0)},o(e){v||(v=create_bidirectional_transition(n,fly,{duration:200,x:0,y:-100},!1)),v.run(0),_=!1},d(e){e&&detach(t),e&&v&&v.end(),w=!1,run_all(b)}}}function instance$2(e,t,n){let r=null;function o(e){n(0,r=e)}return[r,o,function(){r&&n(0,r=null)},()=>o(2),()=>o(3),()=>o(5)]}class ManageNavbar extends SvelteComponent{constructor(e){super(),init(this,e,instance$2,create_fragment$2,safe_not_equal,{})}}function create_fragment$3(e){let t;return{c(){(t=element("div")).innerHTML='<div class="footer svelte-16nl61k"><div class="logo-holder svelte-16nl61k"><img src="/public/navy-logo.JPG" alt="navy" height="40"/></div> \n        <h3 class="copyright svelte-16nl61k">Copyright by © 2022 해군사관학교 학술정보원</h3></div>',attr(t,"class","footer-wrap svelte-16nl61k")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Footer extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$3,safe_not_equal,{})}}function create_else_block(e){let t,n,r,o,s,i;return{c(){(t=element("label")).innerHTML='<h3 class="svelte-10cphl4">제목, 이름 또는 장소를 검색해보세요</h3>',attr(t,"for","search-input"),attr(t,"class","search-label svelte-10cphl4")},m(e,n){insert(e,t,n),o=!0,s||(i=listen(t,"click",labelHandle),s=!0)},p:noop,i(s){o||(add_render_callback(()=>{r&&r.end(1),(n=create_in_transition(t,e[3],{key:"unfocused"})).start()}),o=!0)},o(s){n&&n.invalidate(),r=create_out_transition(t,e[2],{key:"focused"}),o=!1},d(e){e&&detach(t),e&&r&&r.end(),s=!1,i()}}}function create_if_block$1(e){let t,n,r,o;return{c(){(t=element("label")).innerHTML='<h3 class="svelte-10cphl4">제목, 이름 또는 장소를 검색해보세요</h3>',attr(t,"for","search-input"),attr(t,"class","search-label-focused svelte-10cphl4")},m(e,n){insert(e,t,n),o=!0},p:noop,i(s){o||(add_render_callback(()=>{r&&r.end(1),(n=create_in_transition(t,e[3],{key:"focused"})).start()}),o=!0)},o(s){n&&n.invalidate(),r=create_out_transition(t,e[2],{key:"unfocused"}),o=!1},d(e){e&&detach(t),e&&r&&r.end()}}}function create_fragment$4(e){let t,n,r,o,s,i,a,l,c,d,p,u;const h=[create_if_block$1,create_else_block],m=[];function f(e,t){return e[0]||e[1]?0:1}return i=f(e),a=m[i]=h[i](e),{c(){t=element("div"),n=element("div"),r=element("form"),o=element("input"),s=space(),a.c(),l=space(),(c=element("button")).innerHTML='<span class="search-icon"><svg viewBox="0 0 16 16" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" style="width: 20px; height: 20px;"><path d="M10.5 0C11.0052 0 11.4922 0.0651042 11.9609 0.195312C12.4297 0.325521 12.8672 0.510417 13.2734 0.75C13.6797 0.989583 14.0495 1.27865 14.3828 1.61719C14.7214 1.95052 15.0104 2.32031 15.25 2.72656C15.4896 3.13281 15.6745 3.57031 15.8047 4.03906C15.9349 4.50781 16 4.99479 16 5.5C16 6.00521 15.9349 6.49219 15.8047 6.96094C15.6745 7.42969 15.4896 7.86719 15.25 8.27344C15.0104 8.67969 14.7214 9.05208 14.3828 9.39062C14.0495 9.72396 13.6797 10.0104 13.2734 10.25C12.8672 10.4896 12.4297 10.6745 11.9609 10.8047C11.4922 10.9349 11.0052 11 10.5 11C9.84896 11 9.22396 10.8906 8.625 10.6719C8.03125 10.4531 7.48438 10.138 6.98438 9.72656L0.851562 15.8516C0.752604 15.9505 0.635417 16 0.5 16C0.364583 16 0.247396 15.9505 0.148438 15.8516C0.0494792 15.7526 0 15.6354 0 15.5C0 15.3646 0.0494792 15.2474 0.148438 15.1484L6.27344 9.01562C5.86198 8.51562 5.54688 7.96875 5.32812 7.375C5.10938 6.77604 5 6.15104 5 5.5C5 4.99479 5.0651 4.50781 5.19531 4.03906C5.32552 3.57031 5.51042 3.13281 5.75 2.72656C5.98958 2.32031 6.27604 1.95052 6.60938 1.61719C6.94792 1.27865 7.32031 0.989583 7.72656 0.75C8.13281 0.510417 8.57031 0.325521 9.03906 0.195312C9.50781 0.0651042 9.99479 0 10.5 0ZM10.5 10C11.1198 10 11.7031 9.88281 12.25 9.64844C12.7969 9.40885 13.2734 9.08594 13.6797 8.67969C14.0859 8.27344 14.4062 7.79688 14.6406 7.25C14.8802 6.70312 15 6.11979 15 5.5C15 4.88021 14.8802 4.29688 14.6406 3.75C14.4062 3.20312 14.0859 2.72656 13.6797 2.32031C13.2734 1.91406 12.7969 1.59375 12.25 1.35938C11.7031 1.11979 11.1198 1 10.5 1C9.88021 1 9.29688 1.11979 8.75 1.35938C8.20312 1.59375 7.72656 1.91406 7.32031 2.32031C6.91406 2.72656 6.59115 3.20312 6.35156 3.75C6.11719 4.29688 6 4.88021 6 5.5C6 6.11979 6.11719 6.70312 6.35156 7.25C6.59115 7.79688 6.91406 8.27344 7.32031 8.67969C7.72656 9.08594 8.20312 9.40885 8.75 9.64844C9.29688 9.88281 9.88021 10 10.5 10Z"></path></svg></span>',attr(o,"class","search-input svelte-10cphl4"),attr(o,"type","text"),attr(c,"class","search-button svelte-10cphl4"),attr(c,"aria-hidden","true"),attr(c,"aria-disabled","true"),attr(c,"aria-label","제목, 이름 또는 장소를 검색해보세요"),attr(r,"class","search-form svelte-10cphl4"),attr(n,"class","user-search-container svelte-10cphl4"),attr(t,"class","user-search-wrap svelte-10cphl4")},m(a,h){insert(a,t,h),append(t,n),append(n,r),append(r,o),set_input_value(o,e[1]),append(r,s),m[i].m(r,null),append(r,l),append(r,c),d=!0,p||(u=[listen(o,"focus",e[4]),listen(o,"blur",e[5]),listen(o,"input",e[7]),listen(c,"click",prevent_default(e[6]))],p=!0)},p(e,[t]){2&t&&o.value!==e[1]&&set_input_value(o,e[1]);let n=i;(i=f(e))===n?m[i].p(e,t):(group_outros(),transition_out(m[n],1,1,()=>{m[n]=null}),check_outros(),(a=m[i])?a.p(e,t):(a=m[i]=h[i](e)).c(),transition_in(a,1),a.m(r,l))},i(e){d||(transition_in(a),d=!0)},o(e){transition_out(a),d=!1},d(e){e&&detach(t),m[i].d(),p=!1,run_all(u)}}}function labelHandle(){document.querySelector(".search-input").focus=!0}function instance$3(e,t,n){const[r,o]=crossfade({});let s=!1,i=null;return[s,i,r,o,function(){n(0,s=!0),console.log("focused",s)},function(){n(0,s=!1),console.log("blurred",s)},function(){f.goto("/user/browse")},function(){i=this.value,n(1,i)}]}class UserSearch extends SvelteComponent{constructor(e){super(),init(this,e,instance$3,create_fragment$4,safe_not_equal,{})}}function create_else_block$1(e){let t,n;return{c(){attr(t=element("img"),"class","bg svelte-1o00h1u"),src_url_equal(t.src,n="/public/main_page_bg.JPG")||attr(t,"src","/public/main_page_bg.JPG"),attr(t,"height","100%")},m(n,r){insert(n,t,r),e[7](t)},p:noop,d(n){n&&detach(t),e[7](null)}}}function create_if_block$2(e){let t,n;return{c(){attr(t=element("img"),"class","bg svelte-1o00h1u"),src_url_equal(t.src,n="/public/main_page_bg.JPG")||attr(t,"src","/public/main_page_bg.JPG"),attr(t,"width","100%")},m(n,r){insert(n,t,r),e[6](t)},p:noop,d(n){n&&detach(t),e[6](null)}}}function create_fragment$5(e){let t,n,r,o,s,i,a,l,c,d,p,u;function h(e,t){return e[4]?create_if_block$2:create_else_block$1}add_render_callback(e[5]);let m=h(e),f=m(e);return a=new UserSearch({}),{c(){t=element("div"),n=element("div"),f.c(),r=space(),(o=element("div")).innerHTML='<div class="user-panel svelte-1o00h1u"><a href="/manage" class="manage-nav svelte-1o00h1u"><h3 class="svelte-1o00h1u">관리자</h3></a> \n            <a href="/auth/login" class="login-nav svelte-1o00h1u"><h3 class="svelte-1o00h1u">로그인</h3></a></div>',s=space(),i=element("div"),create_component(a.$$.fragment),l=space(),(c=element("div")).innerHTML='<div class="info-header"><h3 class="h3-header">기록물 등록 현황</h3></div> \n        <div class="info-container svelte-1o00h1u"><div class="info-item svelte-1o00h1u"><div class="info-title svelte-1o00h1u"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="32px" width="32px" fill="none"><path stroke-linecap="round" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"></path></svg></div> \n                <div class="statistics svelte-1o00h1u"><div class="number-container svelte-1o00h1u"><h3 class="number svelte-1o00h1u">3</h3></div> \n                    <h3 class="count svelte-1o00h1u">개</h3></div></div> \n\n            <div class="wall svelte-1o00h1u"></div> \n            \n            <div class="info-item svelte-1o00h1u"><div class="info-title svelte-1o00h1u"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="32px" width="32px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg></div> \n                <div class="statistics svelte-1o00h1u"><div class="number-container svelte-1o00h1u"><h3 class="number svelte-1o00h1u">3</h3></div> \n                    <h3 class="count svelte-1o00h1u">개</h3></div></div> \n\n            <div class="wall svelte-1o00h1u"></div> \n            \n            <div class="info-item svelte-1o00h1u"><div class="info-title svelte-1o00h1u"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="32px" width="32px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg></div> \n                <div class="statistics svelte-1o00h1u"><div class="number-container svelte-1o00h1u"><h3 class="number svelte-1o00h1u">3</h3></div> \n                    <h3 class="count svelte-1o00h1u">개</h3></div></div></div>',attr(n,"class","background-img svelte-1o00h1u"),attr(o,"class","user-panel-wrap svelte-1o00h1u"),attr(i,"class","search-wrap svelte-1o00h1u"),attr(c,"class","info-wrap svelte-1o00h1u"),attr(t,"class","main-view-home svelte-1o00h1u")},m(h,m){insert(h,t,m),append(t,n),f.m(n,null),append(t,r),append(t,o),append(t,s),append(t,i),mount_component(a,i,null),append(t,l),append(t,c),e[8](t),d=!0,p||(u=listen(window,"resize",e[5]),p=!0)},p(e,[t]){m===(m=h(e))&&f?f.p(e,t):(f.d(1),(f=m(e))&&(f.c(),f.m(n,null)))},i(e){d||(transition_in(a.$$.fragment,e),d=!0)},o(e){transition_out(a.$$.fragment,e),d=!1},d(n){n&&detach(t),f.d(),destroy_component(a),e[8](null),p=!1,u()}}}function instance$4(e,t,n){let r,o,s,i,a=!0;return e.$$.update=(()=>{15&e.$$.dirty&&s&&i&&(o/r>=i.offsetWidth/i.offsetHeight?n(4,a=!0):n(4,a=!1))}),[r,o,s,i,a,function(){n(0,r=window.innerHeight),n(1,o=window.innerWidth)},function(e){binding_callbacks[e?"unshift":"push"](()=>{n(3,i=e)})},function(e){binding_callbacks[e?"unshift":"push"](()=>{n(3,i=e)})},function(e){binding_callbacks[e?"unshift":"push"](()=>{n(2,s=e)})}]}class UserMain extends SvelteComponent{constructor(e){super(),init(this,e,instance$4,create_fragment$5,safe_not_equal,{})}}var bind=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},toString=Object.prototype.toString,kindOf=(cache=Object.create(null),function(e){var t=toString.call(e);return cache[t]||(cache[t]=t.slice(8,-1).toLowerCase())}),cache;function kindOfTest(e){return e=e.toLowerCase(),function(t){return kindOf(t)===e}}function isArray(e){return Array.isArray(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&isArrayBuffer(e.buffer)}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject(e){return null!==e&&"object"==typeof e}function isPlainObject(e){if("object"!==kindOf(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isFormData(e){return e&&("function"==typeof FormData&&e instanceof FormData||"[object FormData]"===toString.call(e)||isFunction(e.toString)&&"[object FormData]"===e.toString())}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function merge(){var e={};function t(t,n){isPlainObject(e[n])&&isPlainObject(t)?e[n]=merge(e[n],t):isPlainObject(t)?e[n]=merge({},t):isArray(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],t);return e}function extend(e,t,n){return forEach(t,function(t,r){e[r]=n&&"function"==typeof t?bind(t,n):t}),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function inherits(e,t,n,r){e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,n&&Object.assign(e.prototype,n)}function toFlatObject(e,t,n){var r,o,s,i={};t=t||{};do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)i[s=r[o]]||(t[s]=e[s],i[s]=!0);e=Object.getPrototypeOf(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t}function endsWith(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var r=e.indexOf(t,n);return-1!==r&&r===n}function toArray(e){if(!e)return null;var t=e.length;if(isUndefined(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n}var isTypedArray=(TypedArray="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(e){return TypedArray&&e instanceof TypedArray}),TypedArray,utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isPlainObject:isPlainObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim,stripBOM:stripBOM,inherits:inherits,toFlatObject:toFlatObject,kindOf:kindOf,kindOfTest:kindOfTest,endsWith:endsWith,toArray:toArray,isTypedArray:isTypedArray,isFileList:isFileList};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(utils.isURLSearchParams(t))r=t.toString();else{var o=[];utils.forEach(t,function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),o.push(encode(t)+"="+encode(e))}))}),r=o.join("&")}if(r){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(t){null!==t&&e(t)})};var InterceptorManager_1=InterceptorManager,normalizeHeaderName=function(e,t){utils.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})};function AxiosError(e,t,n,r,o){Error.call(this),this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}utils.inherits(AxiosError,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(e){descriptors[e]={value:e}}),Object.defineProperties(AxiosError,descriptors),Object.defineProperty(prototype,"isAxiosError",{value:!0}),AxiosError.from=function(e,t,n,r,o,s){var i=Object.create(prototype);return utils.toFlatObject(e,i,function(e){return e!==Error.prototype}),AxiosError.call(i,e.message,t,n,r,o),i.name=e.name,s&&Object.assign(i,s),i};var AxiosError_1=AxiosError,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function toFormData(e,t){t=t||new FormData;var n=[];function r(e){return null===e?"":utils.isDate(e)?e.toISOString():utils.isArrayBuffer(e)||utils.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(o,s){if(utils.isPlainObject(o)||utils.isArray(o)){if(-1!==n.indexOf(o))throw Error("Circular reference detected in "+s);n.push(o),utils.forEach(o,function(n,o){if(!utils.isUndefined(n)){var i,a=s?s+"."+o:o;if(n&&!s&&"object"==typeof n)if(utils.endsWith(o,"{}"))n=JSON.stringify(n);else if(utils.endsWith(o,"[]")&&(i=utils.toArray(n)))return void i.forEach(function(e){!utils.isUndefined(e)&&t.append(a,r(e))});e(n,a)}}),n.pop()}else t.append(s,r(o))}(e),t}var toFormData_1=toFormData,settle=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new AxiosError_1("Request failed with status code "+n.status,[AxiosError_1.ERR_BAD_REQUEST,AxiosError_1.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)},cookies=utils.isStandardBrowserEnv()?{write:function(e,t,n,r,o,s){var i=[];i.push(e+"="+encodeURIComponent(t)),utils.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),utils.isString(r)&&i.push("path="+r),utils.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},isAbsoluteURL=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},buildFullPath=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(e){var t,n,r,o={};return e?(utils.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=utils.trim(e.substr(0,r)).toLowerCase(),n=utils.trim(e.substr(r+1)),t){if(o[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}}),o):o},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=utils.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0};function CanceledError(e){AxiosError_1.call(this,null==e?"canceled":e,AxiosError_1.ERR_CANCELED),this.name="CanceledError"}utils.inherits(CanceledError,AxiosError_1,{__CANCEL__:!0});var CanceledError_1=CanceledError,parseProtocol=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""},xhr=function(e){return new Promise(function(t,n){var r,o=e.data,s=e.headers,i=e.responseType;function a(){e.cancelToken&&e.cancelToken.unsubscribe(r),e.signal&&e.signal.removeEventListener("abort",r)}utils.isFormData(o)&&utils.isStandardBrowserEnv()&&delete s["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var c=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(c+":"+d)}var p=buildFullPath(e.baseURL,e.url);function u(){if(l){var r="getAllResponseHeaders"in l?parseHeaders(l.getAllResponseHeaders()):null,o={data:i&&"text"!==i&&"json"!==i?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l};settle(function(e){t(e),a()},function(e){n(e),a()},o),l=null}}if(l.open(e.method.toUpperCase(),buildURL(p,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=u:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(u)},l.onabort=function(){l&&(n(new AxiosError_1("Request aborted",AxiosError_1.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new AxiosError_1("Network Error",AxiosError_1.ERR_NETWORK,e,l,l)),l=null},l.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",r=e.transitional||transitional;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new AxiosError_1(t,r.clarifyTimeoutError?AxiosError_1.ETIMEDOUT:AxiosError_1.ECONNABORTED,e,l)),l=null},utils.isStandardBrowserEnv()){var h=(e.withCredentials||isURLSameOrigin(p))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;h&&(s[e.xsrfHeaderName]=h)}"setRequestHeader"in l&&utils.forEach(s,function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete s[t]:l.setRequestHeader(t,e)}),utils.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),i&&"json"!==i&&(l.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(r=function(e){l&&(n(!e||e&&e.type?new CanceledError_1:e),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(r),e.signal&&(e.signal.aborted?r():e.signal.addEventListener("abort",r))),o||(o=null);var m=parseProtocol(p);m&&-1===["http","https","file"].indexOf(m)?n(new AxiosError_1("Unsupported protocol "+m+":",AxiosError_1.ERR_BAD_REQUEST,e)):l.send(o)})},_null=null,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=xhr:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(e=xhr),e}function stringifySafely(e,t,n){if(utils.isString(e))try{return(t||JSON.parse)(e),utils.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(n||JSON.stringify)(e)}var defaults={transitional:transitional,adapter:getDefaultAdapter(),transformRequest:[function(e,t){if(normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e))return e;if(utils.isArrayBufferView(e))return e.buffer;if(utils.isURLSearchParams(e))return setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var n,r=utils.isObject(e),o=t&&t["Content-Type"];if((n=utils.isFileList(e))||r&&"multipart/form-data"===o){var s=this.env&&this.env.FormData;return toFormData_1(n?{"files[]":e}:e,s&&new s)}return r||"application/json"===o?(setContentTypeIfUnset(t,"application/json"),stringifySafely(e)):e}],transformResponse:[function(e){var t=this.transitional||defaults.transitional,n=t&&t.silentJSONParsing,r=t&&t.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||r&&utils.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(o){if("SyntaxError"===e.name)throw AxiosError_1.from(e,AxiosError_1.ERR_BAD_RESPONSE,this,null,this.response);throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_null},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults,transformData=function(e,t,n){var r=this||defaults_1;return utils.forEach(n,function(n){e=n.call(r,e,t)}),e},isCancel=function(e){return!(!e||!e.__CANCEL__)};function throwIfCancellationRequested(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new CanceledError_1}var dispatchRequest=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData.call(e,e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||defaults_1.adapter)(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData.call(e,t.data,t.headers,e.transformResponse),t},function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})},mergeConfig=function(e,t){t=t||{};var n={};function r(e,t){return utils.isPlainObject(e)&&utils.isPlainObject(t)?utils.merge(e,t):utils.isPlainObject(t)?utils.merge({},t):utils.isArray(t)?t.slice():t}function o(n){return utils.isUndefined(t[n])?utils.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function s(e){if(!utils.isUndefined(t[e]))return r(void 0,t[e])}function i(n){return utils.isUndefined(t[n])?utils.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function a(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a};return utils.forEach(Object.keys(e).concat(Object.keys(t)),function(e){var t=l[e]||o,r=t(e);utils.isUndefined(r)&&t!==a||(n[e]=r)}),n},data={version:"0.27.2"},VERSION=data.version,validators={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){validators[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});var deprecatedWarnings={};function assertOptions(e,t,n){if("object"!=typeof e)throw new AxiosError_1("options must be an object",AxiosError_1.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(e),o=r.length;o-- >0;){var s=r[o],i=t[s];if(i){var a=e[s],l=void 0===a||i(a,s,e);if(!0!==l)throw new AxiosError_1("option "+s+" must be "+l,AxiosError_1.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new AxiosError_1("Unknown option "+s,AxiosError_1.ERR_BAD_OPTION)}}validators.transitional=function(e,t,n){function r(e,t){return"[Axios v"+VERSION+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,o,s){if(!1===e)throw new AxiosError_1(r(o," has been removed"+(t?" in "+t:"")),AxiosError_1.ERR_DEPRECATED);return t&&!deprecatedWarnings[o]&&(deprecatedWarnings[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,s)}};var validator={assertOptions:assertOptions,validators:validators},validators$1=validator.validators;function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=mergeConfig(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&validator.assertOptions(n,{silentJSONParsing:validators$1.transitional(validators$1.boolean),forcedJSONParsing:validators$1.transitional(validators$1.boolean),clarifyTimeoutError:validators$1.transitional(validators$1.boolean)},!1);var r=[],o=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var s,i=[];if(this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)}),!o){var a=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(a,r),a=a.concat(i),s=Promise.resolve(t);a.length;)s=s.then(a.shift(),a.shift());return s}for(var l=t;r.length;){var c=r.shift(),d=r.shift();try{l=c(l)}catch(e){d(e);break}}try{s=dispatchRequest(l)}catch(e){return Promise.reject(e)}for(;i.length;)s=s.then(i.shift(),i.shift());return s},Axios.prototype.getUri=function(e){e=mergeConfig(this.defaults,e);var t=buildFullPath(e.baseURL,e.url);return buildURL(t,e.params,e.paramsSerializer)},utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,n){return this.request(mergeConfig(n||{},{method:e,url:t,data:(n||{}).data}))}}),utils.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,o){return this.request(mergeConfig(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Axios.prototype[e]=t(),Axios.prototype[e+"Form"]=t(!0)});var Axios_1=Axios;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;this.promise.then(function(e){if(n._listeners){var t,r=n._listeners.length;for(t=0;t<r;t++)n._listeners[t](e);n._listeners=null}}),this.promise.then=function(e){var t,r=new Promise(function(e){n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e){n.reason||(n.reason=new CanceledError_1(e),t(n.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},CancelToken.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},CancelToken.source=function(){var e;return{token:new CancelToken(function(t){e=t}),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}},isAxiosError=function(e){return utils.isObject(e)&&!0===e.isAxiosError};function createInstance(e){var t=new Axios_1(e),n=bind(Axios_1.prototype.request,t);return utils.extend(n,Axios_1.prototype,t),utils.extend(n,t),n.create=function(t){return createInstance(mergeConfig(e,t))},n}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.CanceledError=CanceledError_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.VERSION=data.version,axios.toFormData=toFormData_1,axios.AxiosError=AxiosError_1,axios.Cancel=axios.CanceledError,axios.all=function(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError;var axios_1=axios,default_1=axios;axios_1.default=default_1;var axios$1=axios_1;function create_fragment$6(e){let t;return{c(){attr(t=element("div"),"class","circle svelte-dqjlks"),set_style(t,"--size",e[3]+e[1]),set_style(t,"--color",e[0]),set_style(t,"--duration",e[2]),toggle_class(t,"pause-animation",e[4])},m(e,n){insert(e,t,n)},p(e,[n]){10&n&&set_style(t,"--size",e[3]+e[1]),1&n&&set_style(t,"--color",e[0]),4&n&&set_style(t,"--duration",e[2]),16&n&&toggle_class(t,"pause-animation",e[4])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$5(e,t,n){let{color:r="#FF3E00"}=t,{unit:o="px"}=t,{duration:s="0.75s"}=t,{size:i="60"}=t,{pause:a=!1}=t;return e.$$set=(e=>{"color"in e&&n(0,r=e.color),"unit"in e&&n(1,o=e.unit),"duration"in e&&n(2,s=e.duration),"size"in e&&n(3,i=e.size),"pause"in e&&n(4,a=e.pause)}),[r,o,s,i,a]}class Circle extends SvelteComponent{constructor(e){super(),init(this,e,instance$5,create_fragment$6,safe_not_equal,{color:0,unit:1,duration:2,size:3,pause:4})}}function get_each_context(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function create_else_block$2(e){let t,n,r,o,s,i;return{c(){t=element("label"),n=element("h3"),r=text(e[1]),attr(n,"class","svelte-4m851m"),attr(t,"for","input"),attr(t,"class","label svelte-4m851m")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||2&t)&&set_data(r,e[1])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"unfocused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"focused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_if_block_2(e){let t,n,r,o,s,i;return{c(){t=element("label"),n=element("h3"),r=text(e[1]),attr(n,"class","svelte-4m851m"),attr(t,"for","input"),attr(t,"class","label-focused svelte-4m851m")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||2&t)&&set_data(r,e[1])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"focused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"unfocused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_if_block_1(e){let t,n,r=e[14].not_satisfied_text+"";return{c(){t=element("h3"),n=text(r),attr(t,"class","not-satisfied svelte-4m851m")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){4&t&&r!==(r=e[14].not_satisfied_text+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_each_block(e){let t,n=!e[14].condition(e[0]),r=n&&create_if_block_1(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,o){5&o&&(n=!e[14].condition(e[0])),n?r?r.p(e,o):((r=create_if_block_1(e)).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detach(t)}}}function create_if_block$3(e){let t,n,r=e[2][0].satisfied_text+"";return{c(){t=element("h3"),n=text(r),attr(t,"class","satisfied svelte-4m851m")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){4&t&&r!==(r=e[2][0].satisfied_text+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_fragment$7(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m;const f=[create_if_block_2,create_else_block$2],g=[];function v(e,t){return e[3]||e[0]?0:1}s=v(e),i=g[s]=f[s](e);let _=e[2],w=[];for(let t=0;t<_.length;t+=1)w[t]=create_each_block(get_each_context(e,_,t));let b=e[4]&&create_if_block$3(e);return{c(){t=element("div"),n=element("div"),r=element("input"),o=space(),i.c(),l=space(),c=element("div"),d=element("div");for(let e=0;e<w.length;e+=1)w[e].c();p=space(),b&&b.c(),attr(r,"class","input svelte-4m851m"),attr(r,"type","text"),attr(n,"class",a=null_to_empty(e[4]?"input-container":"input-container-not-satisfied")+" svelte-4m851m"),attr(d,"class","warning-container svelte-4m851m"),attr(c,"class","warning-wrap svelte-4m851m"),attr(t,"class","input-wrap svelte-4m851m")},m(i,a){insert(i,t,a),append(t,n),append(n,r),set_input_value(r,e[0]),append(n,o),g[s].m(n,null),append(t,l),append(t,c),append(c,d);for(let e=0;e<w.length;e+=1)w[e].m(d,null);append(d,p),b&&b.m(d,null),u=!0,h||(m=[listen(r,"focus",e[7]),listen(r,"blur",e[8]),listen(r,"input",e[11])],h=!0)},p(e,[t]){1&t&&r.value!==e[0]&&set_input_value(r,e[0]);let o=s;if((s=v(e))===o?g[s].p(e,t):(group_outros(),transition_out(g[o],1,1,()=>{g[o]=null}),check_outros(),(i=g[s])?i.p(e,t):(i=g[s]=f[s](e)).c(),transition_in(i,1),i.m(n,null)),(!u||16&t&&a!==(a=null_to_empty(e[4]?"input-container":"input-container-not-satisfied")+" svelte-4m851m"))&&attr(n,"class",a),5&t){let n;for(_=e[2],n=0;n<_.length;n+=1){const r=get_each_context(e,_,n);w[n]?w[n].p(r,t):(w[n]=create_each_block(r),w[n].c(),w[n].m(d,p))}for(;n<w.length;n+=1)w[n].d(1);w.length=_.length}e[4]?b?b.p(e,t):((b=create_if_block$3(e)).c(),b.m(d,null)):b&&(b.d(1),b=null)},i(e){u||(transition_in(i),u=!0)},o(e){transition_out(i),u=!1},d(e){e&&detach(t),g[s].d(),destroy_each(w,e),b&&b.d(),h=!1,run_all(m)}}}function instance$6(e,t,n){const[r,o]=crossfade({});var s=createEventDispatcher();let{init:i=""}=t,{immutable:a=!1}=t,{placeholder:l=null}=t,{value:c=""}=t,{conditions:d=[{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""}]}=t,p=!1,u=!1;function h(e){let t=!0;return d.forEach(n=>{n.condition(e)||(t=!1)}),t}return onMount(()=>{n(0,c=i)}),e.$$set=(e=>{"init"in e&&n(9,i=e.init),"immutable"in e&&n(10,a=e.immutable),"placeholder"in e&&n(1,l=e.placeholder),"value"in e&&n(0,c=e.value),"conditions"in e&&n(2,d=e.conditions)}),e.$$.update=(()=>{1537&e.$$.dirty&&a&&(n(0,c),n(10,a),n(9,i),n(0,c=i)),1&e.$$.dirty&&s("change",{value:c,pass:h(c)}),1&e.$$.dirty&&n(4,u=h(c))}),[c,l,d,p,u,r,o,function(){n(3,p=!0)},function(){n(3,p=!1)},i,a,function(){c=this.value,n(0,c),n(10,a),n(9,i)}]}class InputSingleValue extends SvelteComponent{constructor(e){super(),init(this,e,instance$6,create_fragment$7,safe_not_equal,{init:9,immutable:10,placeholder:1,value:0,conditions:2})}}const get_content_slot_changes=e=>({}),get_content_slot_context=e=>({}),get_header_slot_changes=e=>({}),get_header_slot_context=e=>({});function create_if_block$4(e){let t,n,r,o,s,i,a,l,c,d,p;const u=e[3].header,h=create_slot(u,e,e[2],get_header_slot_context),m=e[3].content,f=create_slot(m,e,e[2],get_content_slot_context);return{c(){t=element("div"),n=element("div"),(r=element("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="rgb(226, 41, 41)" height="100" width="100"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg>',o=space(),h&&h.c(),s=space(),f&&f.c(),attr(r,"class","svg-holder svelte-tn4oii"),attr(n,"class","modal svelte-tn4oii"),attr(n,"role","dialog"),attr(n,"aria-modal","true"),attr(t,"class","modal-background svelte-tn4oii")},m(i,a){insert(i,t,a),append(t,n),append(n,r),append(n,o),h&&h.m(n,null),append(n,s),f&&f.m(n,null),c=!0,d||(p=listen(t,"click",e[1]),d=!0)},p(e,t){h&&h.p&&(!c||4&t)&&update_slot_base(h,u,e,e[2],c?get_slot_changes(u,e[2],t,get_header_slot_changes):get_all_dirty_from_scope(e[2]),get_header_slot_context),f&&f.p&&(!c||4&t)&&update_slot_base(f,m,e,e[2],c?get_slot_changes(m,e[2],t,get_content_slot_changes):get_all_dirty_from_scope(e[2]),get_content_slot_context)},i(e){c||(transition_in(h,e),transition_in(f,e),add_render_callback(()=>{i||(i=create_bidirectional_transition(n,fly,{delay:200,duration:300,x:0,y:-50,opacity:.5},!0)),i.run(1)}),add_render_callback(()=>{l&&l.end(1),(a=create_in_transition(t,fade,{delay:0,duration:300})).start()}),c=!0)},o(e){transition_out(h,e),transition_out(f,e),i||(i=create_bidirectional_transition(n,fly,{delay:200,duration:300,x:0,y:-50,opacity:.5},!1)),i.run(0),a&&a.invalidate(),l=create_out_transition(t,fade,{delay:300,duration:300}),c=!1},d(e){e&&detach(t),h&&h.d(e),f&&f.d(e),e&&i&&i.end(),e&&l&&l.end(),d=!1,p()}}}function create_fragment$8(e){let t,n,r=e[0]&&create_if_block$4(e);return{c(){r&&r.c(),t=empty()},m(e,o){r&&r.m(e,o),insert(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&transition_in(r,1)):((r=create_if_block$4(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance$7(e,t,n){let{$$slots:r={},$$scope:o}=t,{modalActive:s=!1}=t;var i=createEventDispatcher();return e.$$set=(e=>{"modalActive"in e&&n(0,s=e.modalActive),"$$scope"in e&&n(2,o=e.$$scope)}),[s,function(){n(0,s=!1),i("close",{modalActive:s})},o,r]}class DefaultModal extends SvelteComponent{constructor(e){super(),init(this,e,instance$7,create_fragment$8,safe_not_equal,{modalActive:0})}}const condition_set={};function create_catch_block(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x;return(a=new InputSingleValue({props:{value:e[0],placeholder:"아이디",conditions:condition_set.registered_id_conditions}})).$on("change",e[8]),(d=new InputSingleValue({props:{value:e[1],placeholder:"비밀번호",conditions:condition_set.default_conditions}})).$on("change",e[9]),{c(){t=element("div"),(n=element("div")).innerHTML='<h3 class="svelte-1vr07tj">로그인</h3> \n                <h4 class="svelte-1vr07tj">해사미디어아카이브에 오신 것을 환영합니다!</h4>',r=space(),o=element("form"),s=element("div"),i=element("div"),create_component(a.$$.fragment),l=space(),c=element("div"),create_component(d.$$.fragment),p=space(),u=element("div"),(h=element("button")).innerHTML='<svg class="svg svelte-1vr07tj" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"></path></svg> \n                        <h3 class="svelte-1vr07tj">로그인</h3>',m=space(),f=element("div"),g=element("div"),(v=element("button")).innerHTML='<svg class="svg svelte-1vr07tj" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M19 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zM4 19.235v-.11a6.375 6.375 0 0112.75 0v.109A12.318 12.318 0 0110.374 21c-2.331 0-4.512-.645-6.374-1.766z"></path></svg> \n                        <h3 class="svelte-1vr07tj">회원가입</h3>',_=space(),(w=element("div")).innerHTML='<a href="/auth/recovery" class="svelte-1vr07tj">비밀번호가 기억이 나지 않나요 ?</a>',b=space(),(y=element("div")).innerHTML='<h4 class="svelte-1vr07tj">미디어 아카이브 체계에 제공되는 개인정보는 1년의 유휴기간 이후 자동 소멸됩니다.\n                    또한 미디어 아카이브 체계가 제공하는 모든 자료들은 비공개 자료로 특별한 허가 없이\n                    타인에게 제공하는 등의 행위는 위법이므로 자료 활용에 주의를 바랍니다.</h4>',attr(n,"class","title svelte-1vr07tj"),attr(i,"class","username svelte-1vr07tj"),attr(c,"class","password svelte-1vr07tj"),attr(s,"class","form-input"),attr(h,"class","svelte-1vr07tj"),attr(u,"class","form-btn svelte-1vr07tj"),attr(o,"class","login-form svelte-1vr07tj"),attr(v,"class","svelte-1vr07tj"),attr(g,"class","signin-wrap svelte-1vr07tj"),attr(w,"class","forgot-wrap svelte-1vr07tj"),attr(y,"class","license-wrap svelte-1vr07tj"),attr(f,"class","miscel-wrap svelte-1vr07tj"),attr(t,"class","login-form-wrap svelte-1vr07tj")},m(S,M){insert(S,t,M),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),mount_component(a,i,null),append(s,l),append(s,c),mount_component(d,c,null),append(o,p),append(o,u),append(u,h),append(t,m),append(t,f),append(f,g),append(g,v),append(f,_),append(f,w),append(f,b),append(f,y),k=!0,$||(x=[listen(h,"click",prevent_default(e[4])),listen(v,"click",prevent_default(e[3]))],$=!0)},p(e,t){const n={};1&t&&(n.value=e[0]),a.$set(n);const r={};2&t&&(r.value=e[1]),d.$set(r)},i(e){k||(transition_in(a.$$.fragment,e),transition_in(d.$$.fragment,e),k=!0)},o(e){transition_out(a.$$.fragment,e),transition_out(d.$$.fragment,e),k=!1},d(e){e&&detach(t),destroy_component(a),destroy_component(d),$=!1,run_all(x)}}}function create_then_block(e){return{c:noop,m:noop,p:noop,i:noop,o:noop,d:noop}}function create_pending_block(e){let t,n;return t=new Circle({props:{size:"60",color:"rgb(31, 32, 88)",unit:"px",duration:"1s"}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p:noop,i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_header_slot(e){let t;return{c(){(t=element("h3")).textContent="This is Header",attr(t,"slot","header")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_content_slot(e){let t;return{c(){(t=element("h3")).textContent="This is Content",attr(t,"slot","content")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_fragment$9(e){let t,n,r,o,s,i={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block,then:create_then_block,catch:create_catch_block,value:14,error:15,blocks:[,,,]};return handle_promise(n=e[5](),i),(o=new DefaultModal({props:{modalActive:e[2],$$slots:{content:[create_content_slot],header:[create_header_slot]},$$scope:{ctx:e}}})).$on("close",e[7]),{c(){t=element("div"),i.block.c(),r=space(),create_component(o.$$.fragment),attr(t,"class","login-wrap svelte-1vr07tj")},m(e,n){insert(e,t,n),i.block.m(t,i.anchor=null),i.mount=(()=>t),i.anchor=null,insert(e,r,n),mount_component(o,e,n),s=!0},p(t,[n]){update_await_block_branch(i,e=t,n);const r={};4&n&&(r.modalActive=e[2]),65536&n&&(r.$$scope={dirty:n,ctx:e}),o.$set(r)},i(e){s||(transition_in(i.block),transition_in(o.$$.fragment,e),s=!0)},o(e){for(let e=0;e<3;e+=1){transition_out(i.blocks[e])}transition_out(o.$$.fragment,e),s=!1},d(e){e&&detach(t),i.block.d(),i.token=null,i=null,e&&detach(r),destroy_component(o,e)}}}function instance$8(e,t,n){let r;component_subscribe(e,token,e=>n(12,r=e));let o="",s="",i="",a="",l=!1;function c(e,t){"username"==t?(o=e.detail.value,console.log(o)):"password"==t&&(s=e.detail.value,console.log(s))}return[i,a,l,function(){f.goto("/auth/signin")},async function(){try{let e=(await axios$1({url:"http://localhost:8000/drf/user/login",method:"post",data:{username:o,password:s},header:{"X-Requested-With":"XMLHttpRequest"}})).data.token;localStorage.setItem("token",e),token.set(e),f.goto("/manage/")}catch(e){n(0,i=""),n(1,a=""),o="",s="",n(2,l=!0),console.log(e)}},async function(){try{let e=await axios$1({url:"http://localhost:8000/drf/user/check-status",method:"get",headers:{Authorization:`Token ${r}`}});return setTimeout(()=>{f.goto("/manage")},1),e}catch(e){throw e}},c,function(e){n(2,l=e.detail.modalActive)},e=>c(e,"username"),e=>c(e,"password")]}condition_set.default_conditions=[{condition:e=>e.length>=1,name:"longerThanOneLetter",not_satisfied_text:"최소 한자 이상 들어가야 합니다",satisfied_text:"좋습니다!"},{condition:e=>e.length<=20,name:"shorterThanGivenLength",not_satisfied_text:"더 짧게 입력해주세요"}],condition_set.attendee_conditions=[{condition:e=>{let t=e.split(" ");return t.length>=1&&""!=t[0]&&"#"!=t[0]},name:"longerThanOneWord",not_satisfied_text:"인물이 한명 이상 들어가야 합니다",satisfied_text:"좋습니다!"}],condition_set.select_conditions=[{condition:e=>-1!=e,name:"pickOne",not_satisfied_text:"한개를 반드시 선택해야 합니다",satisfied_text:"좋습니다!"}],condition_set.unchangable_conditions=(e=>[{condition:e=>!0,name:"unchangable",not_satisfied_text:"오류",satisfied_text:`${e} 임의로 바꿀 수 없습니다`}]),condition_set.registered_id_conditions=[{condition:e=>!(e.length<6),name:"longerThanSixLetters",not_satisfied_text:"아이디는 최소 6자 이상이어야 합니다",satisfied_text:"좋습니다!"},{condition:e=>!e.includes(" "),name:"noWhiteSpace",not_satisfied_text:"공백이 들어가서는 안됩니다",satisfied_text:"좋습니다!"}];class Login extends SvelteComponent{constructor(e){super(),init(this,e,instance$8,create_fragment$9,safe_not_equal,{})}}function create_fragment$a(e){let t;return{c(){(t=element("div")).innerHTML='<h3 class="svelte-15v3no">회원가입</h3> \n    <div class="keyword-holder-wrap svelte-15v3no"><div class="keyword-holder-label svelte-15v3no"><h3 class="svelte-15v3no">해사미디어아카이브에 오신것을 환영합니다!</h3></div></div>',attr(t,"class","browse-content-title svelte-15v3no")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class SignInTitle extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$a,safe_not_equal,{})}}function create_fragment$b(e){let t;return{c(){(t=element("div")).innerHTML='<div class="select-all-or-reset svelte-1tv1249"><h3 class="svelte-1tv1249">전체선택</h3></div> \n        <div class="search-panel svelte-1tv1249"><div class="search-icon-wrap svelte-1tv1249"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6" height="25px" width="25px"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></div> \n            <div class="search-bar svelte-1tv1249"><input class="search-input svelte-1tv1249"/></div></div> \n        \n        <div class="select svelte-1tv1249"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="30px" width="30px" fill="none"><path stroke-linecap="round" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"></path></svg></div> \n        \n        <div class="select svelte-1tv1249"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="30px" width="30px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg></div> \n        \n        <div class="select svelte-1tv1249"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="30px" width="30px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg></div> \n        \n        <div class="select svelte-1tv1249"><div class="btn svelte-1tv1249"><h3 class="svelte-1tv1249">인물</h3></div></div> \n        <div class="select svelte-1tv1249"><div class="btn svelte-1tv1249"><h3 class="svelte-1tv1249">제목</h3></div></div> \n        <div class="select svelte-1tv1249"><div class="btn svelte-1tv1249"><h3 class="svelte-1tv1249">장소</h3></div></div> \n        <div class="select svelte-1tv1249"><div class="btn svelte-1tv1249"><h3 class="svelte-1tv1249">최근순</h3></div></div> \n        <div class="select svelte-1tv1249"><div class="search-btn svelte-1tv1249"><h3 class="svelte-1tv1249">검색</h3></div></div>',attr(t,"class","search-main svelte-1tv1249")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Search extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$b,safe_not_equal,{})}}function get_each_context$1(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function create_else_block$3(e){let t,n,r,o,s,i;return{c(){t=element("label"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-4m851m"),attr(t,"for","input"),attr(t,"class","label svelte-4m851m")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"unfocused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"focused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_if_block_2$1(e){let t,n,r,o,s,i;return{c(){t=element("label"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-4m851m"),attr(t,"for","input"),attr(t,"class","label-focused svelte-4m851m")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"focused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"unfocused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_if_block_1$1(e){let t,n,r=e[16].not_satisfied_text+"";return{c(){t=element("h3"),n=text(r),attr(t,"class","not-satisfied svelte-4m851m")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){2&t&&r!==(r=e[16].not_satisfied_text+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_each_block$1(e){let t,n=!e[16].condition(e[4]),r=n&&create_if_block_1$1(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,o){18&o&&(n=!e[16].condition(e[4])),n?r?r.p(e,o):((r=create_if_block_1$1(e)).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detach(t)}}}function create_if_block$5(e){let t,n,r=e[1][0].satisfied_text+"";return{c(){t=element("h3"),n=text(r),attr(t,"class","satisfied svelte-4m851m")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){2&t&&r!==(r=e[1][0].satisfied_text+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_fragment$c(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m;const f=[create_if_block_2$1,create_else_block$3],g=[];function v(e,t){return e[2]||e[4]?0:1}s=v(e),i=g[s]=f[s](e);let _=e[1],w=[];for(let t=0;t<_.length;t+=1)w[t]=create_each_block$1(get_each_context$1(e,_,t));let b=e[3]&&create_if_block$5(e);return{c(){t=element("div"),n=element("div"),r=element("input"),o=space(),i.c(),l=space(),c=element("div"),d=element("div");for(let e=0;e<w.length;e+=1)w[e].c();p=space(),b&&b.c(),attr(r,"class","input svelte-4m851m"),attr(r,"type","text"),attr(n,"class",a=null_to_empty(e[3]?"input-container":"input-container-not-satisfied")+" svelte-4m851m"),attr(d,"class","warning-container svelte-4m851m"),attr(c,"class","warning-wrap svelte-4m851m"),attr(t,"class","input-wrap svelte-4m851m")},m(i,a){insert(i,t,a),append(t,n),append(n,r),set_input_value(r,e[4]),append(n,o),g[s].m(n,null),append(t,l),append(t,c),append(c,d);for(let e=0;e<w.length;e+=1)w[e].m(d,null);append(d,p),b&&b.m(d,null),u=!0,h||(m=[listen(r,"focus",e[7]),listen(r,"blur",e[8]),listen(r,"input",e[13])],h=!0)},p(e,[t]){16&t&&r.value!==e[4]&&set_input_value(r,e[4]);let o=s;if((s=v(e))===o?g[s].p(e,t):(group_outros(),transition_out(g[o],1,1,()=>{g[o]=null}),check_outros(),(i=g[s])?i.p(e,t):(i=g[s]=f[s](e)).c(),transition_in(i,1),i.m(n,null)),(!u||8&t&&a!==(a=null_to_empty(e[3]?"input-container":"input-container-not-satisfied")+" svelte-4m851m"))&&attr(n,"class",a),18&t){let n;for(_=e[1],n=0;n<_.length;n+=1){const r=get_each_context$1(e,_,n);w[n]?w[n].p(r,t):(w[n]=create_each_block$1(r),w[n].c(),w[n].m(d,p))}for(;n<w.length;n+=1)w[n].d(1);w.length=_.length}e[3]?b?b.p(e,t):((b=create_if_block$5(e)).c(),b.m(d,null)):b&&(b.d(1),b=null)},i(e){u||(transition_in(i),u=!0)},o(e){transition_out(i),u=!1},d(e){e&&detach(t),g[s].d(),destroy_each(w,e),b&&b.d(),h=!1,run_all(m)}}}function tagSplice(e){let t=[...e];for(let e=0;e<=t.length;e++)","==t[e]&&(e+1==t.length?(t[e]=" ",t=[...t,"#"]):(t[e]=" ",t.splice(e+1,0,"#")));return t}function instance$9(e,t,n){const[r,o]=crossfade({});var s=createEventDispatcher();let{init:i=""}=t,{immutable:a=!1}=t,{placeholder:l=null}=t,{conditions:c=[{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""}]}=t,d=!1,p=!1,u="",h="",m=[];function f(e){let t=!0;return c.forEach(n=>{n.condition(e)||(t=!1)}),t}return onMount(()=>{n(4,u=i)}),e.$$set=(e=>{"init"in e&&n(9,i=e.init),"immutable"in e&&n(10,a=e.immutable),"placeholder"in e&&n(0,l=e.placeholder),"conditions"in e&&n(1,c=e.conditions)}),e.$$.update=(()=>{20&e.$$.dirty&&(u&&s("change",{value:u,pass:f(u)}),d?u||n(4,u="#"):1==u.length&&n(4,u="")),1552&e.$$.dirty&&a&&(n(4,u),n(14,s),n(2,d),n(10,a),n(9,i),n(12,m),n(11,h),n(3,p),n(4,u=i)),6168&e.$$.dirty&&(n(11,h=""),n(12,m=u.split("")),n(12,m=tagSplice(m)),m&&(m.forEach(e=>{n(11,h+=e)}),n(4,u=h)),n(4,u=u.replace(/\s+[^#]/,"_")),n(3,p=f(u)),console.log(p))}),[l,c,d,p,u,r,o,function(){n(2,d=!0)},function(){n(2,d=!1)},i,a,h,m,function(){u=this.value,n(4,u),n(14,s),n(2,d),n(10,a),n(9,i),n(12,m),n(11,h),n(3,p)}]}class InputMultiValue extends SvelteComponent{constructor(e){super(),init(this,e,instance$9,create_fragment$c,safe_not_equal,{init:9,immutable:10,placeholder:0,conditions:1})}}function get_each_context$2(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function get_each_context_1(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function create_else_block$4(e){let t,n,r,o,s,i;return{c(){t=element("div"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-1xq5eq6"),attr(t,"class","label svelte-1xq5eq6")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"unfocused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"focused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_if_block_2$2(e){let t,n,r,o,s,i;return{c(){t=element("div"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-1xq5eq6"),attr(t,"class","label-focused svelte-1xq5eq6")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[6],{key:"focused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[5],{key:"unfocused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_each_block_1(e){let t,n,r,o,s=e[18]+"";return{c(){t=element("option"),n=element("h3"),r=text(s),t.__value=o=e[18],t.value=t.__value},m(e,o){insert(e,t,o),append(t,n),append(n,r)},p(e,n){2&n&&s!==(s=e[18]+"")&&set_data(r,s),2&n&&o!==(o=e[18])&&(t.__value=o,t.value=t.__value)},d(e){e&&detach(t)}}}function create_if_block_1$2(e){let t,n,r=e[15].not_satisfied_text+"";return{c(){t=element("h3"),n=text(r),attr(t,"class","not-satisfied svelte-1xq5eq6")},m(e,r){insert(e,t,r),append(t,n)},p(e,t){4&t&&r!==(r=e[15].not_satisfied_text+"")&&set_data(n,r)},d(e){e&&detach(t)}}}function create_each_block$2(e){let t,n=!e[15].condition(e[1].indexOf(e[3])),r=n&&create_if_block_1$2(e);return{c(){r&&r.c(),t=empty()},m(e,n){r&&r.m(e,n),insert(e,t,n)},p(e,o){14&o&&(n=!e[15].condition(e[1].indexOf(e[3]))),n?r?r.p(e,o):((r=create_if_block_1$2(e)).c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(e){r&&r.d(e),e&&detach(t)}}}function create_if_block$6(e){let t;return{c(){(t=element("h3")).textContent="좋습니다!",attr(t,"class","satisfied svelte-1xq5eq6")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_fragment$d(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m;const f=[create_if_block_2$2,create_else_block$4],g=[];function v(e,t){return e[3]?0:1}r=v(e),o=g[r]=f[r](e);let _=e[1],w=[];for(let t=0;t<_.length;t+=1)w[t]=create_each_block_1(get_each_context_1(e,_,t));let b=e[2],y=[];for(let t=0;t<b.length;t+=1)y[t]=create_each_block$2(get_each_context$2(e,b,t));let k=e[4]&&create_if_block$6();return{c(){t=element("div"),n=element("div"),o.c(),s=space(),i=element("select");for(let e=0;e<w.length;e+=1)w[e].c();l=space(),c=element("div"),d=element("div");for(let e=0;e<y.length;e+=1)y[e].c();p=space(),k&&k.c(),attr(i,"class","input svelte-1xq5eq6"),void 0===e[3]&&add_render_callback(()=>e[10].call(i)),attr(n,"class",a=null_to_empty(e[4]?"input-container":"input-container-not-satisfied")+" svelte-1xq5eq6"),attr(d,"class","warning-container svelte-1xq5eq6"),attr(c,"class","warning-wrap svelte-1xq5eq6"),attr(t,"class","input-wrap svelte-1xq5eq6")},m(o,a){insert(o,t,a),append(t,n),g[r].m(n,null),append(n,s),append(n,i);for(let e=0;e<w.length;e+=1)w[e].m(i,null);select_option(i,e[3]),append(t,l),append(t,c),append(c,d);for(let e=0;e<y.length;e+=1)y[e].m(d,null);append(d,p),k&&k.m(d,null),u=!0,h||(m=[listen(i,"focus",e[7]),listen(i,"blur",e[8]),listen(i,"change",e[10])],h=!0)},p(e,[t]){let l=r;if((r=v(e))===l?g[r].p(e,t):(group_outros(),transition_out(g[l],1,1,()=>{g[l]=null}),check_outros(),(o=g[r])?o.p(e,t):(o=g[r]=f[r](e)).c(),transition_in(o,1),o.m(n,s)),2&t){let n;for(_=e[1],n=0;n<_.length;n+=1){const r=get_each_context_1(e,_,n);w[n]?w[n].p(r,t):(w[n]=create_each_block_1(r),w[n].c(),w[n].m(i,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=_.length}if(10&t&&select_option(i,e[3]),(!u||16&t&&a!==(a=null_to_empty(e[4]?"input-container":"input-container-not-satisfied")+" svelte-1xq5eq6"))&&attr(n,"class",a),14&t){let n;for(b=e[2],n=0;n<b.length;n+=1){const r=get_each_context$2(e,b,n);y[n]?y[n].p(r,t):(y[n]=create_each_block$2(r),y[n].c(),y[n].m(d,p))}for(;n<y.length;n+=1)y[n].d(1);y.length=b.length}e[4]?k||((k=create_if_block$6()).c(),k.m(d,null)):k&&(k.d(1),k=null)},i(e){u||(transition_in(o),u=!0)},o(e){transition_out(o),u=!1},d(e){e&&detach(t),g[r].d(),destroy_each(w,e),destroy_each(y,e),k&&k.d(),h=!1,run_all(m)}}}function instance$a(e,t,n){const[r,o]=crossfade({});var s=createEventDispatcher();let i,{init:a}=t,{placeholder:l=null}=t,{option_list:c=[]}=t,{conditions:d=[{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""},{condition:()=>{},name:"",not_satisfied_text:"",satisfied_text:""}]}=t,p=!1,u="";function h(e){let t=!0;return d.forEach(n=>{n.condition(c.indexOf(e))||(t=!1)}),t}return onMount(()=>{(0==a||a)&&(n(3,u=c[i=a]),console.log(i))}),e.$$set=(e=>{"init"in e&&n(9,a=e.init),"placeholder"in e&&n(0,l=e.placeholder),"option_list"in e&&n(1,c=e.option_list),"conditions"in e&&n(2,d=e.conditions)}),e.$$.update=(()=>{10&e.$$.dirty&&(s("change",{key:c.indexOf(u),pass:h(u)}),console.log(c.indexOf(u))),8&e.$$.dirty&&(n(4,p=h(u)),console.log(u))}),[l,c,d,u,p,r,o,function(){},function(){},a,function(){u=select_value(this),n(3,u),n(1,c)}]}class InputSelectValue extends SvelteComponent{constructor(e){super(),init(this,e,instance$a,create_fragment$d,safe_not_equal,{init:9,placeholder:0,option_list:1,conditions:2})}}function create_if_block_1$3(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$1,then:create_then_block$1,catch:create_catch_block$1,value:16,error:17};return handle_promise(n=e[2](e[1]),r),{c(){t=empty(),r.block.c()},m(e,n){insert(e,t,n),r.block.m(e,r.anchor=n),r.mount=(()=>t.parentNode),r.anchor=t},p(t,o){e=t,r.ctx=e,2&o&&n!==(n=e[2](e[1]))&&handle_promise(n,r)||update_await_block_branch(r,e,o)},i(e){transition_in(r.block)},o:noop,d(e){e&&detach(t),r.block.d(e),r.token=null,r=null}}}function create_if_block$7(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A;return(i=new InputSingleValue({props:{placeholder:"이름",conditions:condition_set.default_conditions}})).$on("change",e[3]),i.$on("pass",passHandle),(l=new InputSingleValue({props:{placeholder:"소속",conditions:condition_set.default_conditions}})).$on("change",e[4]),l.$on("pass",passHandle),(h=new InputSingleValue({props:{placeholder:"계급",conditions:condition_set.default_conditions}})).$on("change",e[5]),h.$on("pass",passHandle),(f=new InputSingleValue({props:{placeholder:"직별 혹은 직책",conditions:condition_set.default_conditions}})).$on("change",e[6]),f.$on("pass",passHandle),(b=new InputSingleValue({props:{placeholder:"아이디",conditions:condition_set.registered_id_conditions}})).$on("change",e[7]),b.$on("pass",passHandle),(k=new InputSingleValue({props:{placeholder:"비밀번호",conditions:condition_set.default_conditions}})).$on("change",e[8]),k.$on("pass",passHandle),(O=new InputSelectValue({props:{placeholder:"권한 종류",conditions:condition_set.select_conditions,option_list:["비인가","일반 유저","관리자"]}})).$on("change",e[9]),O.$on("pass",passHandle),(N=new InputSingleValue({props:{placeholder:"등록 IP",conditions:condition_set.default_conditions}})).$on("change",e[10]),N.$on("pass",passHandle),{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("div")).innerHTML='<h3 class="svelte-gdnxvy">기본 등록 정보</h3>',s=space(),create_component(i.$$.fragment),a=space(),create_component(l.$$.fragment),c=space(),d=element("div"),p=element("div"),u=space(),create_component(h.$$.fragment),m=space(),create_component(f.$$.fragment),g=space(),v=element("div"),_=element("div"),w=space(),create_component(b.$$.fragment),y=space(),create_component(k.$$.fragment),$=space(),x=element("div"),S=space(),M=element("div"),(C=element("div")).innerHTML='<h3 class="svelte-gdnxvy">권한 정보</h3>',T=space(),create_component(O.$$.fragment),E=space(),create_component(N.$$.fragment),attr(o,"class","input-category-title svelte-gdnxvy"),attr(r,"class","single-input-wrap svelte-gdnxvy"),attr(p,"class","padding svelte-gdnxvy"),attr(d,"class","single-input-wrap svelte-gdnxvy"),attr(_,"class","padding svelte-gdnxvy"),attr(v,"class","single-input-wrap svelte-gdnxvy"),attr(x,"class","buffer svelte-gdnxvy"),attr(C,"class","input-category-title svelte-gdnxvy"),attr(M,"class","single-input-wrap svelte-gdnxvy"),attr(n,"class","body-content-wrap svelte-gdnxvy"),attr(t,"class","body svelte-gdnxvy")},m(e,R){insert(e,t,R),append(t,n),append(n,r),append(r,o),append(r,s),mount_component(i,r,null),append(r,a),mount_component(l,r,null),append(n,c),append(n,d),append(d,p),append(d,u),mount_component(h,d,null),append(d,m),mount_component(f,d,null),append(n,g),append(n,v),append(v,_),append(v,w),mount_component(b,v,null),append(v,y),mount_component(k,v,null),append(n,$),append(n,x),append(n,S),append(n,M),append(M,C),append(M,T),mount_component(O,M,null),append(M,E),mount_component(N,M,null),A=!0},p:noop,i(e){A||(transition_in(i.$$.fragment,e),transition_in(l.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(f.$$.fragment,e),transition_in(b.$$.fragment,e),transition_in(k.$$.fragment,e),transition_in(O.$$.fragment,e),transition_in(N.$$.fragment,e),A=!0)},o(e){transition_out(i.$$.fragment,e),transition_out(l.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(f.$$.fragment,e),transition_out(b.$$.fragment,e),transition_out(k.$$.fragment,e),transition_out(O.$$.fragment,e),transition_out(N.$$.fragment,e),A=!1},d(e){e&&detach(t),destroy_component(i),destroy_component(l),destroy_component(h),destroy_component(f),destroy_component(b),destroy_component(k),destroy_component(O),destroy_component(N)}}}function create_catch_block$1(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록에 실패했습니다",l=space(),(c=element("h5")).textContent="입력 내용을 다시 한번 확인해 주세요",d=space(),(p=element("a")).innerHTML="<h3>다시 입력하기</h3>",u=space(),(h=element("a")).innerHTML="<h3>돌아가기</h3>",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(226, 41, 41)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-gdnxvy"),attr(c,"class","svelte-gdnxvy"),attr(h,"href","/manage/accounts/browse"),attr(t,"class","upload-fail-page svelte-gdnxvy")},m(s,g){insert(s,t,g),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c),append(t,d),append(t,p),append(t,u),append(t,h),m||(f=listen(p,"click",e[12]),m=!0)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),m=!1,f()}}}function create_then_block$1(e){let t,n,r,o,s,i,a,l,c,d,p,u,h;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록이 끝났습니다!",l=space(),(c=element("a")).innerHTML="<h3>돌아가기</h3>",d=space(),(p=element("a")).innerHTML="<h3>등록 계속하기</h3>",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M4.5 12.75l6 6 9-13.5"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","1.5"),attr(r,"stroke","rgb(99, 228, 99)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-gdnxvy"),attr(c,"href","/manage/accounts/browse"),attr(t,"class","upload-success-page svelte-gdnxvy")},m(s,m){insert(s,t,m),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c),append(t,d),append(t,p),u||(h=listen(p,"click",e[11]),u=!0)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),u=!1,h()}}}function create_pending_block$1(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록 중 입니다",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(31, 32, 88)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-gdnxvy"),attr(t,"class","uploading-landing-page svelte-gdnxvy")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_fragment$e(e){let t,n,r,o,s,i,a,l;r=new SignInTitle({});const c=[create_if_block$7,create_if_block_1$3],d=[];function p(e,t){return 1==e[0]?0:2==e[0]?1:-1}return~(i=p(e))&&(a=d[i]=c[i](e)),{c(){t=element("div"),n=element("div"),create_component(r.$$.fragment),o=space(),s=element("div"),a&&a.c(),attr(s,"class","browse-content-container svelte-gdnxvy"),attr(n,"class","signin-wrap svelte-gdnxvy"),attr(t,"class","signin-container svelte-gdnxvy")},m(e,a){insert(e,t,a),append(t,n),mount_component(r,n,null),append(n,o),append(n,s),~i&&d[i].m(s,null),l=!0},p(e,[t]){let n=i;(i=p(e))===n?~i&&d[i].p(e,t):(a&&(group_outros(),transition_out(d[n],1,1,()=>{d[n]=null}),check_outros()),~i?((a=d[i])?a.p(e,t):(a=d[i]=c[i](e)).c(),transition_in(a,1),a.m(s,null)):a=null)},i(e){l||(transition_in(r.$$.fragment,e),transition_in(a),l=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(a),l=!1},d(e){e&&detach(t),destroy_component(r),~i&&d[i].d()}}}function passHandle(e){let t=e.detail.name;pass_list[t]=e.detail.pass}function changeHandle(e,t){e.detail.value}function changeOptionHandle(e,t){e.detail.key}function instance$b(e,t,n){let r={},o=!1,s=1;var i=createEventDispatcher();function a(){o&&(n(1,r.name="",r),n(1,r.affiliation="",r),n(1,r.standing="",r),n(1,r.position="",r),n(1,r.registered_id="",r),n(1,r.password="",r),n(1,r.authority=1,r),n(1,r.ip_address="",r),n(1,r={}))}return e.$$.update=(()=>{1&e.$$.dirty&&(1==s?i("stageChange",{stage:s}):2==s&&i("stageChange",{stage:s}))}),[s,r,async function(e){o=!0;let t=await axios$1({url:"http://localhost:8000/drf/user/create",method:"post",data:{username:e.registered_id,password:e.password,standing:e.standing,position:e.position,authority:e.authority}});return a(),setTimeout(()=>{f.goto("/manage/accounts/browse")},2e3),o=!1,t},e=>changeHandle(e,r.name),e=>changeHandle(e,r.affiliation),e=>changeHandle(e,r.standing),e=>changeHandle(e,r.position),e=>changeHandle(e,r.registered_id),e=>changeHandle(e,r.password),e=>changeOptionHandle(e,r.authority),e=>changeHandle(e,r.ip_address),()=>{n(0,s-=1)},()=>{n(0,s-=1)}]}class Signin extends SvelteComponent{constructor(e){super(),init(this,e,instance$b,create_fragment$e,safe_not_equal,{})}}function get_each_context$3(e,t,n){const r=e.slice();return r[6]=t[n],r[8]=n,r}function create_else_block$5(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","3"),attr(t,"stroke","currentColor"),attr(t,"class","w-6 h-6 svelte-1lzq6gj"),attr(t,"width","15"),attr(t,"height","15")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block_1$4(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 15.75l7.5-7.5 7.5 7.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","3"),attr(t,"stroke","currentColor"),attr(t,"class","w-6 h-6 svelte-1lzq6gj"),attr(t,"width","15"),attr(t,"height","15")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block$8(e){let t,n,r,o,s=e[3],i=[];for(let t=0;t<s.length;t+=1)i[t]=create_each_block$3(get_each_context$3(e,s,t));return{c(){t=element("div");for(let e=0;e<i.length;e+=1)i[e].c();attr(t,"class","sub-category-container svelte-1lzq6gj")},m(e,n){insert(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);o=!0},p(n,r){if(e=n,8&r){let n;for(s=e[3],n=0;n<s.length;n+=1){const o=get_each_context$3(e,s,n);i[n]?i[n].p(o,r):(i[n]=create_each_block$3(o),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},i(e){o||(add_render_callback(()=>{r&&r.end(1),(n=create_in_transition(t,fly,{duration:400,x:0,y:-200,easing:quintOut})).start()}),o=!0)},o(e){n&&n.invalidate(),r=create_out_transition(t,fly,{duration:10,x:0,y:-200,easing:quadIn}),o=!1},d(e){e&&detach(t),destroy_each(i,e),e&&r&&r.end()}}}function create_each_block$3(e){let t,n,r,o,s=e[6]+"";return{c(){t=element("div"),n=element("h3"),r=text(s),o=space(),attr(n,"class","svelte-1lzq6gj"),attr(t,"class","sub-category svelte-1lzq6gj")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(t,o)},p:noop,d(e){e&&detach(t)}}}function create_fragment$f(e){let t,n,r,o,s,i,a,l,c;function d(e,t){return e[1]==e[2]?create_if_block_1$4:create_else_block$5}let p=d(e),u=p(e),h=e[1]==e[2]&&create_if_block$8(e);return{c(){t=element("div"),n=element("h3"),r=text(e[0]),o=space(),u.c(),s=space(),h&&h.c(),i=empty(),attr(n,"class","svelte-1lzq6gj"),attr(t,"class","category svelte-1lzq6gj")},m(d,p){insert(d,t,p),append(t,n),append(n,r),append(t,o),u.m(t,null),insert(d,s,p),h&&h.m(d,p),insert(d,i,p),a=!0,l||(c=listen(t,"click",e[4]),l=!0)},p(e,[n]){(!a||1&n)&&set_data(r,e[0]),p!==(p=d(e))&&(u.d(1),(u=p(e))&&(u.c(),u.m(t,null))),e[1]==e[2]?h?(h.p(e,n),6&n&&transition_in(h,1)):((h=create_if_block$8(e)).c(),transition_in(h,1),h.m(i.parentNode,i)):h&&(group_outros(),transition_out(h,1,1,()=>{h=null}),check_outros())},i(e){a||(transition_in(h),a=!0)},o(e){transition_out(h),a=!1},d(e){e&&detach(t),u.d(),e&&detach(s),h&&h.d(e),e&&detach(i),l=!1,c()}}}function instance$c(e,t,n){let{category:r="이름없음"}=t,{selected_index:o=null}=t,{index:s=0}=t;var i=createEventDispatcher();return e.$$set=(e=>{"category"in e&&n(0,r=e.category),"selected_index"in e&&n(1,o=e.selected_index),"index"in e&&n(2,s=e.index)}),[r,o,s,["행사","훈련","교육","교장"],function(){i("click",s==o?{index:null}:{index:s})}]}class Category extends SvelteComponent{constructor(e){super(),init(this,e,instance$c,create_fragment$f,safe_not_equal,{category:0,selected_index:1,index:2})}}function create_else_block$6(e){let t,n;return{c(){src_url_equal((t=element("img")).src,n="http://localhost:8000"+e[2])||attr(t,"src",n),attr(t,"width","100%")},m(e,n){insert(e,t,n)},p(e,r){4&r&&!src_url_equal(t.src,n="http://localhost:8000"+e[2])&&attr(t,"src",n)},d(e){e&&detach(t)}}}function create_if_block$9(e){let t,n;return{c(){src_url_equal((t=element("img")).src,n="http://localhost:8000"+e[1])||attr(t,"src",n),attr(t,"width","100%")},m(e,n){insert(e,t,n)},p(e,r){2&r&&!src_url_equal(t.src,n="http://localhost:8000"+e[1])&&attr(t,"src",n)},d(e){e&&detach(t)}}}function create_fragment$g(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m;function f(e,t){return 0==e[0].form?create_if_block$9:create_else_block$6}let g=f(e),v=g(e);return{c(){t=element("div"),n=element("div"),r=element("div"),v.c(),o=space(),s=element("div"),(i=element("h3")).textContent=`${e[3]}`,a=space(),l=element("div"),(c=element("h3")).textContent=`${e[4]}`,d=space(),p=element("div"),(u=element("h3")).textContent=`촬영자: ${e[5]}`,attr(r,"class","img-container svelte-1al6yfm"),attr(i,"class","svelte-1al6yfm"),attr(s,"class","title-container svelte-1al6yfm"),attr(c,"class","svelte-1al6yfm"),attr(l,"class","date-container svelte-1al6yfm"),attr(u,"class","svelte-1al6yfm"),attr(p,"class","creater-container svelte-1al6yfm"),attr(n,"class","content-item-folder svelte-1al6yfm"),attr(t,"class","browse-contents-list-item svelte-1al6yfm")},m(f,g){insert(f,t,g),append(t,n),append(n,r),v.m(r,null),append(n,o),append(n,s),append(s,i),append(n,a),append(n,l),append(l,c),append(n,d),append(n,p),append(p,u),h||(m=listen(t,"click",e[6]),h=!0)},p(e,[t]){g===(g=f(e))&&v?v.p(e,t):(v.d(1),(v=g(e))&&(v.c(),v.m(r,null)))},i:noop,o:noop,d(e){e&&detach(t),v.d(),h=!1,m()}}}function instance$d(e,t,n){var r=createEventDispatcher();let o,s,{item:i}=t;i.include[0]?(o=i.include[0].url,s=i.include[0].thumbnail):(o=null,s=null);let a=i.title,l=i.created_at.split("T")[0],c=i.associate.title;return e.$$set=(e=>{"item"in e&&n(0,i=e.item)}),[i,o,s,a,l,c,function(){r("click",{item:i})}]}class ContentItem extends SvelteComponent{constructor(e){super(),init(this,e,instance$d,create_fragment$g,safe_not_equal,{item:0})}}function get_each_context$4(e,t,n){const r=e.slice();return r[35]=t[n],r[37]=n,r}function create_catch_block$2(e){let t,n,r,o,s,i;let a=function(e,t){return 401==e[39].response.status?create_if_block_10:create_else_block_4}(e)(e);return{c(){t=element("div"),a.c(),n=space(),r=element("div"),o=svg_element("svg"),attr(s=svg_element("path"),"stroke-linecap","round"),attr(s,"stroke-linejoin","round"),attr(s,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(o,"xmlns","http://www.w3.org/2000/svg"),attr(o,"fill","none"),attr(o,"viewBox","0 0 24 24"),attr(o,"stroke-width","1.5"),attr(o,"stroke","rgb(226, 41, 41)"),attr(o,"height","18"),attr(o,"width","18"),attr(r,"class","approved-mark-wrap svelte-19l5u9b"),attr(t,"class","title-wrap svelte-19l5u9b")},m(e,i){insert(e,t,i),a.m(t,null),append(t,n),append(t,r),append(r,o),append(o,s)},p:noop,i(e){i||add_render_callback(()=>{(i=create_in_transition(s,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),a.d()}}}function create_else_block_4(e){let t;return{c(){(t=element("h3")).textContent="다시 시도 바랍니다",attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_10(e){let t;return{c(){(t=element("h3")).textContent="기록물 접근 권한이 없습니다",attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_then_block$2(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T=e[38].title+"",O=e[38].associate.title+"",E=e[38].created_at.split("T")[0]+"";return{c(){t=element("div"),n=element("h3"),r=text(T),o=space(),s=element("div"),i=svg_element("svg"),a=svg_element("path"),c=space(),d=element("div"),p=element("div"),u=svg_element("svg"),h=svg_element("path"),m=space(),f=element("div"),g=space(),v=element("h3"),_=text(O),w=space(),b=element("div"),y=svg_element("svg"),k=svg_element("path"),$=space(),x=element("div"),S=space(),M=element("h3"),C=text(E),attr(n,"class","svelte-19l5u9b"),attr(a,"stroke-linecap","round"),attr(a,"stroke-linejoin","round"),attr(a,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),attr(i,"xmlns","http://www.w3.org/2000/svg"),attr(i,"fill","none"),attr(i,"viewBox","0 0 24 24"),attr(i,"stroke-width","2"),attr(i,"stroke","rgb(99, 228, 99)"),attr(i,"height","18"),attr(i,"width","18"),attr(s,"class","approved-mark-wrap svelte-19l5u9b"),attr(t,"class","title-wrap svelte-19l5u9b"),attr(h,"stroke-linecap","round"),attr(h,"stroke-linejoin","round"),attr(h,"d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"),attr(u,"xmlns","http://www.w3.org/2000/svg"),attr(u,"fill","none"),attr(u,"viewBox","0 0 24 24"),attr(u,"stroke-width","2"),attr(u,"stroke","currentColor"),attr(u,"height","11"),attr(u,"width","11"),attr(f,"class","space svelte-19l5u9b"),attr(v,"class","svelte-19l5u9b"),attr(p,"class","name-wrap svelte-19l5u9b"),attr(k,"stroke-linecap","round"),attr(k,"stroke-linejoin","round"),attr(k,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"),attr(y,"xmlns","http://www.w3.org/2000/svg"),attr(y,"fill","none"),attr(y,"viewBox","0 0 24 24"),attr(y,"stroke-width","2"),attr(y,"stroke","currentColor"),attr(y,"height","11"),attr(y,"width","11"),attr(x,"class","space svelte-19l5u9b"),attr(M,"class","svelte-19l5u9b"),attr(b,"class","date-wrap svelte-19l5u9b"),attr(d,"class","info-wrap svelte-19l5u9b")},m(e,l){insert(e,t,l),append(t,n),append(n,r),append(t,o),append(t,s),append(s,i),append(i,a),insert(e,c,l),insert(e,d,l),append(d,p),append(p,u),append(u,h),append(p,m),append(p,f),append(p,g),append(p,v),append(v,_),append(d,w),append(d,b),append(b,y),append(y,k),append(b,$),append(b,x),append(b,S),append(b,M),append(M,C)},p:noop,i(e){l||add_render_callback(()=>{(l=create_in_transition(a,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),e&&detach(c),e&&detach(d)}}}function create_pending_block$2(e){let t;return{c(){(t=element("h3")).textContent="파일을 받아오는 중입니다"},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block$a(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F,q,B=e[4].data.location.title+"",P=e[4].data.associate.title+"",j=e[3]&&create_if_block_8(e);let H=function(e,t){return 1==e[8]?create_if_block_4:0==e[8]?create_if_block_5:2==e[8]?create_if_block_7:void 0}(e),V=H&&H(e);function W(e,t){return e[3]?create_if_block_3:create_else_block_3}let U=W(e),K=U(e),J=e[4].data.attendee,G=[];for(let t=0;t<J.length;t+=1)G[t]=create_each_block$4(get_each_context$4(e,J,t));let Y=null;function X(e,t){return e[4].data.produced?create_else_block_1:create_if_block_2$3}J.length||(Y=create_else_block_2());let Z=X(e),Q=Z(e);function ee(e,t){return e[4].data.private?create_if_block_1$5:create_else_block$7}let te=ee(e),ne=te(e);return{c(){t=element("div"),n=element("div"),j&&j.c(),r=space(),V&&V.c(),o=space(),K.c(),s=space(),i=element("div"),(a=element("div")).innerHTML='<h5 class="svelte-19l5u9b">세부사항</h5>',l=space(),c=element("div"),d=element("div"),(p=element("div")).innerHTML="<h5>대표장소:</h5>",u=space(),h=element("div"),m=element("h5"),f=text("@"),g=text(B),v=space(),_=element("div"),(w=element("div")).innerHTML="<h5>촬영자:</h5>",b=space(),y=element("div"),k=element("h5"),$=text("#"),x=text(P),S=space(),M=element("div"),(C=element("div")).innerHTML="<h5>주요참석자:</h5>",T=space(),O=element("div");for(let e=0;e<G.length;e+=1)G[e].c();Y&&Y.c(),E=space(),N=element("div"),Q.c(),A=space(),R=element("div"),ne.c(),D=space(),(I=element("div")).innerHTML='<h5 class="svelte-19l5u9b">설명</h5>',z=space(),L=element("div"),attr(n,"class","photo-container svelte-19l5u9b"),attr(t,"class","media-wrap svelte-19l5u9b"),attr(a,"class","info-header svelte-19l5u9b"),attr(p,"class","label"),attr(h,"class","location info-item-content svelte-19l5u9b"),attr(d,"class","location-wrap info-item svelte-19l5u9b"),attr(w,"class","label"),attr(y,"class","associate info-item-content svelte-19l5u9b"),attr(_,"class","assosiate-wrap info-item svelte-19l5u9b"),attr(C,"class","label"),attr(O,"class","attendees info-item-content svelte-19l5u9b"),attr(M,"class","attendee-wrap info-item svelte-19l5u9b"),attr(N,"class","collected-wrap info-item svelte-19l5u9b"),attr(R,"class","private-wrap info-item svelte-19l5u9b"),attr(c,"class","detail-wrap-info svelte-19l5u9b"),attr(I,"class","content-header svelte-19l5u9b"),attr(L,"class","detail-wrap-content svelte-19l5u9b"),attr(L,"contenteditable","false"),void 0===e[4].data.content&&add_render_callback(()=>e[25].call(L)),attr(i,"class","details-wrap svelte-19l5u9b")},m(B,P){insert(B,t,P),append(t,n),j&&j.m(n,null),append(n,r),V&&V.m(n,null),append(n,o),K.m(n,null),insert(B,s,P),insert(B,i,P),append(i,a),append(i,l),append(i,c),append(c,d),append(d,p),append(d,u),append(d,h),append(h,m),append(m,f),append(m,g),append(c,v),append(c,_),append(_,w),append(_,b),append(_,y),append(y,k),append(k,$),append(k,x),append(c,S),append(c,M),append(M,C),append(M,T),append(M,O);for(let e=0;e<G.length;e+=1)G[e].m(O,null);Y&&Y.m(O,null),append(c,E),append(c,N),Q.m(N,null),append(c,A),append(c,R),ne.m(R,null),append(i,D),append(i,I),append(i,z),append(i,L),void 0!==e[4].data.content&&(L.innerHTML=e[4].data.content),F||(q=listen(L,"input",e[25]),F=!0)},p(e,t){if(e[3]?j?j.p(e,t):((j=create_if_block_8(e)).c(),j.m(n,r)):j&&(j.d(1),j=null),V&&V.p(e,t),U===(U=W(e))&&K?K.p(e,t):(K.d(1),(K=U(e))&&(K.c(),K.m(n,null))),16&t[0]&&B!==(B=e[4].data.location.title+"")&&set_data(g,B),16&t[0]&&P!==(P=e[4].data.associate.title+"")&&set_data(x,P),16&t[0]){let n;for(J=e[4].data.attendee,n=0;n<J.length;n+=1){const r=get_each_context$4(e,J,n);G[n]?G[n].p(r,t):(G[n]=create_each_block$4(r),G[n].c(),G[n].m(O,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=J.length,!J.length&&Y?Y.p(e,t):J.length?Y&&(Y.d(1),Y=null):((Y=create_else_block_2()).c(),Y.m(O,null))}Z!==(Z=X(e))&&(Q.d(1),(Q=Z(e))&&(Q.c(),Q.m(N,null))),te!==(te=ee(e))&&(ne.d(1),(ne=te(e))&&(ne.c(),ne.m(R,null))),16&t[0]&&e[4].data.content!==L.innerHTML&&(L.innerHTML=e[4].data.content)},d(e){e&&detach(t),j&&j.d(),V&&V.d(),K.d(),e&&detach(s),e&&detach(i),destroy_each(G,e),Y&&Y.d(),Q.d(),ne.d(),F=!1,q()}}}function create_if_block_8(e){let t,n,r,o,s,i;return{c(){t=element("div"),(n=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="60" width="60"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',r=space(),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="60" width="60"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',attr(n,"class","left-arrow-wrap svelte-19l5u9b"),attr(o,"class","right-arrow-wrap svelte-19l5u9b"),attr(t,"class","facad svelte-19l5u9b")},m(a,l){insert(a,t,l),append(t,n),append(t,r),append(t,o),s||(i=[listen(n,"click",e[11]),listen(o,"click",e[12])],s=!0)},p:noop,d(e){e&&detach(t),s=!1,run_all(i)}}}function create_if_block_7(e){let t;return{c(){(t=element("h1")).textContent="아직 문서지원 준비중입니다",attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_5(e){let t,n=e[0]&&create_if_block_6(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,r){e[0]?n?n.p(e,r):((n=create_if_block_6(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&detach(t)}}}function create_if_block_4(e){let t,n=e[0].src,r=create_key_block(e);return{c(){r.c(),t=empty()},m(e,n){r.m(e,n),insert(e,t,n)},p(e,o){1&o[0]&&safe_not_equal(n,n=e[0].src)?(r.d(1),(r=create_key_block(e)).c(),r.m(t.parentNode,t)):r.p(e,o)},d(e){e&&detach(t),r.d(e)}}}function create_if_block_6(e){let t,n,r,o;return{c(){src_url_equal((t=element("img")).src,n="http://localhost:8000"+e[0].url)||attr(t,"src",n),attr(t,"alt","main_pg_bg")},m(n,s){insert(n,t,s),e[24](t),r||(o=listen(t,"mouseover",e[9]),r=!0)},p(e,r){1&r[0]&&!src_url_equal(t.src,n="http://localhost:8000"+e[0].url)&&attr(t,"src",n)},d(n){n&&detach(t),e[24](null),r=!1,o()}}}function create_key_block(e){let t,n,r,o,s;return{c(){t=element("video"),src_url_equal((n=element("source")).src,r="http://localhost:8000"+e[0].url)||attr(n,"src",r),attr(n,"type","video/mp4"),t.controls=!0},m(r,i){insert(r,t,i),append(t,n),e[23](t),o||(s=listen(t,"mouseover",e[9]),o=!0)},p(e,t){1&t[0]&&!src_url_equal(n.src,r="http://localhost:8000"+e[0].url)&&attr(n,"src",r)},d(n){n&&detach(t),e[23](null),o=!1,s()}}}function create_else_block_3(e){let t;return{c(){attr(t=element("div"),"class","caption-placeholder svelte-19l5u9b")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_3(e){let t,n,r;return{c(){t=element("div"),n=element("h4"),r=text(e[6]),attr(n,"class","svelte-19l5u9b"),attr(t,"class","caption svelte-19l5u9b")},m(e,o){insert(e,t,o),append(t,n),append(n,r)},p(e,t){64&t[0]&&set_data(r,e[6])},d(e){e&&detach(t)}}}function create_else_block_2(e){let t;return{c(){(t=element("h4")).textContent="주요 참석자가 없습니다."},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_each_block$4(e){let t,n,r,o=e[35].title+"";return{c(){t=element("h5"),n=text("#"),r=text(o)},m(e,o){insert(e,t,o),append(t,n),append(t,r)},p(e,t){16&t[0]&&o!==(o=e[35].title+"")&&set_data(r,o)},d(e){e&&detach(t)}}}function create_else_block_1(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-19l5u9b"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 생산되었습니다.',attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_2$3(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-19l5u9b"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 수집되었습니다.',attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_else_block$7(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-19l5u9b"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 또한 공개 기록물입니다.',attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_1$5(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-19l5u9b"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 또한 비공개 기록물입니다.',attr(t,"class","svelte-19l5u9b")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_fragment$h(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$2,then:create_then_block$2,catch:create_catch_block$2,value:38,error:39};function A(e,t){if(e[4]&&e[4].data)return create_if_block$a}handle_promise(i=e[13](e[7],e[8]),N);let R=A(e),D=R&&R(e);return{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"></path></svg>',s=space(),N.block.c(),a=space(),l=element("div"),c=element("div"),d=svg_element("svg"),p=svg_element("path"),m=space(),f=element("div"),g=svg_element("svg"),v=svg_element("path"),b=space(),y=element("div"),k=svg_element("svg"),$=svg_element("path"),M=space(),C=element("div"),T=element("div"),D&&D.c(),attr(o,"class","back-btn svelte-19l5u9b"),attr(r,"class","back-btn-wrap svelte-19l5u9b"),attr(p,"stroke-linecap","round"),attr(p,"stroke-linejoin","round"),attr(p,"d","M12 4.5v15m7.5-7.5h-15"),attr(d,"xmlns","http://www.w3.org/2000/svg"),attr(d,"fill","none"),attr(d,"viewBox","0 0 24 24"),attr(d,"stroke-width","2"),attr(d,"stroke",u=0==e[5]?"white":"currentColor"),attr(d,"height","18"),attr(d,"width","18"),attr(c,"class",h=null_to_empty(0==e[5]?"icon-focus":"fix-wrap icon")+" svelte-19l5u9b"),attr(v,"stroke-linecap","round"),attr(v,"stroke-linejoin","round"),attr(v,"d","M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"),attr(g,"xmlns","http://www.w3.org/2000/svg"),attr(g,"fill","none"),attr(g,"viewBox","0 0 24 24"),attr(g,"stroke-width","2"),attr(g,"stroke",_=1==e[5]?"white":"currentColor"),attr(g,"height","18"),attr(g,"width","18"),attr(f,"class",w=null_to_empty(1==e[5]?"icon-focus":"bell-wrap icon")+" svelte-19l5u9b"),attr($,"stroke-linecap","round"),attr($,"stroke-linejoin","round"),attr($,"d","M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"),attr(k,"xmlns","http://www.w3.org/2000/svg"),attr(k,"fill","none"),attr(k,"viewBox","0 0 24 24"),attr(k,"stroke-width","2"),attr(k,"stroke",x=2==e[5]?"white":"currentColor"),attr(k,"height","18"),attr(k,"width","18"),attr(y,"class",S=null_to_empty(2==e[5]?"icon-focus":"download-wrap icon")+" svelte-19l5u9b"),attr(l,"class","icons-wrap svelte-19l5u9b"),attr(n,"class","header svelte-19l5u9b"),attr(T,"class","body-content-wrap svelte-19l5u9b"),attr(C,"class","body svelte-19l5u9b"),attr(t,"class","focus svelte-19l5u9b")},m(i,u){insert(i,t,u),append(t,n),append(n,r),append(r,o),append(n,s),N.block.m(n,N.anchor=null),N.mount=(()=>n),N.anchor=a,append(n,a),append(n,l),append(l,c),append(c,d),append(d,p),append(l,m),append(l,f),append(f,g),append(g,v),append(l,b),append(l,y),append(y,k),append(k,$),append(t,M),append(t,C),append(C,T),D&&D.m(T,null),O||(E=[listen(o,"click",e[10]),listen(c,"mouseenter",e[17]),listen(c,"mouseleave",e[18]),listen(c,"click",e[14]),listen(f,"mouseenter",e[19]),listen(f,"mouseleave",e[20]),listen(y,"mouseenter",e[21]),listen(y,"mouseleave",e[22])],O=!0)},p(t,n){update_await_block_branch(N,e=t,n),32&n[0]&&u!==(u=0==e[5]?"white":"currentColor")&&attr(d,"stroke",u),32&n[0]&&h!==(h=null_to_empty(0==e[5]?"icon-focus":"fix-wrap icon")+" svelte-19l5u9b")&&attr(c,"class",h),32&n[0]&&_!==(_=1==e[5]?"white":"currentColor")&&attr(g,"stroke",_),32&n[0]&&w!==(w=null_to_empty(1==e[5]?"icon-focus":"bell-wrap icon")+" svelte-19l5u9b")&&attr(f,"class",w),32&n[0]&&x!==(x=2==e[5]?"white":"currentColor")&&attr(k,"stroke",x),32&n[0]&&S!==(S=null_to_empty(2==e[5]?"icon-focus":"download-wrap icon")+" svelte-19l5u9b")&&attr(y,"class",S),R===(R=A(e))&&D?D.p(e,n):(D&&D.d(1),(D=R&&R(e))&&(D.c(),D.m(T,null)))},i(e){transition_in(N.block)},o:noop,d(e){e&&detach(t),N.block.d(),N.token=null,N=null,D&&D.d(),O=!1,run_all(E)}}}function instance$e(e,t,n){let r,o;component_subscribe(e,wishList,e=>n(28,r=e)),component_subscribe(e,token,e=>n(29,o=e));let{file:s}=t;const i=O();let a,l,c,d=i.params.id,p=i.params.form,u=!1;var h=createEventDispatcher();function m(){if(l){let e=l.data.include.shift();return n(4,l.data.include=[...l.data.include,e],l),e}console.log("No file object detected")}let g,v,_,w;return e.$$set=(e=>{"file"in e&&n(15,s=e.file)}),e.$$.update=(()=>{65539&e.$$.dirty[0]&&a&&g&&(n(16,_=a.url.split("/")),n(6,w=_.pop()),g.offsetHeight>g.offsetWidth?n(1,g.height=450,g):n(1,g.width=450,g)),65541&e.$$.dirty[0]&&a&&v&&(n(16,_=a.url.split("/")),n(6,w=_.pop()),v.offsetHeight>v.offsetWidth?vedio.height=450:n(2,v.width=450,v))}),[a,g,v,u,l,c,w,d,p,function(){n(3,u=!0),setTimeout(()=>{u&&n(3,u=!1)},4e3)},function(){h("escape",{focus:null}),f.goto("/manage/cases")},function(){n(0,a=function(){if(l){let e=l.data.include.pop();return n(4,l.data.include=[e,...l.data.include],l),e}console.log("No file object detected")}())},function(){n(0,a=m())},async function(e,t){return console.log(e,t),n(4,l=await axios$1({url:`http://localhost:8000/drf/cases/browse/detail?form=${t}&id=${e}`,method:"get",headers:{Authorization:`Token ${o}`}})),n(0,a=m()),l.data},function(){r[p].includes(d)||(wishList.update(e=>(e[p]=[...e[p],d],e)),console.log(!0))},s,_,()=>n(5,c=0),()=>n(5,c=null),()=>n(5,c=1),()=>n(5,c=null),()=>n(5,c=2),()=>n(5,c=null),function(e){binding_callbacks[e?"unshift":"push"](()=>{n(2,v=e),n(0,a),n(16,_),n(1,g)})},function(e){binding_callbacks[e?"unshift":"push"](()=>{n(1,g=e),n(0,a),n(16,_),n(2,v)})},function(){l.data.content=this.innerHTML,n(4,l)}]}class ContentView extends SvelteComponent{constructor(e){super(),init(this,e,instance$e,create_fragment$h,safe_not_equal,{file:15},null,[-1,-1])}}function create_fragment$i(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$;return{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("h3")).textContent=`${e[1]}`,s=space(),i=element("div"),a=element("div"),l=element("img"),d=space(),p=element("div"),u=element("div"),(h=element("h3")).textContent=`${e[2]}`,m=space(),f=element("div"),g=element("div"),(v=element("h3")).textContent=`${e[4]}`,_=space(),w=element("div"),b=element("div"),(y=element("h3")).textContent=`${e[3]}`,attr(o,"class","svelte-qoir9s"),attr(r,"class","id-container container svelte-qoir9s"),attr(n,"class","id-wrap wrap svelte-qoir9s"),src_url_equal(l.src,c="http://localhost:8000"+e[0])||attr(l,"src",c),attr(l,"height","85px"),attr(l,"alt","test-img"),attr(a,"class","snapshot-container container svelte-qoir9s"),attr(i,"class","snapshot-wrap svelte-qoir9s"),attr(h,"class","svelte-qoir9s"),attr(u,"class","title-container container svelte-qoir9s"),attr(p,"class","title-wrap svelte-qoir9s"),attr(v,"class","svelte-qoir9s"),attr(g,"class","associate-container container svelte-qoir9s"),attr(f,"class","associate-wrap svelte-qoir9s"),attr(y,"class","svelte-qoir9s"),attr(b,"class","date-container container svelte-qoir9s"),attr(w,"class","date-wrap svelte-qoir9s"),attr(t,"class","table-content svelte-qoir9s")},m(c,x){insert(c,t,x),append(t,n),append(n,r),append(r,o),append(t,s),append(t,i),append(i,a),append(a,l),append(t,d),append(t,p),append(p,u),append(u,h),append(t,m),append(t,f),append(f,g),append(g,v),append(t,_),append(t,w),append(w,b),append(b,y),k||($=listen(t,"click",e[5]),k=!0)},p(e,[t]){1&t&&!src_url_equal(l.src,c="http://localhost:8000"+e[0])&&attr(l,"src",c)},i:noop,o:noop,d(e){e&&detach(t),k=!1,$()}}}function instance$f(e,t,n){let{item:r}=t,o="",s=r.id,i=r.title,a=r.created_at.split("T")[0],l=r.associate.title,c=r.type;var d=createEventDispatcher();return e.$$set=(e=>{"item"in e&&n(6,r=e.item)}),e.$$.update=(()=>{64&e.$$.dirty&&n(0,o=0==c?r.include[0].url:r.include[0].thumbnail)}),[o,s,i,a,l,function(){d("click",{item:r})},r]}class ContentItemList extends SvelteComponent{constructor(e){super(),init(this,e,instance$f,create_fragment$i,safe_not_equal,{item:6})}}function get_each_context_1$1(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function get_each_context$5(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function create_catch_block$3(e){let t,n,r,o,s,i,a,l,c;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="조회에 실패했습니다",l=space(),(c=element("h5")).textContent="인터넷 연결을 확인해주세요",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(226, 41, 41)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-15516wd"),attr(c,"class","svelte-15516wd"),attr(t,"class","fetch-fail-page svelte-15516wd")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_then_block$3(e){let t,n,r,o;const s=[create_if_block$b,create_if_block_1$6],i=[];function a(e,t){return"box"==e[2]?0:"list"==e[2]?1:-1}return~(t=a(e))&&(n=i[t]=s[t](e)),{c(){n&&n.c(),r=empty()},m(e,n){~t&&i[t].m(e,n),insert(e,r,n),o=!0},p(e,o){let l=t;(t=a(e))===l?~t&&i[t].p(e,o):(n&&(group_outros(),transition_out(i[l],1,1,()=>{i[l]=null}),check_outros()),~t?((n=i[t])?n.p(e,o):(n=i[t]=s[t](e)).c(),transition_in(n,1),n.m(r.parentNode,r)):n=null)},i(e){o||(transition_in(n),o=!0)},o(e){transition_out(n),o=!1},d(e){~t&&i[t].d(e),e&&detach(r)}}}function create_if_block_1$6(e){let t,n,r,o,s,i,a=e[11],l=[];for(let t=0;t<a.length;t+=1)l[t]=create_each_block_1$1(get_each_context_1$1(e,a,t));const c=e=>transition_out(l[e],1,1,()=>{l[e]=null});return{c(){t=element("div"),(n=element("div")).innerHTML='<div class="header-id-container svelte-15516wd"><div class="header-container svelte-15516wd"><h3 class="svelte-15516wd">ID</h3></div></div> \n                <div class="header-snapshot-container svelte-15516wd"><div class="header-container svelte-15516wd"><h3 class="svelte-15516wd">스냅샷</h3></div></div> \n                <div class="header-title-container svelte-15516wd"><div class="header-container svelte-15516wd"><h3 class="svelte-15516wd">행사명</h3></div></div> \n                <div class="header-associate-container svelte-15516wd"><div class="header-container svelte-15516wd"><h3 class="svelte-15516wd">제작자</h3></div></div> \n                <div class="header-date-container svelte-15516wd"><div class="header-container svelte-15516wd"><h3 class="svelte-15516wd">제작일자</h3></div></div>',r=space(),o=element("div"),s=element("div");for(let e=0;e<l.length;e+=1)l[e].c();attr(n,"class","table-header svelte-15516wd"),attr(s,"class","table svelte-15516wd"),attr(o,"class","list-frame svelte-15516wd"),attr(t,"class","upload-view svelte-15516wd")},m(e,a){insert(e,t,a),append(t,n),append(t,r),append(t,o),append(o,s);for(let e=0;e<l.length;e+=1)l[e].m(s,null);i=!0},p(e,t){if(51&t){let n;for(a=e[11],n=0;n<a.length;n+=1){const r=get_each_context_1$1(e,a,n);l[n]?(l[n].p(r,t),transition_in(l[n],1)):(l[n]=create_each_block_1$1(r),l[n].c(),transition_in(l[n],1),l[n].m(s,null))}for(group_outros(),n=a.length;n<l.length;n+=1)c(n);check_outros()}},i(e){if(!i){for(let e=0;e<a.length;e+=1)transition_in(l[e]);i=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)transition_out(l[e]);i=!1},d(e){e&&detach(t),destroy_each(l,e)}}}function create_if_block$b(e){let t,n,r=e[11],o=[];for(let t=0;t<r.length;t+=1)o[t]=create_each_block$5(get_each_context$5(e,r,t));const s=e=>transition_out(o[e],1,1,()=>{o[e]=null});return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();attr(t,"class","browse-contents-list-view svelte-15516wd")},m(e,r){insert(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){if(51&n){let i;for(r=e[11],i=0;i<r.length;i+=1){const s=get_each_context$5(e,r,i);o[i]?(o[i].p(s,n),transition_in(o[i],1)):(o[i]=create_each_block$5(s),o[i].c(),transition_in(o[i],1),o[i].m(t,null))}for(group_outros(),i=r.length;i<o.length;i+=1)s(i);check_outros()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function create_each_block_1$1(e){let t,n;return(t=new ContentItemList({props:{item:e[12]}})).$on("click",e[5]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.item=e[12]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_each_block$5(e){let t,n;return(t=new ContentItem({props:{item:e[12]}})).$on("click",e[5]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};3&n&&(r.item=e[12]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_pending_block$3(e){let t,n;return t=new Circle({props:{size:"60",color:"rgb(31, 32, 88)",unit:"px",duration:"1s"}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p:noop,i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1(e){let t,n,r,o={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$3,then:create_then_block$3,catch:create_catch_block$3,value:11,error:16,blocks:[,,,]};return handle_promise(n=e[4](e[0],e[1]),o),{c(){t=empty(),o.block.c()},m(e,n){insert(e,t,n),o.block.m(e,o.anchor=n),o.mount=(()=>t.parentNode),o.anchor=t,r=!0},p(t,r){e=t,o.ctx=e,3&r&&n!==(n=e[4](e[0],e[1]))&&handle_promise(n,o)||update_await_block_branch(o,e,r)},i(e){r||(transition_in(o.block),r=!0)},o(e){for(let e=0;e<3;e+=1){transition_out(o.blocks[e])}r=!1},d(e){e&&detach(t),o.block.d(e),o.token=null,o=null}}}function create_default_slot(e){let t,n;return(t=new ContentView({props:{file:e[3]}})).$on("escape",e[6]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.file=e[3]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$j(e){let t,n,r,o,s;return n=new Route({props:{path:"/",$$slots:{default:[create_default_slot_1]},$$scope:{ctx:e}}}),o=new Route({props:{path:"/:form/:id",$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){t=element("div"),create_component(n.$$.fragment),r=space(),create_component(o.$$.fragment),attr(t,"class","browse-content-container svelte-15516wd")},m(e,i){insert(e,t,i),mount_component(n,t,null),append(t,r),mount_component(o,t,null),s=!0},p(e,[t]){const r={};131079&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};131080&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s)},i(e){s||(transition_in(n.$$.fragment,e),transition_in(o.$$.fragment,e),s=!0)},o(e){transition_out(n.$$.fragment,e),transition_out(o.$$.fragment,e),s=!1},d(e){e&&detach(t),destroy_component(n),destroy_component(o)}}}function instance$g(e,t,n){let r;component_subscribe(e,token,e=>n(8,r=e));let{page:o=1}=t,{type:s=0}=t,{view:i="box"}=t;var a=createEventDispatcher();let l=null,c=[];return e.$$set=(e=>{"page"in e&&n(0,o=e.page),"type"in e&&n(1,s=e.type),"view"in e&&n(2,i=e.view)}),[o,s,i,l,async function(e,t){return localStorage.getItem("token"),(c=await axios$1({url:`http://localhost:8000/drf/cases/browse/${t}?page=${e}`,method:"get",headers:{Authorization:`Token ${r}`}})).data.results},function(e){n(3,l=e.detail.item),a("focus",{focus:!0}),f.goto(`/manage/cases/browse/${l.form}/${l.id}`)},function(){n(3,l=null),a("focus",{focus:!1})}]}class ContentContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$g,create_fragment$j,safe_not_equal,{page:0,type:1,view:2})}}function create_if_block$c(e){let t,n,r,o,s,i,a,l,c,d=1!=e[0]&&create_if_block_1$7(e);return r=new UserSearch({}),{c(){d&&d.c(),t=space(),n=element("div"),create_component(r.$$.fragment),o=space(),s=element("div"),(i=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="right-svg svelte-1crfji7" width="19" height="19"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',attr(n,"class","search-panel-wrap svelte-1crfji7"),attr(i,"class","go-forth svelte-1crfji7"),attr(s,"class","go-forth-wrap svelte-1crfji7")},m(p,u){d&&d.m(p,u),insert(p,t,u),insert(p,n,u),mount_component(r,n,null),insert(p,o,u),insert(p,s,u),append(s,i),a=!0,l||(c=listen(i,"click",e[2]),l=!0)},p(e,n){1!=e[0]?d?d.p(e,n):((d=create_if_block_1$7(e)).c(),d.m(t.parentNode,t)):d&&(d.d(1),d=null)},i(e){a||(transition_in(r.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),a=!1},d(e){d&&d.d(e),e&&detach(t),e&&detach(n),destroy_component(r),e&&detach(o),e&&detach(s),l=!1,c()}}}function create_if_block_1$7(e){let t,n,r,o;return{c(){t=element("div"),(n=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="left-svg svelte-1crfji7" width="19" height="19"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',attr(n,"class","go-back svelte-1crfji7"),attr(t,"class","go-back-wrap svelte-1crfji7")},m(s,i){insert(s,t,i),append(t,n),r||(o=listen(n,"click",e[3]),r=!0)},p:noop,d(e){e&&detach(t),r=!1,o()}}}function create_fragment$k(e){let t,n,r=!e[1]&&create_if_block$c(e);return{c(){t=element("div"),r&&r.c(),attr(t,"class","browse-navbar-wrap svelte-1crfji7")},m(e,o){insert(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){e[1]?r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros()):r?(r.p(e,n),2&n&&transition_in(r,1)):((r=create_if_block$c(e)).c(),transition_in(r,1),r.m(t,null))},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){e&&detach(t),r&&r.d()}}}function instance$h(e,t,n){var r=createEventDispatcher();let{page:o=1}=t,{focus:s=!1}=t;return e.$$set=(e=>{"page"in e&&n(0,o=e.page),"focus"in e&&n(1,s=e.focus)}),[o,s,function(){n(0,o+=1),r("pageChange",{page:o})},function(){1!=o&&(n(0,o-=1),r("pageChange",{page:o}))}]}class BrowseNavbar extends SvelteComponent{constructor(e){super(),init(this,e,instance$h,create_fragment$k,safe_not_equal,{page:0,focus:1})}}function get_each_context$6(e,t,n){const r=e.slice();return r[7]=t[n],r[9]=n,r}function create_else_block$8(e){let t;return{c(){(t=element("h3")).textContent="비어있음"},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_each_block$6(e){let t,n;return(t=new Category({props:{category:e[7],index:e[9],selected_index:e[0]}})).$on("click",e[4]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.selected_index=e[0]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$l(e){let t,n,r,o,s,i,a,l,c,d,p=e[3],u=[];for(let t=0;t<p.length;t+=1)u[t]=create_each_block$6(get_each_context$6(e,p,t));const h=e=>transition_out(u[e],1,1,()=>{u[e]=null});let m=null;return p.length||(m=create_else_block$8()),(a=new ContentContainer({props:{page:e[1]}})).$on("pageChange",e[5]),a.$on("focus",e[6]),(c=new BrowseNavbar({props:{page:e[1],focus:e[2]}})).$on("pageChange",e[5]),{c(){t=element("div"),n=element("div"),r=element("div"),o=element("div");for(let e=0;e<u.length;e+=1)u[e].c();m&&m.c(),s=space(),i=element("div"),create_component(a.$$.fragment),l=space(),create_component(c.$$.fragment),attr(o,"class","browse-control-container svelte-7d4dsw"),attr(r,"class","browse-control-wrap svelte-7d4dsw"),attr(i,"class","browse-content-wrap svelte-7d4dsw"),attr(n,"class","browse-main-container svelte-7d4dsw"),attr(t,"class","browse-main-wrap svelte-7d4dsw")},m(e,p){insert(e,t,p),append(t,n),append(n,r),append(r,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);m&&m.m(o,null),append(n,s),append(n,i),mount_component(a,i,null),append(i,l),mount_component(c,i,null),d=!0},p(e,[t]){if(25&t){let n;for(p=e[3],n=0;n<p.length;n+=1){const r=get_each_context$6(e,p,n);u[n]?(u[n].p(r,t),transition_in(u[n],1)):(u[n]=create_each_block$6(r),u[n].c(),transition_in(u[n],1),u[n].m(o,null))}for(group_outros(),n=p.length;n<u.length;n+=1)h(n);check_outros(),!p.length&&m?m.p(e,t):p.length?m&&(m.d(1),m=null):((m=create_else_block$8()).c(),m.m(o,null))}const n={};2&t&&(n.page=e[1]),a.$set(n);const r={};2&t&&(r.page=e[1]),4&t&&(r.focus=e[2]),c.$set(r)},i(e){if(!d){for(let e=0;e<p.length;e+=1)transition_in(u[e]);transition_in(a.$$.fragment,e),transition_in(c.$$.fragment,e),d=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)transition_out(u[e]);transition_out(a.$$.fragment,e),transition_out(c.$$.fragment,e),d=!1},d(e){e&&detach(t),destroy_each(u,e),m&&m.d(),destroy_component(a),destroy_component(c)}}}function instance$i(e,t,n){let r=null,o=1,s=!1;return[r,o,s,["영상","사진","문서"],function(e){n(0,r=e.detail.index)},function(e){n(1,o=e.detail.page)},function(e){n(2,s=e.detail.focus)}]}class Browse extends SvelteComponent{constructor(e){super(),init(this,e,instance$i,create_fragment$l,safe_not_equal,{})}}function create_fragment$m(e){let t;return{c(){(t=element("div")).innerHTML='<div class="info-container svelte-mm3wap"><div class="info-title svelte-mm3wap"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="25px" width="25px" fill="none"><path stroke-linecap="round" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"></path></svg></div> \n        <div class="statistics svelte-mm3wap"><div class="number-container svelte-mm3wap"><h3 class="number svelte-mm3wap">3</h3></div> \n            <h3 class="count svelte-mm3wap">개</h3></div></div> \n    \n    <div class="info-container svelte-mm3wap"><div class="info-title svelte-mm3wap"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="25px" width="25px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"></path></svg></div> \n        <div class="statistics svelte-mm3wap"><div class="number-container svelte-mm3wap"><h3 class="number svelte-mm3wap">3</h3></div> \n            <h3 class="count svelte-mm3wap">개</h3></div></div> \n    \n    <div class="info-container svelte-mm3wap"><div class="info-title svelte-mm3wap"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1" stroke="#011284" class="w-6 h-6" height="25px" width="25px" fill="none"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m2.25 0H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg></div> \n        <div class="statistics svelte-mm3wap"><div class="number-container svelte-mm3wap"><h3 class="number svelte-mm3wap">3</h3></div> \n            <h3 class="count svelte-mm3wap">개</h3></div></div>',attr(t,"class","info-wrap svelte-mm3wap")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class Info extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$m,safe_not_equal,{})}}function create_fragment$n(e){let t,n,r,o,s,i,a;return r=new Search({}),i=new Info({}),{c(){t=element("div"),n=element("div"),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(n,"class","search-wrap svelte-6pcxg4"),attr(s,"class","info-wrap svelte-6pcxg4"),attr(t,"class","main-view-home svelte-6pcxg4")},m(e,l){insert(e,t,l),append(t,n),mount_component(r,n,null),append(t,o),append(t,s),mount_component(i,s,null),a=!0},p:noop,i(e){a||(transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){e&&detach(t),destroy_component(r),destroy_component(i)}}}class ManageMain extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$n,safe_not_equal,{})}}function get_each_context$7(e,t,n){const r=e.slice();return r[8]=t[n],r[10]=n,r}function create_else_block$9(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M19.5 8.25l-7.5 7.5-7.5-7.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","3"),attr(t,"stroke","white"),attr(t,"class","w-6 h-6 svelte-1ko1bmi"),attr(t,"width","15"),attr(t,"height","15")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block_1$8(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 15.75l7.5-7.5 7.5 7.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","3"),attr(t,"stroke","white"),attr(t,"class","w-6 h-6 svelte-1ko1bmi"),attr(t,"width","15"),attr(t,"height","15")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block$d(e){let t,n,r,o,s=e[3],i=[];for(let t=0;t<s.length;t+=1)i[t]=create_each_block$7(get_each_context$7(e,s,t));return{c(){t=element("div");for(let e=0;e<i.length;e+=1)i[e].c();attr(t,"class","sub-category-container svelte-1ko1bmi")},m(e,n){insert(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);o=!0},p(n,r){if(e=n,24&r){let n;for(s=e[3],n=0;n<s.length;n+=1){const o=get_each_context$7(e,s,n);i[n]?i[n].p(o,r):(i[n]=create_each_block$7(o),i[n].c(),i[n].m(t,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=s.length}},i(e){o||(add_render_callback(()=>{r&&r.end(1),(n=create_in_transition(t,slide,{duration:400,easing:quintOut})).start()}),o=!0)},o(e){n&&n.invalidate(),r=create_out_transition(t,slide,{duration:10,easing:quadIn}),o=!1},d(e){e&&detach(t),destroy_each(i,e),e&&r&&r.end()}}}function create_each_block$7(e){let t,n,r,o,s,i,a=e[8].name+"";function l(){return e[6](e[10])}return{c(){t=element("div"),n=element("h3"),r=text(a),o=space(),attr(n,"class","svelte-1ko1bmi"),attr(t,"class","sub-category svelte-1ko1bmi")},m(e,a){insert(e,t,a),append(t,n),append(n,r),append(t,o),s||(i=listen(t,"click",l),s=!0)},p(t,n){e=t},d(e){e&&detach(t),s=!1,i()}}}function create_fragment$o(e){let t,n,r,o,s,i,a,l,c,d=e[0].name+"";function p(e,t){return e[1]==e[2]?create_if_block_1$8:create_else_block$9}let u=p(e),h=u(e),m=e[1]==e[2]&&create_if_block$d(e);return{c(){t=element("div"),n=element("h3"),r=text(d),o=space(),h.c(),s=space(),m&&m.c(),i=empty(),attr(n,"class","svelte-1ko1bmi"),attr(t,"class","category svelte-1ko1bmi")},m(d,p){insert(d,t,p),append(t,n),append(n,r),append(t,o),h.m(t,null),insert(d,s,p),m&&m.m(d,p),insert(d,i,p),a=!0,l||(c=listen(t,"click",e[5]),l=!0)},p(e,[n]){(!a||1&n)&&d!==(d=e[0].name+"")&&set_data(r,d),u!==(u=p(e))&&(h.d(1),(h=u(e))&&(h.c(),h.m(t,null))),e[1]==e[2]?m?(m.p(e,n),6&n&&transition_in(m,1)):((m=create_if_block$d(e)).c(),transition_in(m,1),m.m(i.parentNode,i)):m&&(group_outros(),transition_out(m,1,1,()=>{m=null}),check_outros())},i(e){a||(transition_in(m),a=!0)},o(e){transition_out(m),a=!1},d(e){e&&detach(t),h.d(),e&&detach(s),m&&m.d(e),e&&detach(i),l=!1,c()}}}function instance$j(e,t,n){let{category:r={name:"이름없음",sub_category:[]}}=t,{selected_index:o=null}=t,{index:s=0}=t,i=r.sub_category;var a=createEventDispatcher();function l(e){a("navigate",{path:i[e].path})}return e.$$set=(e=>{"category"in e&&n(0,r=e.category),"selected_index"in e&&n(1,o=e.selected_index),"index"in e&&n(2,s=e.index)}),[r,o,s,i,l,function(){a("click",s==o?{index:null}:{index:s})},e=>l(e)]}class ManageCategory extends SvelteComponent{constructor(e){super(),init(this,e,instance$j,create_fragment$o,safe_not_equal,{category:0,selected_index:1,index:2})}}function get_each_context$8(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function create_else_block$a(e){let t;return{c(){(t=element("h3")).textContent="비어있음"},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_each_block$8(e){let t,n;return(t=new ManageCategory({props:{category:e[4],index:e[6],selected_index:e[1]}})).$on("click",e[2]),t.$on("navigate",e[3]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.category=e[4]),2&n&&(r.selected_index=e[1]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$p(e){let t,n,r,o,s=e[0],i=[];for(let t=0;t<s.length;t+=1)i[t]=create_each_block$8(get_each_context$8(e,s,t));const a=e=>transition_out(i[e],1,1,()=>{i[e]=null});let l=null;return s.length||(l=create_else_block$a()),{c(){t=element("div"),n=element("div"),r=space();for(let e=0;e<i.length;e+=1)i[e].c();l&&l.c(),attr(n,"class","block svelte-r7n4zx"),attr(t,"class","browse-control-container svelte-r7n4zx")},m(e,s){insert(e,t,s),append(t,n),append(t,r);for(let e=0;e<i.length;e+=1)i[e].m(t,null);l&&l.m(t,null),o=!0},p(e,[n]){if(15&n){let r;for(s=e[0],r=0;r<s.length;r+=1){const o=get_each_context$8(e,s,r);i[r]?(i[r].p(o,n),transition_in(i[r],1)):(i[r]=create_each_block$8(o),i[r].c(),transition_in(i[r],1),i[r].m(t,null))}for(group_outros(),r=s.length;r<i.length;r+=1)a(r);check_outros(),!s.length&&l?l.p(e,n):s.length?l&&(l.d(1),l=null):((l=create_else_block$a()).c(),l.m(t,null))}},i(e){if(!o){for(let e=0;e<s.length;e+=1)transition_in(i[e]);o=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)transition_out(i[e]);o=!1},d(e){e&&detach(t),destroy_each(i,e),l&&l.d()}}}function instance$k(e,t,n){let{categories:r}=t,o=null;return e.$$set=(e=>{"categories"in e&&n(0,r=e.categories)}),[r,o,function(e){n(1,o=e.detail.index)},function(e){f.goto(e.detail.path)}]}class ManageSidebar extends SvelteComponent{constructor(e){super(),init(this,e,instance$k,create_fragment$p,safe_not_equal,{categories:0})}}function create_fragment$q(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O;return{c(){t=element("div"),(n=element("h3")).textContent="기록물 조회",r=space(),o=element("div"),s=svg_element("svg"),i=svg_element("path"),l=space(),c=svg_element("svg"),d=svg_element("path"),p=svg_element("path"),h=space(),m=element("div"),f=svg_element("svg"),g=svg_element("path"),_=space(),w=svg_element("svg"),b=svg_element("path"),k=space(),$=svg_element("svg"),x=svg_element("path"),M=space(),(C=element("div")).innerHTML='<div class="keyword-holder-label svelte-9g2dpg"><h3 class="svelte-9g2dpg">키워드:</h3></div> \n            <div class="keyword-holder svelte-9g2dpg"><div class="keyword svelte-9g2dpg"><h3 class="svelte-9g2dpg">#이인호_동상</h3></div> \n                <div class="keyword svelte-9g2dpg"><h3 class="svelte-9g2dpg">#김재우</h3></div> \n                <div class="keyword svelte-9g2dpg"><h3 class="svelte-9g2dpg">#학정원_배경</h3></div> \n                <div class="keyword svelte-9g2dpg"><h3 class="svelte-9g2dpg">#2022</h3></div> \n                <div class="keyword svelte-9g2dpg"><h3 class="svelte-9g2dpg">#배경화면</h3></div></div>',attr(n,"class","svelte-9g2dpg"),attr(i,"stroke-linecap","round"),attr(i,"stroke-linejoin","round"),attr(i,"d","M8.25 6.75h12M8.25 12h12m-12 5.25h12M3.75 6.75h.007v.008H3.75V6.75zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zM3.75 12h.007v.008H3.75V12zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0zm-.375 5.25h.007v.008H3.75v-.008zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"),attr(s,"xmlns","http://www.w3.org/2000/svg"),attr(s,"fill","none"),attr(s,"viewBox","0 0 24 24"),attr(s,"stroke-width","2"),attr(s,"stroke",a="list"==e[0]?"rgb(4,145,173)":"white"),attr(s,"width","18"),attr(s,"height","18"),attr(d,"fill","none"),attr(d,"d","M0 0h24v24H0z"),attr(p,"d","M3 3h8v8H3V3zm0 10h8v8H3v-8zM13 3h8v8h-8V3zm0 10h8v8h-8v-8z"),attr(c,"xmlns","http://www.w3.org/2000/svg"),attr(c,"viewBox","0 0 24 24"),attr(c,"width","18"),attr(c,"height","18"),attr(c,"fill",u="box"==e[0]?"rgb(4,145,173)":"white"),attr(o,"class","svg-holder svelte-9g2dpg"),attr(g,"d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"),attr(f,"xmlns","http://www.w3.org/2000/svg"),attr(f,"viewBox","0 0 576 512"),attr(f,"width","18"),attr(f,"height","18"),attr(f,"fill",v=1==e[1]?"rgb(4,145,173)":"white"),attr(b,"d","M152 120c-26.51 0-48 21.49-48 48s21.49 48 48 48s48-21.49 48-48S178.5 120 152 120zM447.1 32h-384C28.65 32-.0091 60.65-.0091 96v320c0 35.35 28.65 64 63.1 64h384c35.35 0 64-28.65 64-64V96C511.1 60.65 483.3 32 447.1 32zM463.1 409.3l-136.8-185.9C323.8 218.8 318.1 216 312 216c-6.113 0-11.82 2.768-15.21 7.379l-106.6 144.1l-37.09-46.1c-3.441-4.279-8.934-6.809-14.77-6.809c-5.842 0-11.33 2.529-14.78 6.809l-75.52 93.81c0-.0293 0 .0293 0 0L47.99 96c0-8.822 7.178-16 16-16h384c8.822 0 16 7.178 16 16V409.3z"),attr(w,"xmlns","http://www.w3.org/2000/svg"),attr(w,"viewBox","0 0 512 512"),attr(w,"width","18"),attr(w,"height","18"),attr(w,"fill",y=0==e[1]?"rgb(4,145,173)":"white"),attr(x,"d","M0 64C0 28.7 28.7 0 64 0H224V128c0 17.7 14.3 32 32 32H384V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64zm384 64H256V0L384 128z"),attr($,"xmlns","http://www.w3.org/2000/svg"),attr($,"viewBox","0 0 384 512"),attr($,"width","18"),attr($,"height","18"),attr($,"fill",S=2==e[1]?"rgb(4,145,173)":"white"),attr(m,"class","form-change-holder svelte-9g2dpg"),attr(C,"class","keyword-holder-wrap svelte-9g2dpg"),attr(t,"class","browse-content-title svelte-9g2dpg")},m(a,u){insert(a,t,u),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),append(o,l),append(o,c),append(c,d),append(c,p),append(t,h),append(t,m),append(m,f),append(f,g),append(m,_),append(m,w),append(w,b),append(m,k),append(m,$),append($,x),append(t,M),append(t,C),T||(O=[listen(s,"click",e[4]),listen(c,"click",e[5]),listen(f,"click",e[6]),listen(w,"click",e[7]),listen($,"click",e[8])],T=!0)},p(e,[t]){1&t&&a!==(a="list"==e[0]?"rgb(4,145,173)":"white")&&attr(s,"stroke",a),1&t&&u!==(u="box"==e[0]?"rgb(4,145,173)":"white")&&attr(c,"fill",u),2&t&&v!==(v=1==e[1]?"rgb(4,145,173)":"white")&&attr(f,"fill",v),2&t&&y!==(y=0==e[1]?"rgb(4,145,173)":"white")&&attr(w,"fill",y),2&t&&S!==(S=2==e[1]?"rgb(4,145,173)":"white")&&attr($,"fill",S)},i:noop,o:noop,d(e){e&&detach(t),T=!1,run_all(O)}}}function instance$l(e,t,n){let{form:r=0}=t,{view:o="box"}=t;var s=createEventDispatcher();function i(e){"list"==e?(n(0,o="list"),s("viewChange",{view:"list"})):"box"==e?(n(0,o="box"),s("viewChange",{view:"box"})):console.log("Error on browse content view change")}function a(e){e in[0,1,2]&&s("formChange",{form:e})}return e.$$set=(e=>{"form"in e&&n(1,r=e.form),"view"in e&&n(0,o=e.view)}),[o,r,i,a,()=>i("list"),()=>i("box"),()=>a(1),()=>a(0),()=>a(2)]}class BrowseTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$l,create_fragment$q,safe_not_equal,{form:1,view:0})}}function OrderedMap(e){this.content=e}function findDiffStart(e,t,n){for(let r=0;;r++){if(r==e.childCount||r==t.childCount)return e.childCount==t.childCount?null:n;let o=e.child(r),s=t.child(r);if(o!=s){if(!o.sameMarkup(s))return n;if(o.isText&&o.text!=s.text){for(let e=0;o.text[e]==s.text[e];e++)n++;return n}if(o.content.size||s.content.size){let e=findDiffStart(o.content,s.content,n+1);if(null!=e)return e}n+=o.nodeSize}else n+=o.nodeSize}}function findDiffEnd(e,t,n,r){for(let o=e.childCount,s=t.childCount;;){if(0==o||0==s)return o==s?null:{a:n,b:r};let i=e.child(--o),a=t.child(--s),l=i.nodeSize;if(i!=a){if(!i.sameMarkup(a))return{a:n,b:r};if(i.isText&&i.text!=a.text){let e=0,t=Math.min(i.text.length,a.text.length);for(;e<t&&i.text[i.text.length-e-1]==a.text[a.text.length-e-1];)e++,n--,r--;return{a:n,b:r}}if(i.content.size||a.content.size){let e=findDiffEnd(i.content,a.content,n-1,r-1);if(e)return e}n-=l,r-=l}else n-=l,r-=l}}OrderedMap.prototype={constructor:OrderedMap,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return-1==t?void 0:this.content[t+1]},update:function(e,t,n){var r=n&&n!=e?this.remove(n):this,o=r.find(e),s=r.content.slice();return-1==o?s.push(n||e,t):(s[o+1]=t,n&&(s[o]=n)),new OrderedMap(s)},remove:function(e){var t=this.find(e);if(-1==t)return this;var n=this.content.slice();return n.splice(t,2),new OrderedMap(n)},addToStart:function(e,t){return new OrderedMap([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new OrderedMap(n)},addBefore:function(e,t,n){var r=this.remove(t),o=r.content.slice(),s=r.find(e);return o.splice(-1==s?o.length:s,0,t,n),new OrderedMap(o)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(e.content.concat(this.subtract(e).content)):this},append:function(e){return(e=OrderedMap.from(e)).size?new OrderedMap(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=OrderedMap.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}},OrderedMap.from=function(e){if(e instanceof OrderedMap)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new OrderedMap(t)};class Fragment{constructor(e,t){if(this.content=e,this.size=t||0,null==t)for(let t=0;t<e.length;t++)this.size+=e[t].nodeSize}nodesBetween(e,t,n,r=0,o){for(let s=0,i=0;i<t;s++){let a=this.content[s],l=i+a.nodeSize;if(l>e&&!1!==n(a,r+i,o||null,s)&&a.content.size){let o=i+1;a.nodesBetween(Math.max(0,e-o),Math.min(a.content.size,t-o),n,r+o)}i=l}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,n,r){let o="",s=!0;return this.nodesBetween(e,t,(i,a)=>{i.isText?(o+=i.text.slice(Math.max(e,a)-a,t-a),s=!n):i.isLeaf?(r?o+="function"==typeof r?r(i):r:i.type.spec.leafText&&(o+=i.type.spec.leafText(i)),s=!n):!s&&i.isBlock&&(o+=n,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,n=e.firstChild,r=this.content.slice(),o=0;for(t.isText&&t.sameMarkup(n)&&(r[r.length-1]=t.withText(t.text+n.text),o=1);o<e.content.length;o++)r.push(e.content[o]);return new Fragment(r,this.size+e.size)}cut(e,t=this.size){if(0==e&&t==this.size)return this;let n=[],r=0;if(t>e)for(let o=0,s=0;s<t;o++){let i=this.content[o],a=s+i.nodeSize;a>e&&((s<e||a>t)&&(i=i.isText?i.cut(Math.max(0,e-s),Math.min(i.text.length,t-s)):i.cut(Math.max(0,e-s-1),Math.min(i.content.size,t-s-1))),n.push(i),r+=i.nodeSize),s=a}return new Fragment(n,r)}cutByIndex(e,t){return e==t?Fragment.empty:0==e&&t==this.content.length?this:new Fragment(this.content.slice(e,t))}replaceChild(e,t){let n=this.content[e];if(n==t)return this;let r=this.content.slice(),o=this.size+t.nodeSize-n.nodeSize;return r[e]=t,new Fragment(r,o)}addToStart(e){return new Fragment([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Fragment(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,n=0;t<this.content.length;t++){let r=this.content[t];e(r,n,t),n+=r.nodeSize}}findDiffStart(e,t=0){return findDiffStart(this,e,t)}findDiffEnd(e,t=this.size,n=e.size){return findDiffEnd(this,e,t,n)}findIndex(e,t=-1){if(0==e)return retIndex(0,e);if(e==this.size)return retIndex(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,r=0;;n++){let o=r+this.child(n).nodeSize;if(o>=e)return o==e||t>0?retIndex(n+1,o):retIndex(n,r);r=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return Fragment.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new Fragment(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Fragment.empty;let t,n=0;for(let r=0;r<e.length;r++){let o=e[r];n+=o.nodeSize,r&&o.isText&&e[r-1].sameMarkup(o)?(t||(t=e.slice(0,r)),t[t.length-1]=o.withText(t[t.length-1].text+o.text)):t&&t.push(o)}return new Fragment(t||e,n)}static from(e){if(!e)return Fragment.empty;if(e instanceof Fragment)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Fragment([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Fragment.empty=new Fragment([],0);const found={index:0,offset:0};function retIndex(e,t){return found.index=e,found.offset=t,found}function compareDeep(e,t){if(e===t)return!0;if(!e||"object"!=typeof e||!t||"object"!=typeof t)return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!compareDeep(e[n],t[n]))return!1}else{for(let n in e)if(!(n in t&&compareDeep(e[n],t[n])))return!1;for(let n in t)if(!(n in e))return!1}return!0}class Mark{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,n=!1;for(let r=0;r<e.length;r++){let o=e[r];if(this.eq(o))return e;if(this.type.excludes(o.type))t||(t=e.slice(0,r));else{if(o.type.excludes(this.type))return e;!n&&o.type.rank>this.type.rank&&(t||(t=e.slice(0,r)),t.push(this),n=!0),t&&t.push(o)}}return t||(t=e.slice()),n||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&compareDeep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[t.type];if(!n)throw new RangeError(`There is no mark type ${t.type} in this schema`);return n.create(t.attrs)}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(t[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&0==e.length)return Mark.none;if(e instanceof Mark)return[e];let t=e.slice();return t.sort((e,t)=>e.type.rank-t.type.rank),t}}Mark.none=[];class ReplaceError extends Error{}class Slice{constructor(e,t,n){this.content=e,this.openStart=t,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let n=insertInto(this.content,e+this.openStart,t);return n&&new Slice(n,this.openStart,this.openEnd)}removeBetween(e,t){return new Slice(removeRange(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return Slice.empty;let n=t.openStart||0,r=t.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new Slice(Fragment.fromJSON(e,t.content),n,r)}static maxOpen(e,t=!0){let n=0,r=0;for(let r=e.firstChild;r&&!r.isLeaf&&(t||!r.type.spec.isolating);r=r.firstChild)n++;for(let n=e.lastChild;n&&!n.isLeaf&&(t||!n.type.spec.isolating);n=n.lastChild)r++;return new Slice(e,n,r)}}function removeRange(e,t,n){let{index:r,offset:o}=e.findIndex(t),s=e.maybeChild(r),{index:i,offset:a}=e.findIndex(n);if(o==t||s.isText){if(a!=n&&!e.child(i).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(r!=i)throw new RangeError("Removing non-flat range");return e.replaceChild(r,s.copy(removeRange(s.content,t-o-1,n-o-1)))}function insertInto(e,t,n,r){let{index:o,offset:s}=e.findIndex(t),i=e.maybeChild(o);if(s==t||i.isText)return r&&!r.canReplace(o,o,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=insertInto(i.content,t-s-1,n);return a&&e.replaceChild(o,i.copy(a))}function replace(e,t,n){if(n.openStart>e.depth)throw new ReplaceError("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ReplaceError("Inconsistent open depths");return replaceOuter(e,t,n,0)}function replaceOuter(e,t,n,r){let o=e.index(r),s=e.node(r);if(o==t.index(r)&&r<e.depth-n.openStart){let i=replaceOuter(e,t,n,r+1);return s.copy(s.content.replaceChild(o,i))}if(n.content.size){if(n.openStart||n.openEnd||e.depth!=r||t.depth!=r){let{start:o,end:i}=prepareSliceForReplace(n,e);return close(s,replaceThreeWay(e,o,i,t,r))}{let r=e.parent,o=r.content;return close(r,o.cut(0,e.parentOffset).append(n.content).append(o.cut(t.parentOffset)))}}return close(s,replaceTwoWay(e,t,r))}function checkJoin(e,t){if(!t.type.compatibleContent(e.type))throw new ReplaceError("Cannot join "+t.type.name+" onto "+e.type.name)}function joinable(e,t,n){let r=e.node(n);return checkJoin(r,t.node(n)),r}function addNode(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function addRange(e,t,n,r){let o=(t||e).node(n),s=0,i=t?t.index(n):o.childCount;e&&(s=e.index(n),e.depth>n?s++:e.textOffset&&(addNode(e.nodeAfter,r),s++));for(let e=s;e<i;e++)addNode(o.child(e),r);t&&t.depth==n&&t.textOffset&&addNode(t.nodeBefore,r)}function close(e,t){if(!e.type.validContent(t))throw new ReplaceError("Invalid content for node "+e.type.name);return e.copy(t)}function replaceThreeWay(e,t,n,r,o){let s=e.depth>o&&joinable(e,t,o+1),i=r.depth>o&&joinable(n,r,o+1),a=[];return addRange(null,e,o,a),s&&i&&t.index(o)==n.index(o)?(checkJoin(s,i),addNode(close(s,replaceThreeWay(e,t,n,r,o+1)),a)):(s&&addNode(close(s,replaceTwoWay(e,t,o+1)),a),addRange(t,n,o,a),i&&addNode(close(i,replaceTwoWay(n,r,o+1)),a)),addRange(r,null,o,a),new Fragment(a)}function replaceTwoWay(e,t,n){let r=[];if(addRange(null,e,n,r),e.depth>n){addNode(close(joinable(e,t,n+1),replaceTwoWay(e,t,n+1)),r)}return addRange(t,null,n,r),new Fragment(r)}function prepareSliceForReplace(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let e=n-1;e>=0;e--)r=t.node(e).copy(Fragment.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}Slice.empty=new Slice(Fragment.empty,0,0);class ResolvedPos{constructor(e,t,n){this.pos=e,this.path=t,this.parentOffset=n,this.depth=t.length/3-1}resolveDepth(e){return null==e?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[3*this.resolveDepth(e)]}index(e){return this.path[3*this.resolveDepth(e)+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e!=this.depth||this.textOffset?1:0)}start(e){return 0==(e=this.resolveDepth(e))?0:this.path[3*e-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]}after(e){if(!(e=this.resolveDepth(e)))throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[3*e-1]+this.path[3*e].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],r=e.child(t);return n?e.child(t).cut(n):r}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):0==e?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let n=this.path[3*t],r=0==t?0:this.path[3*t-1]+1;for(let t=0;t<e;t++)r+=n.child(t).nodeSize;return r}marks(){let e=this.parent,t=this.index();if(0==e.content.size)return Mark.none;if(this.textOffset)return e.child(t).marks;let n=e.maybeChild(t-1),r=e.maybeChild(t);if(!n){let e=n;n=r,r=e}let o=n.marks;for(var s=0;s<o.length;s++)!1!==o[s].type.spec.inclusive||r&&o[s].isInSet(r.marks)||(o=o[s--].removeFromSet(o));return o}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let n=t.marks,r=e.parent.maybeChild(e.index());for(var o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!t||t(this.node(n))))return new NodeRange(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let n=[],r=0,o=t;for(let t=e;;){let{index:e,offset:s}=t.content.findIndex(o),i=o-s;if(n.push(t,e,r+s),!i)break;if((t=t.child(e)).isText)break;o=i-1,r+=s+1}return new ResolvedPos(t,n,o)}static resolveCached(e,t){for(let n=0;n<resolveCache.length;n++){let r=resolveCache[n];if(r.pos==t&&r.doc==e)return r}let n=resolveCache[resolveCachePos]=ResolvedPos.resolve(e,t);return resolveCachePos=(resolveCachePos+1)%resolveCacheSize,n}}let resolveCache=[],resolveCachePos=0,resolveCacheSize=12;class NodeRange{constructor(e,t,n){this.$from=e,this.$to=t,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const emptyAttrs=Object.create(null);class Node{constructor(e,t,n,r=Mark.none){this.type=e,this.attrs=t,this.marks=r,this.content=n||Fragment.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,n,r=0){this.content.nodesBetween(e,t,n,r,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,n,r){return this.content.textBetween(e,t,n,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,n){return this.type==e&&compareDeep(this.attrs,t||e.defaultAttrs||emptyAttrs)&&Mark.sameSet(this.marks,n||Mark.none)}copy(e=null){return e==this.content?this:new Node(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Node(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return 0==e&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,n=!1){if(e==t)return Slice.empty;let r=this.resolve(e),o=this.resolve(t),s=n?0:r.sharedDepth(t),i=r.start(s),a=r.node(s).content.cut(r.pos-i,o.pos-i);return new Slice(a,r.depth-s,o.depth-s)}replace(e,t,n){return replace(this.resolve(e),this.resolve(t),n)}nodeAt(e){for(let t=this;;){let{index:n,offset:r}=t.content.findIndex(e);if(!(t=t.maybeChild(n)))return null;if(r==e||t.isText)return t;e-=r+1}}childAfter(e){let{index:t,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:n}}childBefore(e){if(0==e)return{node:null,index:0,offset:0};let{index:t,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(t),index:t,offset:n};let r=this.content.child(t-1);return{node:r,index:t-1,offset:n-r.nodeSize}}resolve(e){return ResolvedPos.resolveCached(this,e)}resolveNoCache(e){return ResolvedPos.resolve(this,e)}rangeHasMark(e,t,n){let r=!1;return t>e&&this.nodesBetween(e,t,e=>(n.isInSet(e.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wrapMarks(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,n=Fragment.empty,r=0,o=n.childCount){let s=this.contentMatchAt(e).matchFragment(n,r,o),i=s&&s.matchFragment(this.content,t);if(!i||!i.validEnd)return!1;for(let e=r;e<o;e++)if(!this.type.allowsMarks(n.child(e).marks))return!1;return!0}canReplaceWith(e,t,n,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(e).matchType(n),s=o&&o.matchFragment(this.content,t);return!!s&&s.validEnd}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Mark.none;for(let t=0;t<this.marks.length;t++)e=this.marks[t].addToSet(e);if(!Mark.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(e=>e.type.name)}`);this.content.forEach(e=>e.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(e=>e.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let n=null;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=t.marks.map(e.markFromJSON)}if("text"==t.type){if("string"!=typeof t.text)throw new RangeError("Invalid text node in JSON");return e.text(t.text,n)}let r=Fragment.fromJSON(e,t.content);return e.nodeType(t.type).create(t.attrs,r,n)}}Node.prototype.text=void 0;class TextNode extends Node{constructor(e,t,n,r){if(super(e,t,null,r),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wrapMarks(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new TextNode(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new TextNode(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return 0==e&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wrapMarks(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class ContentMatch{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let n=new TokenStream(e,t);if(null==n.next)return ContentMatch.empty;let r=parseExpr(n);n.next&&n.err("Unexpected trailing text");let o=dfa(nfa(r));return checkForDeadEnds(o,n),o}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,n=e.childCount){let r=this;for(let o=t;r&&o<n;o++)r=r.matchType(e.child(o).type);return r}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!t.isText&&!t.hasRequiredAttrs())return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let n=0;n<e.next.length;n++)if(this.next[t].type==e.next[n].type)return!0;return!1}fillBefore(e,t=!1,n=0){let r=[this];return function o(s,i){let a=s.matchFragment(e,n);if(a&&(!t||a.validEnd))return Fragment.from(i.map(e=>e.createAndFill()));for(let e=0;e<s.next.length;e++){let{type:t,next:n}=s.next[e];if(!t.isText&&!t.hasRequiredAttrs()&&-1==r.indexOf(n)){r.push(n);let e=o(n,i.concat(t));if(e)return e}}return null}(this,[])}findWrapping(e){for(let t=0;t<this.wrapCache.length;t+=2)if(this.wrapCache[t]==e)return this.wrapCache[t+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let r=n.shift(),o=r.match;if(o.matchType(e)){let e=[];for(let t=r;t.type;t=t.via)e.push(t.type);return e.reverse()}for(let e=0;e<o.next.length;e++){let{type:s,next:i}=o.next[e];s.isLeaf||s.hasRequiredAttrs()||s.name in t||r.type&&!i.validEnd||(n.push({match:s.contentMatch,type:s,via:r}),t[s.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];return function t(n){e.push(n);for(let r=0;r<n.next.length;r++)-1==e.indexOf(n.next[r].next)&&t(n.next[r].next)}(this),e.map((t,n)=>{let r=n+(t.validEnd?"*":" ")+" ";for(let n=0;n<t.next.length;n++)r+=(n?", ":"")+t.next[n].type.name+"->"+e.indexOf(t.next[n].next);return r}).join("\n")}}ContentMatch.empty=new ContentMatch(!0);class TokenStream{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function parseExpr(e){let t=[];do{t.push(parseExprSeq(e))}while(e.eat("|"));return 1==t.length?t[0]:{type:"choice",exprs:t}}function parseExprSeq(e){let t=[];do{t.push(parseExprSubscript(e))}while(e.next&&")"!=e.next&&"|"!=e.next);return 1==t.length?t[0]:{type:"seq",exprs:t}}function parseExprSubscript(e){let t=parseExprAtom(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else{if(!e.eat("{"))break;t=parseExprRange(e,t)}return t}function parseNum(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function parseExprRange(e,t){let n=parseNum(e),r=n;return e.eat(",")&&(r="}"!=e.next?parseNum(e):-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:t}}function resolveName(e,t){let n=e.nodeTypes,r=n[t];if(r)return[r];let o=[];for(let e in n){let r=n[e];r.groups.indexOf(t)>-1&&o.push(r)}return 0==o.length&&e.err("No node type or group '"+t+"' found"),o}function parseExprAtom(e){if(e.eat("(")){let t=parseExpr(e);return e.eat(")")||e.err("Missing closing paren"),t}if(!/\W/.test(e.next)){let t=resolveName(e,e.next).map(t=>(null==e.inline?e.inline=t.isInline:e.inline!=t.isInline&&e.err("Mixing inline and block content"),{type:"name",value:t}));return e.pos++,1==t.length?t[0]:{type:"choice",exprs:t}}e.err("Unexpected token '"+e.next+"'")}function nfa(e){let t=[[]];return o(function e(t,s){if("choice"==t.type)return t.exprs.reduce((t,n)=>t.concat(e(n,s)),[]);if("seq"!=t.type){if("star"==t.type){let i=n();return r(s,i),o(e(t.expr,i),i),[r(i)]}if("plus"==t.type){let i=n();return o(e(t.expr,s),i),o(e(t.expr,i),i),[r(i)]}if("opt"==t.type)return[r(s)].concat(e(t.expr,s));if("range"==t.type){let i=s;for(let r=0;r<t.min;r++){let r=n();o(e(t.expr,i),r),i=r}if(-1==t.max)o(e(t.expr,i),i);else for(let s=t.min;s<t.max;s++){let s=n();r(i,s),o(e(t.expr,i),s),i=s}return[r(i)]}if("name"==t.type)return[r(s,void 0,t.value)];throw new Error("Unknown expr type")}for(let r=0;;r++){let i=e(t.exprs[r],s);if(r==t.exprs.length-1)return i;o(i,s=n())}}(e,0),n()),t;function n(){return t.push([])-1}function r(e,n,r){let o={term:r,to:n};return t[e].push(o),o}function o(e,t){e.forEach(e=>e.to=t)}}function cmp(e,t){return t-e}function nullFrom(e,t){let n=[];return function t(r){let o=e[r];if(1==o.length&&!o[0].term)return t(o[0].to);n.push(r);for(let e=0;e<o.length;e++){let{term:r,to:s}=o[e];r||-1!=n.indexOf(s)||t(s)}}(t),n.sort(cmp)}function dfa(e){let t=Object.create(null);return function n(r){let o=[];r.forEach(t=>{e[t].forEach(({term:t,to:n})=>{if(!t)return;let r;for(let e=0;e<o.length;e++)o[e][0]==t&&(r=o[e][1]);nullFrom(e,n).forEach(e=>{r||o.push([t,r=[]]),-1==r.indexOf(e)&&r.push(e)})})});let s=t[r.join(",")]=new ContentMatch(r.indexOf(e.length-1)>-1);for(let e=0;e<o.length;e++){let r=o[e][1].sort(cmp);s.next.push({type:o[e][0],next:t[r.join(",")]||n(r)})}return s}(nullFrom(e,0))}function checkForDeadEnds(e,t){for(let n=0,r=[e];n<r.length;n++){let e=r[n],o=!e.validEnd,s=[];for(let t=0;t<e.next.length;t++){let{type:n,next:i}=e.next[t];s.push(n.name),!o||n.isText||n.hasRequiredAttrs()||(o=!1),-1==r.indexOf(i)&&r.push(i)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function defaultAttrs(e){let t=Object.create(null);for(let n in e){let r=e[n];if(!r.hasDefault)return null;t[n]=r.default}return t}function computeAttrs(e,t){let n=Object.create(null);for(let r in e){let o=t&&t[r];if(void 0===o){let t=e[r];if(!t.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=t.default}n[r]=o}return n}function initAttrs(e){let t=Object.create(null);if(e)for(let n in e)t[n]=new Attribute(e[n]);return t}class NodeType{constructor(e,t,n){this.name=e,this.schema=t,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=initAttrs(n.attrs),this.defaultAttrs=defaultAttrs(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==e),this.isText="text"==e}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==ContentMatch.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:computeAttrs(this.attrs,e)}create(e=null,t,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Node(this,this.computeAttrs(e),Fragment.from(t),Mark.setFrom(n))}createChecked(e=null,t,n){if(t=Fragment.from(t),!this.validContent(t))throw new RangeError("Invalid content for node "+this.name);return new Node(this,this.computeAttrs(e),t,Mark.setFrom(n))}createAndFill(e=null,t,n){if(e=this.computeAttrs(e),(t=Fragment.from(t)).size){let e=this.contentMatch.fillBefore(t);if(!e)return null;t=e.append(t)}let r=this.contentMatch.matchFragment(t),o=r&&r.fillBefore(Fragment.empty,!0);return o?new Node(this,e,t.append(o),Mark.setFrom(n)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let t=0;t<e.childCount;t++)if(!this.allowsMarks(e.child(t).marks))return!1;return!0}allowsMarkType(e){return null==this.markSet||this.markSet.indexOf(e)>-1}allowsMarks(e){if(null==this.markSet)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(null==this.markSet)return e;let t;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?t&&t.push(e[n]):t||(t=e.slice(0,n));return t?t.length?t:Mark.none:e}static compile(e,t){let n=Object.create(null);e.forEach((e,r)=>n[e]=new NodeType(e,t,r));let r=t.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let e in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}}class Attribute{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class MarkType{constructor(e,t,n,r){this.name=e,this.rank=t,this.schema=n,this.spec=r,this.attrs=initAttrs(r.attrs),this.excluded=null;let o=defaultAttrs(this.attrs);this.instance=o?new Mark(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Mark(this,computeAttrs(this.attrs,e))}static compile(e,t){let n=Object.create(null),r=0;return e.forEach((e,o)=>n[e]=new MarkType(e,r++,t,o)),n}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}excludes(e){return this.excluded.indexOf(e)>-1}}class Schema{constructor(e){this.cached=Object.create(null),this.spec={nodes:OrderedMap.from(e.nodes),marks:OrderedMap.from(e.marks||{}),topNode:e.topNode},this.nodes=NodeType.compile(this.spec.nodes,this),this.marks=MarkType.compile(this.spec.marks,this);let t=Object.create(null);for(let e in this.nodes){if(e in this.marks)throw new RangeError(e+" can not be both a node and a mark");let n=this.nodes[e],r=n.spec.content||"",o=n.spec.marks;n.contentMatch=t[r]||(t[r]=ContentMatch.parse(r,this.nodes)),n.inlineContent=n.contentMatch.inlineContent,n.markSet="_"==o?null:o?gatherMarks(this,o.split(" ")):""!=o&&n.inlineContent?null:[]}for(let e in this.marks){let t=this.marks[e],n=t.spec.excludes;t.excluded=null==n?[t]:""==n?[]:gatherMarks(this,n.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,n,r){if("string"==typeof e)e=this.nodeType(e);else{if(!(e instanceof NodeType))throw new RangeError("Invalid node type: "+e);if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}return e.createChecked(t,n,r)}text(e,t){let n=this.nodes.text;return new TextNode(n,n.defaultAttrs,e,Mark.setFrom(t))}mark(e,t){return"string"==typeof e&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return Node.fromJSON(this,e)}markFromJSON(e){return Mark.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function gatherMarks(e,t){let n=[];for(let r=0;r<t.length;r++){let o=t[r],s=e.marks[o],i=s;if(s)n.push(s);else for(let t in e.marks){let r=e.marks[t];("_"==o||r.spec.group&&r.spec.group.split(" ").indexOf(o)>-1)&&n.push(i=r)}if(!i)throw new SyntaxError("Unknown mark type: '"+t[r]+"'")}return n}class DOMParser{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[],t.forEach(e=>{e.tag?this.tags.push(e):e.style&&this.styles.push(e)}),this.normalizeLists=!this.tags.some(t=>{if(!/^(ul|ol)\b/.test(t.tag)||!t.node)return!1;let n=e.nodes[t.node];return n.contentMatch.matchType(n)})}parse(e,t={}){let n=new ParseContext(this,t,!1);return n.addAll(e,t.from,t.to),n.finish()}parseSlice(e,t={}){let n=new ParseContext(this,t,!0);return n.addAll(e,t.from,t.to),Slice.maxOpen(n.finish())}matchTag(e,t,n){for(let r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){let n=this.tags[r];if(matches(e,n.tag)&&(void 0===n.namespace||e.namespaceURI==n.namespace)&&(!n.context||t.matchesContext(n.context))){if(n.getAttrs){let t=n.getAttrs(e);if(!1===t)continue;n.attrs=t||void 0}return n}}}matchStyle(e,t,n,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let r=this.styles[o],s=r.style;if(!(0!=s.indexOf(e)||r.context&&!n.matchesContext(r.context)||s.length>e.length&&(61!=s.charCodeAt(e.length)||s.slice(e.length+1)!=t))){if(r.getAttrs){let e=r.getAttrs(t);if(!1===e)continue;r.attrs=e||void 0}return r}}}static schemaRules(e){let t=[];function n(e){let n=null==e.priority?50:e.priority,r=0;for(;r<t.length;r++){let e=t[r];if((null==e.priority?50:e.priority)<n)break}t.splice(r,0,e)}for(let t in e.marks){let r=e.marks[t].spec.parseDOM;r&&r.forEach(e=>{n(e=copy(e)),e.mark=t})}for(let t in e.nodes){let r=e.nodes[t].spec.parseDOM;r&&r.forEach(e=>{n(e=copy(e)),e.node=t})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new DOMParser(e,DOMParser.schemaRules(e)))}}const blockTags={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},ignoreTags={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},listTags={ol:!0,ul:!0},OPT_PRESERVE_WS=1,OPT_PRESERVE_WS_FULL=2,OPT_OPEN_LEFT=4;function wsOptionsFor(e,t,n){return null!=t?(t?OPT_PRESERVE_WS:0)|("full"===t?OPT_PRESERVE_WS_FULL:0):e&&"pre"==e.whitespace?OPT_PRESERVE_WS|OPT_PRESERVE_WS_FULL:n&~OPT_OPEN_LEFT}class NodeContext{constructor(e,t,n,r,o,s,i){this.type=e,this.attrs=t,this.marks=n,this.pendingMarks=r,this.solid=o,this.options=i,this.content=[],this.activeMarks=Mark.none,this.stashMarks=[],this.match=s||(i&OPT_OPEN_LEFT?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(Fragment.from(e));if(!t){let t,n=this.type.contentMatch;return(t=n.findWrapping(e.type))?(this.match=n,t):null}this.match=this.type.contentMatch.matchFragment(t)}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&OPT_PRESERVE_WS)){let e,t=this.content[this.content.length-1];if(t&&t.isText&&(e=/[ \t\r\n\u000c]+$/.exec(t.text))){let n=t;t.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length))}}let t=Fragment.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(Fragment.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}popFromStashMark(e){for(let t=this.stashMarks.length-1;t>=0;t--)if(e.eq(this.stashMarks[t]))return this.stashMarks.splice(t,1)[0]}applyPending(e){for(let t=0,n=this.pendingMarks;t<n.length;t++){let r=n[t];(this.type?this.type.allowsMarkType(r.type):markMayApply(r.type,e))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!blockTags.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class ParseContext{constructor(e,t,n){this.parser=e,this.options=t,this.isOpen=n,this.open=0;let r,o=t.topNode,s=wsOptionsFor(null,t.preserveWhitespace,0)|(n?OPT_OPEN_LEFT:0);r=o?new NodeContext(o.type,o.attrs,Mark.none,Mark.none,!0,t.topMatch||o.type.contentMatch,s):new NodeContext(n?null:e.schema.topNodeType,null,Mark.none,Mark.none,!0,null,s),this.nodes=[r],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(3==e.nodeType)this.addTextNode(e);else if(1==e.nodeType){let t=e.getAttribute("style"),n=t?this.readStyles(parseStyles(t)):null,r=this.top;if(null!=n)for(let e=0;e<n.length;e++)this.addPendingMark(n[e]);if(this.addElement(e),null!=n)for(let e=0;e<n.length;e++)this.removePendingMark(n[e],r)}}addTextNode(e){let t=e.nodeValue,n=this.top;if(n.options&OPT_PRESERVE_WS_FULL||n.inlineContext(e)||/[^ \t\r\n\u000c]/.test(t)){if(n.options&OPT_PRESERVE_WS)t=n.options&OPT_PRESERVE_WS_FULL?t.replace(/\r\n?/g,"\n"):t.replace(/\r?\n|\r/g," ");else if(t=t.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(t)&&this.open==this.nodes.length-1){let r=n.content[n.content.length-1],o=e.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(t=t.slice(1))}t&&this.insertNode(this.parser.schema.text(t)),this.findInText(e)}else this.findInside(e)}addElement(e,t){let n,r=e.nodeName.toLowerCase();listTags.hasOwnProperty(r)&&this.parser.normalizeLists&&normalizeList(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(n=this.parser.matchTag(e,this,t));if(o?o.ignore:ignoreTags.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let t,n=this.top,s=this.needsBlock;if(blockTags.hasOwnProperty(r))t=!0,n.type||(this.needsBlock=!0);else if(!e.firstChild)return void this.leafFallback(e);this.addAll(e),t&&this.sync(n),this.needsBlock=s}else this.addElementByRule(e,o,!1===o.consuming?n:void 0)}leafFallback(e){"BR"==e.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode("\n"))}ignoreFallback(e){"BR"!=e.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))}readStyles(e){let t=Mark.none;e:for(let n=0;n<e.length;n+=2)for(let r=void 0;;){let o=this.parser.matchStyle(e[n],e[n+1],this,r);if(!o)continue e;if(o.ignore)return null;if(t=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(t),!1!==o.consuming)break;r=o}return t}addElementByRule(e,t,n){let r,o,s;if(t.node)(o=this.parser.schema.nodes[t.node]).isLeaf?this.insertNode(o.create(t.attrs))||this.leafFallback(e):r=this.enter(o,t.attrs||null,t.preserveWhitespace);else{s=this.parser.schema.marks[t.mark].create(t.attrs),this.addPendingMark(s)}let i=this.top;if(o&&o.isLeaf)this.findInside(e);else if(n)this.addElement(e,n);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(e=>this.insertNode(e));else{let n=e;"string"==typeof t.contentElement?n=e.querySelector(t.contentElement):"function"==typeof t.contentElement?n=t.contentElement(e):t.contentElement&&(n=t.contentElement),this.findAround(e,n,!0),this.addAll(n)}r&&this.sync(i)&&this.open--,s&&this.removePendingMark(s,i)}addAll(e,t,n){let r=t||0;for(let o=t?e.childNodes[t]:e.firstChild,s=null==n?null:e.childNodes[n];o!=s;o=o.nextSibling,++r)this.findAtPoint(e,r),this.addDOM(o);this.findAtPoint(e,r)}findPlace(e){let t,n;for(let r=this.open;r>=0;r--){let o=this.nodes[r],s=o.findWrapping(e);if(s&&(!t||t.length>s.length)&&(t=s,n=o,!s.length))break;if(o.solid)break}if(!t)return!1;this.sync(n);for(let e=0;e<t.length;e++)this.enterInner(t[e],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(e)){this.closeExtra();let t=this.top;t.applyPending(e.type),t.match&&(t.match=t.match.matchType(e.type));let n=t.activeMarks;for(let r=0;r<e.marks.length;r++)t.type&&!t.type.allowsMarkType(e.marks[r].type)||(n=e.marks[r].addToSet(n));return t.content.push(e.mark(n)),!0}return!1}enter(e,t,n){let r=this.findPlace(e.create(t));return r&&this.enterInner(e,t,!0,n),r}enterInner(e,t=null,n=!1,r){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=wsOptionsFor(e,r,o.options);o.options&OPT_OPEN_LEFT&&0==o.content.length&&(s|=OPT_OPEN_LEFT),this.nodes.push(new NodeContext(e,t,o.activeMarks,o.pendingMarks,n,null,s)),this.open++}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let t=this.open;t>=0;t--)if(this.nodes[t]==e)return this.open=t,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let n=this.nodes[t].content;for(let t=n.length-1;t>=0;t--)e+=n[t].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==t&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)null==this.find[t].pos&&1==e.nodeType&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,n){if(e!=t&&this.find)for(let r=0;r<this.find.length;r++)if(null==this.find[r].pos&&1==e.nodeType&&e.contains(this.find[r].node)){t.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),n=this.options.context,r=!(this.isOpen||n&&n.parent.type!=this.nodes[0].type),o=-(n?n.depth+1:0)+(r?0:1),s=(e,i)=>{for(;e>=0;e--){let a=t[e];if(""==a){if(e==t.length-1||0==e)continue;for(;i>=o;i--)if(s(e-1,i))return!0;return!1}{let e=i>0||0==i&&r?this.nodes[i].type:n&&i>=o?n.node(i-o).type:null;if(!e||e.name!=a&&-1==e.groups.indexOf(a))return!1;i--}}return!0};return s(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let n=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let e in this.parser.schema.nodes){let t=this.parser.schema.nodes[e];if(t.isTextblock&&t.defaultAttrs)return t}}addPendingMark(e){let t=findSameMarkInSet(e,this.top.pendingMarks);t&&this.top.stashMarks.push(t),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,t){for(let n=this.open;n>=0;n--){let r=this.nodes[n];if(r.pendingMarks.lastIndexOf(e)>-1)r.pendingMarks=e.removeFromSet(r.pendingMarks);else{r.activeMarks=e.removeFromSet(r.activeMarks);let t=r.popFromStashMark(e);t&&r.type&&r.type.allowsMarkType(t.type)&&(r.activeMarks=t.addToSet(r.activeMarks))}if(r==t)break}}}function normalizeList(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let e=1==t.nodeType?t.nodeName.toLowerCase():null;e&&listTags.hasOwnProperty(e)&&n?(n.appendChild(t),t=n):"li"==e?n=t:e&&(n=null)}}function matches(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function parseStyles(e){let t,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;t=n.exec(e);)r.push(t[1],t[2].trim());return r}function copy(e){let t={};for(let n in e)t[n]=e[n];return t}function markMayApply(e,t){let n=t.schema.nodes;for(let r in n){let o=n[r];if(!o.allowsMarkType(e))continue;let s=[],i=e=>{s.push(e);for(let n=0;n<e.edgeCount;n++){let{type:r,next:o}=e.edge(n);if(r==t)return!0;if(s.indexOf(o)<0&&i(o))return!0}};if(i(o.contentMatch))return!0}}function findSameMarkInSet(e,t){for(let n=0;n<t.length;n++)if(e.eq(t[n]))return t[n]}class DOMSerializer{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},n){n||(n=doc(t).createDocumentFragment());let r=n,o=[];return e.forEach(e=>{if(o.length||e.marks.length){let n=0,s=0;for(;n<o.length&&s<e.marks.length;){let t=e.marks[s];if(this.marks[t.type.name]){if(!t.eq(o[n][0])||!1===t.type.spec.spanning)break;n++,s++}else s++}for(;n<o.length;)r=o.pop()[1];for(;s<e.marks.length;){let n=e.marks[s++],i=this.serializeMark(n,e.isInline,t);i&&(o.push([n,r]),r.appendChild(i.dom),r=i.contentDOM||i.dom)}}r.appendChild(this.serializeNodeInner(e,t))}),n}serializeNodeInner(e,t){let{dom:n,contentDOM:r}=DOMSerializer.renderSpec(doc(t),this.nodes[e.type.name](e));if(r){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,r)}return n}serializeNode(e,t={}){let n=this.serializeNodeInner(e,t);for(let r=e.marks.length-1;r>=0;r--){let o=this.serializeMark(e.marks[r],e.isInline,t);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n}serializeMark(e,t,n={}){let r=this.marks[e.type.name];return r&&DOMSerializer.renderSpec(doc(n),r(e,t))}static renderSpec(e,t,n=null){if("string"==typeof t)return{dom:e.createTextNode(t)};if(null!=t.nodeType)return{dom:t};if(t.dom&&null!=t.dom.nodeType)return t;let r,o=t[0],s=o.indexOf(" ");s>0&&(n=o.slice(0,s),o=o.slice(s+1));let i=n?e.createElementNS(n,o):e.createElement(o),a=t[1],l=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a)){l=2;for(let e in a)if(null!=a[e]){let t=e.indexOf(" ");t>0?i.setAttributeNS(e.slice(0,t),e.slice(t+1),a[e]):i.setAttribute(e,a[e])}}for(let o=l;o<t.length;o++){let s=t[o];if(0===s){if(o<t.length-1||o>l)throw new RangeError("Content hole must be the only child of its parent node");return{dom:i,contentDOM:i}}{let{dom:t,contentDOM:o}=DOMSerializer.renderSpec(e,s,n);if(i.appendChild(t),o){if(r)throw new RangeError("Multiple content holes");r=o}}}return{dom:i,contentDOM:r}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new DOMSerializer(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=gatherToDOM(e.nodes);return t.text||(t.text=(e=>e.text)),t}static marksFromSchema(e){return gatherToDOM(e.marks)}}function gatherToDOM(e){let t={};for(let n in e){let r=e[n].spec.toDOM;r&&(t[n]=r)}return t}function doc(e){return e.document||window.document}const lower16=65535,factor16=Math.pow(2,16);function makeRecover(e,t){return e+t*factor16}function recoverIndex(e){return e&lower16}function recoverOffset(e){return(e-(e&lower16))/factor16}const DEL_BEFORE=1,DEL_AFTER=2,DEL_ACROSS=4,DEL_SIDE=8;class MapResult{constructor(e,t,n){this.pos=e,this.delInfo=t,this.recover=n}get deleted(){return(this.delInfo&DEL_SIDE)>0}get deletedBefore(){return(this.delInfo&(DEL_BEFORE|DEL_ACROSS))>0}get deletedAfter(){return(this.delInfo&(DEL_AFTER|DEL_ACROSS))>0}get deletedAcross(){return(this.delInfo&DEL_ACROSS)>0}}class StepMap{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&StepMap.empty)return StepMap.empty}recover(e){let t=0,n=recoverIndex(e);if(!this.inverted)for(let e=0;e<n;e++)t+=this.ranges[3*e+2]-this.ranges[3*e+1];return this.ranges[3*n]+t+recoverOffset(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,n){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let i=0;i<this.ranges.length;i+=3){let a=this.ranges[i]-(this.inverted?r:0);if(a>e)break;let l=this.ranges[i+o],c=this.ranges[i+s],d=a+l;if(e<=d){let o=a+r+((l?e==a?-1:e==d?1:t:t)<0?0:c);if(n)return o;let s=e==(t<0?a:d)?null:makeRecover(i/3,e-a),p=e==a?DEL_AFTER:e==d?DEL_BEFORE:DEL_ACROSS;return(t<0?e!=a:e!=d)&&(p|=DEL_SIDE),new MapResult(o,p,s)}r+=c-l}return n?e+r:new MapResult(e+r,0,null)}touches(e,t){let n=0,r=recoverIndex(t),o=this.inverted?2:1,s=this.inverted?1:2;for(let t=0;t<this.ranges.length;t+=3){let i=this.ranges[t]-(this.inverted?n:0);if(i>e)break;let a=this.ranges[t+o];if(e<=i+a&&t==3*r)return!0;n+=this.ranges[t+s]-a}return!1}forEach(e){let t=this.inverted?2:1,n=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],i=s-(this.inverted?o:0),a=s+(this.inverted?0:o),l=this.ranges[r+t],c=this.ranges[r+n];e(i,i+l,a,a+c),o+=c-l}}invert(){return new StepMap(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return 0==e?StepMap.empty:new StepMap(e<0?[0,-e,0]:[0,0,e])}}StepMap.empty=new StepMap([]);class Mapping{constructor(e=[],t,n=0,r=e.length){this.maps=e,this.mirror=t,this.from=n,this.to=r}slice(e=0,t=this.maps.length){return new Mapping(this.maps,this.mirror,e,t)}copy(){return new Mapping(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,n=this.maps.length;t<e.maps.length;t++){let r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:void 0)}}getMirror(e){if(this.mirror)for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){let r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:void 0)}}invert(){let e=new Mapping;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,n){let r=0;for(let n=this.from;n<this.to;n++){let o=this.maps[n].mapResult(e,t);if(null!=o.recover){let t=this.getMirror(n);if(null!=t&&t>n&&t<this.to){n=t,e=this.maps[t].recover(o.recover);continue}}r|=o.delInfo,e=o.pos}return n?e:new MapResult(e,r,null)}}const stepsByID=Object.create(null);class Step{getMap(){return StepMap.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=stepsByID[t.stepType];if(!n)throw new RangeError(`No step type ${t.stepType} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in stepsByID)throw new RangeError("Duplicate use of step JSON ID "+e);return stepsByID[e]=t,t.prototype.jsonID=e,t}}class StepResult{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new StepResult(e,null)}static fail(e){return new StepResult(null,e)}static fromReplace(e,t,n,r){try{return StepResult.ok(e.replace(t,n,r))}catch(e){if(e instanceof ReplaceError)return StepResult.fail(e.message);throw e}}}function mapFragment(e,t,n){let r=[];for(let o=0;o<e.childCount;o++){let s=e.child(o);s.content.size&&(s=s.copy(mapFragment(s.content,t,s))),s.isInline&&(s=t(s,n,o)),r.push(s)}return Fragment.fromArray(r)}class AddMarkStep extends Step{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=e.resolve(this.from),r=n.node(n.sharedDepth(this.to)),o=new Slice(mapFragment(t.content,(e,t)=>e.isAtom&&t.type.allowsMarkType(this.mark.type)?e.mark(this.mark.addToSet(e.marks)):e,r),t.openStart,t.openEnd);return StepResult.fromReplace(e,this.from,this.to,o)}invert(){return new RemoveMarkStep(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new AddMarkStep(t.pos,n.pos,this.mark)}merge(e){return e instanceof AddMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new AddMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new AddMarkStep(t.from,t.to,e.markFromJSON(t.mark))}}Step.jsonID("addMark",AddMarkStep);class RemoveMarkStep extends Step{constructor(e,t,n){super(),this.from=e,this.to=t,this.mark=n}apply(e){let t=e.slice(this.from,this.to),n=new Slice(mapFragment(t.content,e=>e.mark(this.mark.removeFromSet(e.marks)),e),t.openStart,t.openEnd);return StepResult.fromReplace(e,this.from,this.to,n)}invert(){return new AddMarkStep(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deleted&&n.deleted||t.pos>=n.pos?null:new RemoveMarkStep(t.pos,n.pos,this.mark)}merge(e){return e instanceof RemoveMarkStep&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new RemoveMarkStep(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new RemoveMarkStep(t.from,t.to,e.markFromJSON(t.mark))}}Step.jsonID("removeMark",RemoveMarkStep);class AddNodeMarkStep extends Step{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return StepResult.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let e=this.mark.addToSet(t.marks);if(e.length==t.marks.length){for(let n=0;n<t.marks.length;n++)if(!t.marks[n].isInSet(e))return new AddNodeMarkStep(this.pos,t.marks[n]);return new AddNodeMarkStep(this.pos,this.mark)}}return new RemoveNodeMarkStep(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new AddNodeMarkStep(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new AddNodeMarkStep(t.pos,e.markFromJSON(t.mark))}}Step.jsonID("addNodeMark",AddNodeMarkStep);class RemoveNodeMarkStep extends Step{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return StepResult.fail("No node at mark step's position");let n=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(n),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return t&&this.mark.isInSet(t.marks)?new AddNodeMarkStep(this.pos,this.mark):this}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new RemoveNodeMarkStep(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new RemoveNodeMarkStep(t.pos,e.markFromJSON(t.mark))}}Step.jsonID("removeNodeMark",RemoveNodeMarkStep);class ReplaceStep extends Step{constructor(e,t,n,r=!1){super(),this.from=e,this.to=t,this.slice=n,this.structure=r}apply(e){return this.structure&&contentBetween(e,this.from,this.to)?StepResult.fail("Structure replace would overwrite content"):StepResult.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new StepMap([this.from,this.to-this.from,this.slice.size])}invert(e){return new ReplaceStep(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return t.deletedAcross&&n.deletedAcross?null:new ReplaceStep(t.pos,Math.max(t.pos,n.pos),this.slice)}merge(e){if(!(e instanceof ReplaceStep)||e.structure||this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;{let t=this.slice.size+e.slice.size==0?Slice.empty:new Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ReplaceStep(e.from,this.to,t,this.structure)}}{let t=this.slice.size+e.slice.size==0?Slice.empty:new Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ReplaceStep(this.from,this.to+(e.to-e.from),t,this.structure)}}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ReplaceStep(t.from,t.to,Slice.fromJSON(e,t.slice),!!t.structure)}}Step.jsonID("replace",ReplaceStep);class ReplaceAroundStep extends Step{constructor(e,t,n,r,o,s,i=!1){super(),this.from=e,this.to=t,this.gapFrom=n,this.gapTo=r,this.slice=o,this.insert=s,this.structure=i}apply(e){if(this.structure&&(contentBetween(e,this.from,this.gapFrom)||contentBetween(e,this.gapTo,this.to)))return StepResult.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return StepResult.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,t.content);return n?StepResult.fromReplace(e,this.from,this.to,n):StepResult.fail("Content does not fit in gap")}getMap(){return new StepMap([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new ReplaceAroundStep(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),r=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return t.deletedAcross&&n.deletedAcross||r<t.pos||o>n.pos?null:new ReplaceAroundStep(t.pos,n.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if("number"!=typeof t.from||"number"!=typeof t.to||"number"!=typeof t.gapFrom||"number"!=typeof t.gapTo||"number"!=typeof t.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ReplaceAroundStep(t.from,t.to,t.gapFrom,t.gapTo,Slice.fromJSON(e,t.slice),t.insert,!!t.structure)}}function contentBetween(e,t,n){let r=e.resolve(t),o=n-t,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let e=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!e||e.isLeaf)return!0;e=e.firstChild,o--}}return!1}function addMark(e,t,n,r){let o,s,i=[],a=[];e.doc.nodesBetween(t,n,(e,l,c)=>{if(!e.isInline)return;let d=e.marks;if(!r.isInSet(d)&&c.type.allowsMarkType(r.type)){let c=Math.max(l,t),p=Math.min(l+e.nodeSize,n),u=r.addToSet(d);for(let e=0;e<d.length;e++)d[e].isInSet(u)||(o&&o.to==c&&o.mark.eq(d[e])?o.to=p:i.push(o=new RemoveMarkStep(c,p,d[e])));s&&s.to==c?s.to=p:a.push(s=new AddMarkStep(c,p,r))}}),i.forEach(t=>e.step(t)),a.forEach(t=>e.step(t))}function removeMark(e,t,n,r){let o=[],s=0;e.doc.nodesBetween(t,n,(e,i)=>{if(!e.isInline)return;s++;let a=null;if(r instanceof MarkType){let t,n=e.marks;for(;t=r.isInSet(n);)(a||(a=[])).push(t),n=t.removeFromSet(n)}else r?r.isInSet(e.marks)&&(a=[r]):a=e.marks;if(a&&a.length){let r=Math.min(i+e.nodeSize,n);for(let e=0;e<a.length;e++){let n,l=a[e];for(let e=0;e<o.length;e++){let t=o[e];t.step==s-1&&l.eq(o[e].style)&&(n=t)}n?(n.to=r,n.step=s):o.push({style:l,from:Math.max(i,t),to:r,step:s})}}}),o.forEach(t=>e.step(new RemoveMarkStep(t.from,t.to,t.style)))}function clearIncompatible(e,t,n,r=n.contentMatch){let o=e.doc.nodeAt(t),s=[],i=t+1;for(let t=0;t<o.childCount;t++){let a=o.child(t),l=i+a.nodeSize,c=r.matchType(a.type);if(c){r=c;for(let t=0;t<a.marks.length;t++)n.allowsMarkType(a.marks[t].type)||e.step(new RemoveMarkStep(i,l,a.marks[t]))}else s.push(new ReplaceStep(i,l,Slice.empty));i=l}if(!r.validEnd){let t=r.fillBefore(Fragment.empty,!0);e.replace(i,i,new Slice(t,0,0))}for(let t=s.length-1;t>=0;t--)e.step(s[t])}function canCut(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function liftTarget(e){let t=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let n=e.depth;;--n){let r=e.$from.node(n),o=e.$from.index(n),s=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,s,t))return n;if(0==n||r.type.spec.isolating||!canCut(r,o,s))break}return null}function lift(e,t,n){let{$from:r,$to:o,depth:s}=t,i=r.before(s+1),a=o.after(s+1),l=i,c=a,d=Fragment.empty,p=0;for(let e=s,t=!1;e>n;e--)t||r.index(e)>0?(t=!0,d=Fragment.from(r.node(e).copy(d)),p++):l--;let u=Fragment.empty,h=0;for(let e=s,t=!1;e>n;e--)t||o.after(e+1)<o.end(e)?(t=!0,u=Fragment.from(o.node(e).copy(u)),h++):c++;e.step(new ReplaceAroundStep(l,c,i,a,new Slice(d.append(u),p,h),d.size-p,!0))}function findWrapping(e,t,n=null,r=e){let o=findWrappingOutside(e,t),s=o&&findWrappingInside(r,t);return s?o.map(withAttrs).concat({type:t,attrs:n}).concat(s.map(withAttrs)):null}function withAttrs(e){return{type:e,attrs:null}}function findWrappingOutside(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.contentMatchAt(r).findWrapping(t);if(!s)return null;let i=s.length?s[0]:t;return n.canReplaceWith(r,o,i)?s:null}function findWrappingInside(e,t){let{parent:n,startIndex:r,endIndex:o}=e,s=n.child(r),i=t.contentMatch.findWrapping(s.type);if(!i)return null;let a=(i.length?i[i.length-1]:t).contentMatch;for(let e=r;a&&e<o;e++)a=a.matchType(n.child(e).type);return a&&a.validEnd?i:null}function wrap(e,t,n){let r=Fragment.empty;for(let e=n.length-1;e>=0;e--){if(r.size){let t=n[e].type.contentMatch.matchFragment(r);if(!t||!t.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Fragment.from(n[e].type.create(n[e].attrs,r))}let o=t.start,s=t.end;e.step(new ReplaceAroundStep(o,s,o,s,new Slice(r,0,0),n.length,!0))}function setBlockType(e,t,n,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=e.steps.length;e.doc.nodesBetween(t,n,(t,n)=>{if(t.isTextblock&&!t.hasMarkup(r,o)&&canChangeType(e.doc,e.mapping.slice(s).map(n),r)){e.clearIncompatible(e.mapping.slice(s).map(n,1),r);let i=e.mapping.slice(s),a=i.map(n,1),l=i.map(n+t.nodeSize,1);return e.step(new ReplaceAroundStep(a,l,a+1,l-1,new Slice(Fragment.from(r.create(o,null,t.marks)),0,0),1,!0)),!1}})}function canChangeType(e,t,n){let r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}function setNodeMarkup(e,t,n,r,o){let s=e.doc.nodeAt(t);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let i=n.create(r,null,o||s.marks);if(s.isLeaf)return e.replaceWith(t,t+s.nodeSize,i);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new ReplaceAroundStep(t,t+s.nodeSize,t+1,t+s.nodeSize-1,new Slice(Fragment.from(i),0,0),1,!0))}function canSplit(e,t,n=1,r){let o=e.resolve(t),s=o.depth-n,i=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!i.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let e=o.depth-1,t=n-2;e>s;e--,t--){let n=o.node(e),s=o.index(e);if(n.type.spec.isolating)return!1;let i=n.content.cutByIndex(s,n.childCount),a=r&&r[t]||n;if(a!=n&&(i=i.replaceChild(0,a.type.create(a.attrs))),!n.canReplace(s+1,n.childCount)||!a.type.validContent(i))return!1}let a=o.indexAfter(s),l=r&&r[0];return o.node(s).canReplaceWith(a,a,l?l.type:o.node(s+1).type)}function split(e,t,n=1,r){let o=e.doc.resolve(t),s=Fragment.empty,i=Fragment.empty;for(let e=o.depth,t=o.depth-n,a=n-1;e>t;e--,a--){s=Fragment.from(o.node(e).copy(s));let t=r&&r[a];i=Fragment.from(t?t.type.create(t.attrs,i):o.node(e).copy(i))}e.step(new ReplaceStep(t,t,new Slice(s.append(i),n,n),!0))}function canJoin(e,t){let n=e.resolve(t),r=n.index();return joinable$1(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function joinable$1(e,t){return!(!e||!t||e.isLeaf||!e.canAppend(t))}function join(e,t,n){let r=new ReplaceStep(t-n,t+n,Slice.empty,!0);e.step(r)}function insertPoint(e,t,n){let r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(let e=r.depth-1;e>=0;e--){let t=r.index(e);if(r.node(e).canReplaceWith(t,t,n))return r.before(e+1);if(t>0)return null}if(r.parentOffset==r.parent.content.size)for(let e=r.depth-1;e>=0;e--){let t=r.indexAfter(e);if(r.node(e).canReplaceWith(t,t,n))return r.after(e+1);if(t<r.node(e).childCount)return null}return null}function dropPoint(e,t,n){let r=e.resolve(t);if(!n.content.size)return t;let o=n.content;for(let e=0;e<n.openStart;e++)o=o.firstChild.content;for(let e=1;e<=(0==n.openStart&&n.size?2:1);e++)for(let t=r.depth;t>=0;t--){let n=t==r.depth?0:r.pos<=(r.start(t+1)+r.end(t+1))/2?-1:1,s=r.index(t)+(n>0?1:0),i=r.node(t),a=!1;if(1==e)a=i.canReplace(s,s,o);else{let e=i.contentMatchAt(s).findWrapping(o.firstChild.type);a=e&&i.canReplaceWith(s,s,e[0])}if(a)return 0==n?r.pos:n<0?r.before(t+1):r.after(t+1)}return null}function replaceStep(e,t,n=t,r=Slice.empty){if(t==n&&!r.size)return null;let o=e.resolve(t),s=e.resolve(n);return fitsTrivially(o,s,r)?new ReplaceStep(t,n,r):new Fitter(o,s,r).fit()}function fitsTrivially(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}Step.jsonID("replaceAround",ReplaceAroundStep);class Fitter{constructor(e,t,n){this.$from=e,this.$to=t,this.unplaced=n,this.frontier=[],this.placed=Fragment.empty;for(let t=0;t<=e.depth;t++){let n=e.node(t);this.frontier.push({type:n.type,match:n.contentMatchAt(e.indexAfter(t))})}for(let t=e.depth;t>0;t--)this.placed=Fragment.from(e.node(t).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,n=this.$from,r=this.close(e<0?this.$to:n.doc.resolve(e));if(!r)return null;let o=this.placed,s=n.depth,i=r.depth;for(;s&&i&&1==o.childCount;)o=o.firstChild.content,s--,i--;let a=new Slice(o,s,i);return e>-1?new ReplaceAroundStep(n.pos,e,this.$to.pos,this.$to.end(),a,t):a.size||n.pos!=this.$to.pos?new ReplaceStep(n.pos,r.pos,a):null}findFittable(){for(let e=1;e<=2;e++)for(let t=this.unplaced.openStart;t>=0;t--){let n,r=null,o=(n=t?(r=contentAt(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild;for(let n=this.depth;n>=0;n--){let s,{type:i,match:a}=this.frontier[n],l=null;if(1==e&&(o?a.matchType(o.type)||(l=a.fillBefore(Fragment.from(o),!1)):r&&i.compatibleContent(r.type)))return{sliceDepth:t,frontierDepth:n,parent:r,inject:l};if(2==e&&o&&(s=a.findWrapping(o.type)))return{sliceDepth:t,frontierDepth:n,parent:r,wrap:s};if(r&&a.matchType(r.type))break}}}openMore(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=contentAt(e,t);return!(!r.childCount||r.firstChild.isLeaf)&&(this.unplaced=new Slice(e,t+1,Math.max(n,r.size+t>=e.size-n?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:n}=this.unplaced,r=contentAt(e,t);if(r.childCount<=1&&t>0){let o=e.size-t<=t+r.size;this.unplaced=new Slice(dropFromFragment(e,t-1,1),t-1,o?t-1:n)}else this.unplaced=new Slice(dropFromFragment(e,t,1),t,n)}placeNodes({sliceDepth:e,frontierDepth:t,parent:n,inject:r,wrap:o}){for(;this.depth>t;)this.closeFrontierNode();if(o)for(let e=0;e<o.length;e++)this.openFrontierNode(o[e]);let s=this.unplaced,i=n?n.content:s.content,a=s.openStart-e,l=0,c=[],{match:d,type:p}=this.frontier[t];if(r){for(let e=0;e<r.childCount;e++)c.push(r.child(e));d=d.matchFragment(r)}let u=i.size+e-(s.content.size-s.openEnd);for(;l<i.childCount;){let e=i.child(l),t=d.matchType(e.type);if(!t)break;(++l>1||0==a||e.content.size)&&(d=t,c.push(closeNodeStart(e.mark(p.allowedMarks(e.marks)),1==l?a:0,l==i.childCount?u:-1)))}let h=l==i.childCount;h||(u=-1),this.placed=addToFragment(this.placed,t,Fragment.from(c)),this.frontier[t].match=d,h&&u<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let e=0,t=i;e<u;e++){let e=t.lastChild;this.frontier.push({type:e.type,match:e.contentMatchAt(e.childCount)}),t=e.content}this.unplaced=h?0==e?Slice.empty:new Slice(dropFromFragment(s.content,e-1,1),e-1,u<0?s.openEnd:e-1):new Slice(dropFromFragment(s.content,e,l),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e,t=this.frontier[this.depth];if(!t.type.isTextblock||!contentAfterFits(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;let{depth:n}=this.$to,r=this.$to.after(n);for(;n>1&&r==this.$to.end(--n);)++r;return r}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:n,type:r}=this.frontier[t],o=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),s=contentAfterFits(e,t,r,n,o);if(s){for(let n=t-1;n>=0;n--){let{match:t,type:r}=this.frontier[n],o=contentAfterFits(e,n,r,t,!0);if(!o||o.childCount)continue e}return{depth:t,fit:s,move:o?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=addToFragment(this.placed,t.depth,t.fit)),e=t.move;for(let n=t.depth+1;n<=e.depth;n++){let t=e.node(n),r=t.type.contentMatch.fillBefore(t.content,!0,e.index(n));this.openFrontierNode(t.type,t.attrs,r)}return e}openFrontierNode(e,t=null,n){let r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=addToFragment(this.placed,this.depth,Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(Fragment.empty,!0);e.childCount&&(this.placed=addToFragment(this.placed,this.frontier.length,e))}}function dropFromFragment(e,t,n){return 0==t?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(dropFromFragment(e.firstChild.content,t-1,n)))}function addToFragment(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(addToFragment(e.lastChild.content,t-1,n)))}function contentAt(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function closeNodeStart(e,t,n){if(t<=0)return e;let r=e.content;return t>1&&(r=r.replaceChild(0,closeNodeStart(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(Fragment.empty,!0)))),e.copy(r)}function contentAfterFits(e,t,n,r,o){let s=e.node(t),i=o?e.indexAfter(t):e.index(t);if(i==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,i);return a&&!invalidMarks(n,s.content,i)?a:null}function invalidMarks(e,t,n){for(let r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}function definesContent(e){return e.spec.defining||e.spec.definingForContent}function replaceRange(e,t,n,r){if(!r.size)return e.deleteRange(t,n);let o=e.doc.resolve(t),s=e.doc.resolve(n);if(fitsTrivially(o,s,r))return e.step(new ReplaceStep(t,n,r));let i=coveredDepths(o,e.doc.resolve(n));0==i[i.length-1]&&i.pop();let a=-(o.depth+1);i.unshift(a);for(let e=o.depth,t=o.pos-1;e>0;e--,t--){let n=o.node(e).type.spec;if(n.defining||n.definingAsContext||n.isolating)break;i.indexOf(e)>-1?a=e:o.before(e)==t&&i.splice(1,0,-e)}let l=i.indexOf(a),c=[],d=r.openStart;for(let e=r.content,t=0;;t++){let n=e.firstChild;if(c.push(n),t==r.openStart)break;e=n.content}for(let e=d-1;e>=0;e--){let t=c[e].type,n=definesContent(t);if(n&&o.node(l).type!=t)d=e;else if(n||!t.isTextblock)break}for(let t=r.openStart;t>=0;t--){let a=(t+d+1)%(r.openStart+1),p=c[a];if(p)for(let t=0;t<i.length;t++){let c=i[(t+l)%i.length],d=!0;c<0&&(d=!1,c=-c);let u=o.node(c-1),h=o.index(c-1);if(u.canReplaceWith(h,h,p.type,p.marks))return e.replace(o.before(c),d?s.after(c):n,new Slice(closeFragment(r.content,0,r.openStart,a),a,r.openEnd))}}let p=e.steps.length;for(let a=i.length-1;a>=0&&(e.replace(t,n,r),!(e.steps.length>p));a--){let e=i[a];e<0||(t=o.before(e),n=s.after(e))}}function closeFragment(e,t,n,r,o){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(closeFragment(o.content,t+1,n,r,o)))}if(t>r){let t=o.contentMatchAt(0),n=t.fillBefore(e).append(e);e=n.append(t.matchFragment(n).fillBefore(Fragment.empty,!0))}return e}function replaceRangeWith(e,t,n,r){if(!r.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let o=insertPoint(e.doc,t,r.type);null!=o&&(t=n=o)}e.replaceRange(t,n,new Slice(Fragment.from(r),0,0))}function deleteRange(e,t,n){let r=e.doc.resolve(t),o=e.doc.resolve(n),s=coveredDepths(r,o);for(let t=0;t<s.length;t++){let n=s[t],i=t==s.length-1;if(i&&0==n||r.node(n).type.contentMatch.validEnd)return e.delete(r.start(n),o.end(n));if(n>0&&(i||r.node(n-1).canReplace(r.index(n-1),o.indexAfter(n-1))))return e.delete(r.before(n),o.after(n))}for(let s=1;s<=r.depth&&s<=o.depth;s++)if(t-r.start(s)==r.depth-s&&n>r.end(s)&&o.end(s)-n!=o.depth-s)return e.delete(r.before(s),n);e.delete(t,n)}function coveredDepths(e,t){let n=[];for(let r=Math.min(e.depth,t.depth);r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class AttrStep extends Step{constructor(e,t,n){super(),this.pos=e,this.attr=t,this.value=n}apply(e){let t=e.nodeAt(this.pos);if(!t)return StepResult.fail("No node at attribute step's position");let n=Object.create(null);for(let e in t.attrs)n[e]=t.attrs[e];n[this.attr]=this.value;let r=t.type.create(n,null,t.marks);return StepResult.fromReplace(e,this.pos,this.pos+1,new Slice(Fragment.from(r),0,t.isLeaf?0:1))}getMap(){return StepMap.empty}invert(e){return new AttrStep(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new AttrStep(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if("number"!=typeof t.pos||"string"!=typeof t.attr)throw new RangeError("Invalid input for AttrStep.fromJSON");return new AttrStep(t.pos,t.attr,t.value)}}Step.jsonID("attr",AttrStep);let TransformError=class extends Error{};TransformError=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n},TransformError.prototype=Object.create(Error.prototype),TransformError.prototype.constructor=TransformError,TransformError.prototype.name="TransformError";class Transform{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Mapping}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new TransformError(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,n=Slice.empty){let r=replaceStep(this.doc,e,t,n);return r&&this.step(r),this}replaceWith(e,t,n){return this.replace(e,t,new Slice(Fragment.from(n),0,0))}delete(e,t){return this.replace(e,t,Slice.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,n){return replaceRange(this,e,t,n),this}replaceRangeWith(e,t,n){return replaceRangeWith(this,e,t,n),this}deleteRange(e,t){return deleteRange(this,e,t),this}lift(e,t){return lift(this,e,t),this}join(e,t=1){return join(this,e,t),this}wrap(e,t){return wrap(this,e,t),this}setBlockType(e,t=e,n,r=null){return setBlockType(this,e,t,n,r),this}setNodeMarkup(e,t,n=null,r=[]){return setNodeMarkup(this,e,t,n,r),this}setNodeAttribute(e,t,n){return this.step(new AttrStep(e,t,n)),this}addNodeMark(e,t){return this.step(new AddNodeMarkStep(e,t)),this}removeNodeMark(e,t){if(!(t instanceof Mark)){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(!(t=t.isInSet(n.marks)))return this}return this.step(new RemoveNodeMarkStep(e,t)),this}split(e,t=1,n){return split(this,e,t,n),this}addMark(e,t,n){return addMark(this,e,t,n),this}removeMark(e,t,n){return removeMark(this,e,t,n),this}clearIncompatible(e,t,n){return clearIncompatible(this,e,t,n),this}}const classesById=Object.create(null);class Selection{constructor(e,t,n){this.$anchor=e,this.$head=t,this.ranges=n||[new SelectionRange(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=Slice.empty){let n=t.content.lastChild,r=null;for(let e=0;e<t.openEnd;e++)r=n,n=n.lastChild;let o=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:a,$to:l}=s[i],c=e.mapping.slice(o);e.replaceRange(c.map(a.pos),c.map(l.pos),i?Slice.empty:t),0==i&&selectionToInsertionEnd(e,o,(n?n.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(e,t){let n=e.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:i}=r[o],a=e.mapping.slice(n),l=a.map(s.pos),c=a.map(i.pos);o?e.deleteRange(l,c):(e.replaceRangeWith(l,c,t),selectionToInsertionEnd(e,n,t.isInline?-1:1))}}static findFrom(e,t,n=!1){let r=e.parent.inlineContent?new TextSelection(e):findSelectionIn(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(let r=e.depth-1;r>=0;r--){let o=t<0?findSelectionIn(e.node(0),e.node(r),e.before(r+1),e.index(r),t,n):findSelectionIn(e.node(0),e.node(r),e.after(r+1),e.index(r)+1,t,n);if(o)return o}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new AllSelection(e.node(0))}static atStart(e){return findSelectionIn(e,e,0,0,1)||new AllSelection(e)}static atEnd(e){return findSelectionIn(e,e,e.content.size,e.childCount,-1)||new AllSelection(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=classesById[t.type];if(!n)throw new RangeError(`No selection type ${t.type} defined`);return n.fromJSON(e,t)}static jsonID(e,t){if(e in classesById)throw new RangeError("Duplicate use of selection JSON ID "+e);return classesById[e]=t,t.prototype.jsonID=e,t}getBookmark(){return TextSelection.between(this.$anchor,this.$head).getBookmark()}}Selection.prototype.visible=!0;class SelectionRange{constructor(e,t){this.$from=e,this.$to=t}}let warnedAboutTextSelection=!1;function checkTextSelection(e){warnedAboutTextSelection||e.parent.inlineContent||(warnedAboutTextSelection=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class TextSelection extends Selection{constructor(e,t=e){checkTextSelection(e),checkTextSelection(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let n=e.resolve(t.map(this.head));if(!n.parent.inlineContent)return Selection.near(n);let r=e.resolve(t.map(this.anchor));return new TextSelection(r.parent.inlineContent?r:n,n)}replace(e,t=Slice.empty){if(super.replace(e,t),t==Slice.empty){let t=this.$from.marksAcross(this.$to);t&&e.ensureMarks(t)}}eq(e){return e instanceof TextSelection&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new TextBookmark(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if("number"!=typeof t.anchor||"number"!=typeof t.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new TextSelection(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,n=t){let r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))}static between(e,t,n){let r=e.pos-t.pos;if(n&&!r||(n=r>=0?1:-1),!t.parent.inlineContent){let e=Selection.findFrom(t,n,!0)||Selection.findFrom(t,-n,!0);if(!e)return Selection.near(t,n);t=e.$head}return e.parent.inlineContent||(0==r?e=t:(e=(Selection.findFrom(e,-n,!0)||Selection.findFrom(e,n,!0)).$anchor).pos<t.pos!=r<0&&(e=t)),new TextSelection(e,t)}}Selection.jsonID("text",TextSelection);class TextBookmark{constructor(e,t){this.anchor=e,this.head=t}map(e){return new TextBookmark(e.map(this.anchor),e.map(this.head))}resolve(e){return TextSelection.between(e.resolve(this.anchor),e.resolve(this.head))}}class NodeSelection extends Selection{constructor(e){let t=e.nodeAfter,n=e.node(0).resolve(e.pos+t.nodeSize);super(e,n),this.node=t}map(e,t){let{deleted:n,pos:r}=t.mapResult(this.anchor),o=e.resolve(r);return n?Selection.near(o):new NodeSelection(o)}content(){return new Slice(Fragment.from(this.node),0,0)}eq(e){return e instanceof NodeSelection&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new NodeBookmark(this.anchor)}static fromJSON(e,t){if("number"!=typeof t.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new NodeSelection(e.resolve(t.anchor))}static create(e,t){return new NodeSelection(e.resolve(t))}static isSelectable(e){return!e.isText&&!1!==e.type.spec.selectable}}NodeSelection.prototype.visible=!1,Selection.jsonID("node",NodeSelection);class NodeBookmark{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:n}=e.mapResult(this.anchor);return t?new TextBookmark(n,n):new NodeBookmark(n)}resolve(e){let t=e.resolve(this.anchor),n=t.nodeAfter;return n&&NodeSelection.isSelectable(n)?new NodeSelection(t):Selection.near(t)}}class AllSelection extends Selection{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=Slice.empty){if(t==Slice.empty){e.delete(0,e.doc.content.size);let t=Selection.atStart(e.doc);t.eq(e.selection)||e.setSelection(t)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new AllSelection(e)}map(e){return new AllSelection(e)}eq(e){return e instanceof AllSelection}getBookmark(){return AllBookmark}}Selection.jsonID("all",AllSelection);const AllBookmark={map(){return this},resolve:e=>new AllSelection(e)};function findSelectionIn(e,t,n,r,o,s=!1){if(t.inlineContent)return TextSelection.create(e,n);for(let i=r-(o>0?0:1);o>0?i<t.childCount:i>=0;i+=o){let r=t.child(i);if(r.isAtom){if(!s&&NodeSelection.isSelectable(r))return NodeSelection.create(e,n-(o<0?r.nodeSize:0))}else{let t=findSelectionIn(e,r,n+o,o<0?r.childCount:0,o,s);if(t)return t}n+=r.nodeSize*o}return null}function selectionToInsertionEnd(e,t,n){let r=e.steps.length-1;if(r<t)return;let o,s=e.steps[r];(s instanceof ReplaceStep||s instanceof ReplaceAroundStep)&&(e.mapping.maps[r].forEach((e,t,n,r)=>{null==o&&(o=r)}),e.setSelection(Selection.near(e.doc.resolve(o),n)))}const UPDATED_SEL=1,UPDATED_MARKS=2,UPDATED_SCROLL=4;class Transaction extends Transform{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|UPDATED_SEL)&~UPDATED_MARKS,this.storedMarks=null,this}get selectionSet(){return(this.updated&UPDATED_SEL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=UPDATED_MARKS,this}ensureMarks(e){return Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&UPDATED_MARKS)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~UPDATED_MARKS,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let n=this.selection;return t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Mark.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,n){let r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();{if(null==n&&(n=t),n=null==n?t:n,!e)return this.deleteRange(t,n);let o=this.storedMarks;if(!o){let e=this.doc.resolve(t);o=n==t?e.marks():e.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(Selection.near(this.selection.$to)),this}}setMeta(e,t){return this.meta["string"==typeof e?e:e.key]=t,this}getMeta(e){return this.meta["string"==typeof e?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=UPDATED_SCROLL,this}get scrolledIntoView(){return(this.updated&UPDATED_SCROLL)>0}}function bind$1(e,t){return t&&e?e.bind(t):e}class FieldDesc{constructor(e,t,n){this.name=e,this.init=bind$1(t.init,n),this.apply=bind$1(t.apply,n)}}const baseFields=[new FieldDesc("doc",{init:e=>e.doc||e.schema.topNodeType.createAndFill(),apply:e=>e.doc}),new FieldDesc("selection",{init:(e,t)=>e.selection||Selection.atStart(t.doc),apply:e=>e.selection}),new FieldDesc("storedMarks",{init:e=>e.storedMarks||null,apply:(e,t,n,r)=>r.selection.$cursor?e.storedMarks:null}),new FieldDesc("scrollToSelection",{init:()=>0,apply:(e,t)=>e.scrolledIntoView?t+1:t})];class Configuration{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=baseFields.slice(),t&&t.forEach(e=>{if(this.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");this.plugins.push(e),this.pluginsByKey[e.key]=e,e.spec.state&&this.fields.push(new FieldDesc(e.key,e.spec.state,e))})}}class EditorState{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=t){let t=this.config.plugins[n];if(t.spec.filterTransaction&&!t.spec.filterTransaction.call(t,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],n=this.applyInner(e),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let i=this.config.plugins[s];if(i.spec.appendTransaction){let a=r?r[s].n:0,l=r?r[s].state:this,c=a<t.length&&i.spec.appendTransaction.call(i,a?t.slice(a):t,l,n);if(c&&n.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!r){r=[];for(let e=0;e<this.config.plugins.length;e++)r.push(e<s?{state:n,n:t.length}:{state:this,n:0})}t.push(c),n=n.applyInner(c),o=!0}r&&(r[s]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new EditorState(this.config),n=this.config.fields;for(let r=0;r<n.length;r++){let o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}return t}get tr(){return new Transaction(this)}static create(e){let t=new Configuration(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new EditorState(t);for(let r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n}reconfigure(e){let t=new Configuration(this.schema,e.plugins),n=t.fields,r=new EditorState(t);for(let t=0;t<n.length;t++){let o=n[t].name;r[o]=this.hasOwnProperty(o)?this[o]:n[t].init(e,r)}return r}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(e=>e.toJSON())),e&&"object"==typeof e)for(let n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t}static fromJSON(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let r=new Configuration(e.schema,e.plugins),o=new EditorState(r);return r.fields.forEach(r=>{if("doc"==r.name)o.doc=Node.fromJSON(e.schema,t.doc);else if("selection"==r.name)o.selection=Selection.fromJSON(o.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(o.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let s in n){let i=n[s],a=i.spec.state;if(i.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(t,s))return void(o[r.name]=a.fromJSON.call(i,e,t[s],o))}o[r.name]=r.init(e,o)}}),o}}function bindProps(e,t,n){for(let r in e){let o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=bindProps(o,t,{})),n[r]=o}return n}class Plugin{constructor(e){this.spec=e,this.props={},e.props&&bindProps(e.props,this,this.props),this.key=e.key?e.key.key:createKey("plugin")}getState(e){return e[this.key]}}const keys=Object.create(null);function createKey(e){return e in keys?e+"$"+ ++keys[e]:(keys[e]=0,e+"$")}class PluginKey{constructor(e="key"){this.key=createKey(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const domIndex=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},parentNode=function(e){let t=e.assignedSlot||e.parentNode;return t&&11==t.nodeType?t.host:t};let reusedRange=null;const textRange=function(e,t,n){let r=reusedRange||(reusedRange=document.createRange());return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},isEquivalentPosition=function(e,t,n,r){return n&&(scanFor(e,t,n,r,-1)||scanFor(e,t,n,r,1))},atomElements=/^(img|br|input|textarea|hr)$/i;function scanFor(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:nodeSize(e))){let n=e.parentNode;if(!n||1!=n.nodeType||hasBlockDesc(e)||atomElements.test(e.nodeName)||"false"==e.contentEditable)return!1;t=domIndex(e)+(o<0?0:1),e=n}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?nodeSize(e):0}}}function nodeSize(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function isOnEdge(e,t,n){for(let r=0==t,o=t==nodeSize(e);r||o;){if(e==n)return!0;let t=domIndex(e);if(!(e=e.parentNode))return!1;r=r&&0==t,o=o&&t==nodeSize(e)}}function hasBlockDesc(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const selectionCollapsed=function(e){return e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function keyEvent(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function deepActiveElement(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}const nav="undefined"!=typeof navigator?navigator:null,doc$1="undefined"!=typeof document?document:null,agent=nav&&nav.userAgent||"",ie_edge=/Edge\/(\d+)/.exec(agent),ie_upto10=/MSIE \d/.exec(agent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(agent),ie=!!(ie_upto10||ie_11up||ie_edge),ie_version=ie_upto10?document.documentMode:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko=!ie&&/gecko\/(\d+)/i.test(agent);gecko&&(/Firefox\/(\d+)/.exec(agent)||[0,0])[1];const _chrome=!ie&&/Chrome\/(\d+)/.exec(agent),chrome=!!_chrome,chrome_version=_chrome?+_chrome[1]:0,safari=!ie&&!!nav&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(agent)||!!nav&&nav.maxTouchPoints>2),mac=ios||!!nav&&/Mac/.test(nav.platform),android=/Android \d/.test(agent),webkit=!!doc$1&&"webkitFontSmoothing"in doc$1.documentElement.style,webkit_version=webkit?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function windowRect(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function getSide(e,t){return"number"==typeof e?e:e[t]}function clientRect(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*r}}function scrollRectIntoView(e,t,n){let r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,s=e.dom.ownerDocument;for(let i=n||e.dom;i;i=parentNode(i)){if(1!=i.nodeType)continue;let e=i,n=e==s.body,a=n?windowRect(s):clientRect(e),l=0,c=0;if(t.top<a.top+getSide(r,"top")?c=-(a.top-t.top+getSide(o,"top")):t.bottom>a.bottom-getSide(r,"bottom")&&(c=t.bottom-a.bottom+getSide(o,"bottom")),t.left<a.left+getSide(r,"left")?l=-(a.left-t.left+getSide(o,"left")):t.right>a.right-getSide(r,"right")&&(l=t.right-a.right+getSide(o,"right")),l||c)if(n)s.defaultView.scrollBy(l,c);else{let n=e.scrollLeft,r=e.scrollTop;c&&(e.scrollTop+=c),l&&(e.scrollLeft+=l);let o=e.scrollLeft-n,s=e.scrollTop-r;t={left:t.left-o,top:t.top-s,right:t.right-o,bottom:t.bottom-s}}if(n)break}}function storeScrollPos(e){let t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top);for(let s=(r.left+r.right)/2,i=o+1;i<Math.min(innerHeight,r.bottom);i+=5){let r=e.root.elementFromPoint(s,i);if(!r||r==e.dom||!e.dom.contains(r))continue;let a=r.getBoundingClientRect();if(a.top>=o-20){t=r,n=a.top;break}}return{refDOM:t,refTop:n,stack:scrollStack(e.dom)}}function scrollStack(e){let t=[],n=e.ownerDocument;for(let r=e;r&&(t.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),e!=n);r=parentNode(r));return t}function resetScrollPos({refDOM:e,refTop:t,stack:n}){let r=e?e.getBoundingClientRect().top:0;restoreScrollStack(n,0==r?0:r-t)}function restoreScrollStack(e,t){for(let n=0;n<e.length;n++){let{dom:r,top:o,left:s}=e[n];r.scrollTop!=o+t&&(r.scrollTop=o+t),r.scrollLeft!=s&&(r.scrollLeft=s)}}let preventScrollSupported=null;function focusPreventScroll(e){if(e.setActive)return e.setActive();if(preventScrollSupported)return e.focus(preventScrollSupported);let t=scrollStack(e);e.focus(null==preventScrollSupported?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),preventScrollSupported||(preventScrollSupported=!1,restoreScrollStack(t,0))}function findOffsetInNode(e,t){let n,r,o=2e8,s=0,i=t.top,a=t.top;for(let l=e.firstChild,c=0;l;l=l.nextSibling,c++){let e;if(1==l.nodeType)e=l.getClientRects();else{if(3!=l.nodeType)continue;e=textRange(l).getClientRects()}for(let d=0;d<e.length;d++){let p=e[d];if(p.top<=i&&p.bottom>=a){i=Math.max(p.bottom,i),a=Math.min(p.top,a);let e=p.left>t.left?p.left-t.left:p.right<t.left?t.left-p.right:0;if(e<o){n=l,o=e,r=e&&3==n.nodeType?{left:p.right<t.left?p.right:p.left,top:t.top}:t,1==l.nodeType&&e&&(s=c+(t.left>=(p.left+p.right)/2?1:0));continue}}!n&&(t.left>=p.right&&t.top>=p.top||t.left>=p.left&&t.top>=p.bottom)&&(s=c+1)}}return n&&3==n.nodeType?findOffsetInText(n,r):!n||o&&1==n.nodeType?{node:e,offset:s}:findOffsetInNode(n,r)}function findOffsetInText(e,t){let n=e.nodeValue.length,r=document.createRange();for(let o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);let n=singleRect(r,1);if(n.top!=n.bottom&&inRect(t,n))return{node:e,offset:o+(t.left>=(n.left+n.right)/2?1:0)}}return{node:e,offset:0}}function inRect(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function targetKludge(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function posFromElement(e,t,n){let{node:r,offset:o}=findOffsetInNode(t,n),s=-1;if(1==r.nodeType&&!r.firstChild){let e=r.getBoundingClientRect();s=e.left!=e.right&&n.left>(e.left+e.right)/2?1:-1}return e.docView.posFromDOM(r,o,s)}function posFromCaret(e,t,n,r){let o=-1;for(let n=t;n!=e.dom;){let t=e.docView.nearestDesc(n,!0);if(!t)return null;if(t.node.isBlock&&t.parent){let e=t.dom.getBoundingClientRect();if(e.left>r.left||e.top>r.top)o=t.posBefore;else{if(!(e.right<r.left||e.bottom<r.top))break;o=t.posAfter}}n=t.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n,1)}function elementFromPoint(e,t,n){let r=e.childNodes.length;if(r&&n.top<n.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),s=o;;){let n=e.childNodes[s];if(1==n.nodeType){let e=n.getClientRects();for(let r=0;r<e.length;r++){let o=e[r];if(inRect(t,o))return elementFromPoint(n,t,o)}}if((s=(s+1)%r)==o)break}return e}function posAtCoords(e,t){let n,r=e.dom.ownerDocument,o=0;if(r.caretPositionFromPoint)try{let e=r.caretPositionFromPoint(t.left,t.top);e&&({offsetNode:n,offset:o}=e)}catch(e){}if(!n&&r.caretRangeFromPoint){let e=r.caretRangeFromPoint(t.left,t.top);e&&({startContainer:n,startOffset:o}=e)}let s,i=(e.root.elementFromPoint?e.root:r).elementFromPoint(t.left,t.top);if(!i||!e.dom.contains(1!=i.nodeType?i.parentNode:i)){let n=e.dom.getBoundingClientRect();if(!inRect(t,n))return null;if(!(i=elementFromPoint(e.dom,t,n)))return null}if(safari)for(let e=i;n&&e;e=parentNode(e))e.draggable&&(n=void 0);if(i=targetKludge(i,t),n){if(gecko&&1==n.nodeType&&(o=Math.min(o,n.childNodes.length))<n.childNodes.length){let e,r=n.childNodes[o];"IMG"==r.nodeName&&(e=r.getBoundingClientRect()).right<=t.left&&e.bottom>t.top&&o++}n==e.dom&&o==n.childNodes.length-1&&1==n.lastChild.nodeType&&t.top>n.lastChild.getBoundingClientRect().bottom?s=e.state.doc.content.size:0!=o&&1==n.nodeType&&"BR"==n.childNodes[o-1].nodeName||(s=posFromCaret(e,n,o,t))}null==s&&(s=posFromElement(e,i,t));let a=e.docView.nearestDesc(i,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function singleRect(e,t){let n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}const BIDI=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function coordsAtPos(e,t,n){let{node:r,offset:o,atom:s}=e.docView.domFromPos(t,n<0?-1:1),i=webkit||gecko;if(3==r.nodeType){if(!i||!BIDI.test(r.nodeValue)&&(n<0?o:o!=r.nodeValue.length)){let e=o,t=o,s=n<0?1:-1;return n<0&&!o?(t++,s=-1):n>=0&&o==r.nodeValue.length?(e--,s=1):n<0?e--:t++,flattenV(singleRect(textRange(r,e,t),1),s<0)}{let e=singleRect(textRange(r,o,o),n);if(gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let t=singleRect(textRange(r,o-1,o-1),-1);if(t.top==e.top){let n=singleRect(textRange(r,o,o+1),-1);if(n.top!=e.top)return flattenV(n,n.left<t.left)}}return e}}if(!e.state.doc.resolve(t-(s||0)).parent.inlineContent){if(null==s&&o&&(n<0||o==nodeSize(r))){let e=r.childNodes[o-1];if(1==e.nodeType)return flattenH(e.getBoundingClientRect(),!1)}if(null==s&&o<nodeSize(r)){let e=r.childNodes[o];if(1==e.nodeType)return flattenH(e.getBoundingClientRect(),!0)}return flattenH(r.getBoundingClientRect(),n>=0)}if(null==s&&o&&(n<0||o==nodeSize(r))){let e=r.childNodes[o-1],t=3==e.nodeType?textRange(e,nodeSize(e)-(i?0:1)):1!=e.nodeType||"BR"==e.nodeName&&e.nextSibling?null:e;if(t)return flattenV(singleRect(t,1),!1)}if(null==s&&o<nodeSize(r)){let e=r.childNodes[o];for(;e.pmViewDesc&&e.pmViewDesc.ignoreForCoords;)e=e.nextSibling;let t=e?3==e.nodeType?textRange(e,0,i?0:1):1==e.nodeType?e:null:null;if(t)return flattenV(singleRect(t,-1),!0)}return flattenV(singleRect(3==r.nodeType?textRange(r):r,-n),n>=0)}function flattenV(e,t){if(0==e.width)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function flattenH(e,t){if(0==e.height)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function withFlushedState(e,t,n){let r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}function endOfTextblockVertical(e,t,n){let r=t.selection,o="up"==n?r.$from:r.$to;return withFlushedState(e,t,()=>{let{node:t}=e.docView.domFromPos(o.pos,"up"==n?-1:1);for(;;){let n=e.docView.nearestDesc(t,!0);if(!n)break;if(n.node.isBlock){t=n.dom;break}t=n.dom.parentNode}let r=coordsAtPos(e,o.pos,1);for(let e=t.firstChild;e;e=e.nextSibling){let t;if(1==e.nodeType)t=e.getClientRects();else{if(3!=e.nodeType)continue;t=textRange(e,0,e.nodeValue.length).getClientRects()}for(let e=0;e<t.length;e++){let o=t[e];if(o.bottom>o.top+1&&("up"==n?r.top-o.top>2*(o.bottom-r.top):o.bottom-r.bottom>2*(r.bottom-o.top)))return!1}}return!0})}const maybeRTL=/[\u0590-\u08ac]/;function endOfTextblockHorizontal(e,t,n){let{$head:r}=t.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,i=o==r.parent.content.size,a=e.domSelection();return maybeRTL.test(r.parent.textContent)&&a.modify?withFlushedState(e,t,()=>{let{focusNode:t,focusOffset:o,anchorNode:s,anchorOffset:i}=e.domSelectionRange(),l=a.caretBidiLevel;a.modify("move",n,"character");let c=r.depth?e.docView.domAfterPos(r.before()):e.dom,{focusNode:d,focusOffset:p}=e.domSelectionRange(),u=d&&!c.contains(1==d.nodeType?d:d.parentNode)||t==d&&o==p;try{a.collapse(s,i),t&&(t!=s||o!=i)&&a.extend&&a.extend(t,o)}catch(e){}return null!=l&&(a.caretBidiLevel=l),u}):"left"==n||"backward"==n?s:i}let cachedState=null,cachedDir=null,cachedResult=!1;function endOfTextblock(e,t,n){return cachedState==t&&cachedDir==n?cachedResult:(cachedState=t,cachedDir=n,cachedResult="up"==n||"down"==n?endOfTextblockVertical(e,t,n):endOfTextblockHorizontal(e,t,n))}const NOT_DIRTY=0,CHILD_DIRTY=1,CONTENT_DIRTY=2,NODE_DIRTY=3;class ViewDesc{constructor(e,t,n,r){this.parent=e,this.children=t,this.dom=n,this.contentDOM=r,this.dirty=NOT_DIRTY,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,n=this.posAtStart;;t++){let r=this.children[t];if(r==e)return n;n+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){let n,r;if(e==this.contentDOM)n=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.previousSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.previousSibling;return n?this.posBeforeChild(r)+r.size:this.posAtStart}{let n,r;if(e==this.contentDOM)n=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;n=e.nextSibling}for(;n&&(!(r=n.pmViewDesc)||r.parent!=this);)n=n.nextSibling;return n?this.posBeforeChild(r):this.posAtEnd}}let r;if(e==this.dom&&this.contentDOM)r=t>domIndex(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!1;break}if(t.previousSibling)break}if(null==r&&t==e.childNodes.length)for(let t=e;;t=t.parentNode){if(t==this.dom){r=!0;break}if(t.nextSibling)break}}return(null==r?n>0:r)?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let n=!0,r=e;r;r=r.parentNode){let o,s=this.getDesc(r);if(s&&(!t||s.node)){if(!n||!(o=s.nodeDOM)||(1==o.nodeType?o.contains(1==e.nodeType?e:e.parentNode):o==e))return s;n=!1}}}getDesc(e){let t=e.pmViewDesc;for(let e=t;e;e=e.parent)if(e==this)return t}posFromDOM(e,t,n){for(let r=e;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1}descAt(e){for(let t=0,n=0;t<this.children.length;t++){let r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n,r=0,o=0;for(let t=0;r<this.children.length;r++){let n=this.children[r],s=t+n.size;if(s>e||n instanceof TrailingHackViewDesc){o=e-t;break}t=s}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(;r&&!(n=this.children[r-1]).size&&n instanceof WidgetViewDesc&&n.side>=0;r--);if(t<=0){let e,n=!0;for(;(e=r?this.children[r-1]:null)&&e.dom.parentNode!=this.contentDOM;r--,n=!1);return e&&t&&n&&!e.border&&!e.domAtom?e.domFromPos(e.size,t):{node:this.contentDOM,offset:e?domIndex(e.dom)+1:0}}{let e,n=!0;for(;(e=r<this.children.length?this.children[r]:null)&&e.dom.parentNode!=this.contentDOM;r++,n=!1);return e&&n&&!e.border&&!e.domAtom?e.domFromPos(0,t):{node:this.contentDOM,offset:e?domIndex(e.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,n=0){if(0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=n,i=0;;i++){let n=this.children[i],a=s+n.size;if(-1==r&&e<=a){let o=s+n.border;if(e>=o&&t<=a-n.border&&n.node&&n.contentDOM&&this.contentDOM.contains(n.contentDOM))return n.parseRange(e,t,o);e=s;for(let t=i;t>0;t--){let n=this.children[t-1];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(1)){r=domIndex(n.dom)+1;break}e-=n.size}-1==r&&(r=0)}if(r>-1&&(a>t||i==this.children.length-1)){t=a;for(let e=i+1;e<this.children.length;e++){let n=this.children[e];if(n.size&&n.dom.parentNode==this.contentDOM&&!n.emptyChildAt(-1)){o=domIndex(n.dom);break}t+=n.size}-1==o&&(o=this.contentDOM.childNodes.length);break}s=a}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:n}=this.domFromPos(e,0);if(1!=t.nodeType||n==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[n]}setSelection(e,t,n,r=!1){let o=Math.min(e,t),s=Math.max(e,t);for(let i=0,a=0;i<this.children.length;i++){let l=this.children[i],c=a+l.size;if(o>a&&s<c)return l.setSelection(e-a-l.border,t-a-l.border,n,r);a=c}let i=this.domFromPos(e,e?-1:1),a=t==e?i:this.domFromPos(t,t?-1:1),l=n.getSelection(),c=!1;if((gecko||safari)&&e==t){let{node:e,offset:t}=i;if(3==e.nodeType){if((c=!(!t||"\n"!=e.nodeValue[t-1]))&&t==e.nodeValue.length)for(let t,n=e;n;n=n.parentNode){if(t=n.nextSibling){"BR"==t.nodeName&&(i=a={node:t.parentNode,offset:domIndex(t)+1});break}let e=n.pmViewDesc;if(e&&e.node&&e.node.isBlock)break}}else{let n=e.childNodes[t-1];c=n&&("BR"==n.nodeName||"false"==n.contentEditable)}}if(gecko&&l.focusNode&&l.focusNode!=a.node&&1==l.focusNode.nodeType){let e=l.focusNode.childNodes[l.focusOffset];e&&"false"==e.contentEditable&&(r=!0)}if(!(r||c&&safari)&&isEquivalentPosition(i.node,i.offset,l.anchorNode,l.anchorOffset)&&isEquivalentPosition(a.node,a.offset,l.focusNode,l.focusOffset))return;let d=!1;if((l.extend||e==t)&&!c){l.collapse(i.node,i.offset);try{e!=t&&l.extend(a.node,a.offset),d=!0}catch(e){}}if(!d){if(e>t){let e=i;i=a,a=e}let n=document.createRange();n.setEnd(a.node,a.offset),n.setStart(i.node,i.offset),l.removeAllRanges(),l.addRange(n)}}ignoreMutation(e){return!this.contentDOM&&"selection"!=e.type}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let n=0,r=0;r<this.children.length;r++){let o=this.children[r],s=n+o.size;if(n==s?e<=s&&t>=n:e<s&&t>n){let r=n+o.border,i=s-o.border;if(e>=r&&t<=i)return this.dirty=e==n||t==s?CONTENT_DIRTY:CHILD_DIRTY,void(e!=r||t!=i||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-r,t-r):o.dirty=NODE_DIRTY);o.dirty=o.dom!=o.contentDOM||o.dom.parentNode!=this.contentDOM||o.children.length?NODE_DIRTY:CONTENT_DIRTY}n=s}this.dirty=CONTENT_DIRTY}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let n=1==e?CONTENT_DIRTY:CHILD_DIRTY;t.dirty<n&&(t.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class WidgetViewDesc extends ViewDesc{constructor(e,t,n,r){let o,s=t.type.toDOM;if("function"==typeof s&&(s=s(n,()=>o?o.parent?o.parent.posBeforeChild(o):void 0:r)),!t.type.spec.raw){if(1!=s.nodeType){let e=document.createElement("span");e.appendChild(s),s=e}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=t,this.widget=t,o=this}matchesWidget(e){return this.dirty==NOT_DIRTY&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return!!t&&t(e)}ignoreMutation(e){return"selection"!=e.type||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class CompositionViewDesc extends ViewDesc{constructor(e,t,n,r){super(e,[],t,null),this.textDOM=n,this.text=r}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue}}class MarkViewDesc extends ViewDesc{constructor(e,t,n,r){super(e,[],n,r),this.mark=t}static create(e,t,n,r){let o=r.nodeViews[t.type.name],s=o&&o(t,r,n);return s&&s.dom||(s=DOMSerializer.renderSpec(document,t.type.spec.toDOM(t,n))),new MarkViewDesc(e,t,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&NODE_DIRTY||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=NODE_DIRTY&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=NOT_DIRTY){let e=this.parent;for(;!e.node;)e=e.parent;e.dirty<this.dirty&&(e.dirty=this.dirty),this.dirty=NOT_DIRTY}}slice(e,t,n){let r=MarkViewDesc.create(this.parent,this.mark,!0,n),o=this.children,s=this.size;t<s&&(o=replaceNodes(o,t,s,n)),e>0&&(o=replaceNodes(o,0,e,n));for(let e=0;e<o.length;e++)o[e].parent=r;return r.children=o,r}}class NodeViewDesc extends ViewDesc{constructor(e,t,n,r,o,s,i,a,l){super(e,[],o,s),this.node=t,this.outerDeco=n,this.innerDeco=r,this.nodeDOM=i,s&&this.updateChildren(a,l)}static create(e,t,n,r,o,s){let i,a=o.nodeViews[t.type.name],l=a&&a(t,o,()=>i?i.parent?i.parent.posBeforeChild(i):void 0:s,n,r),c=l&&l.dom,d=l&&l.contentDOM;if(t.isText)if(c){if(3!=c.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else c=document.createTextNode(t.text);else c||({dom:c,contentDOM:d}=DOMSerializer.renderSpec(document,t.type.spec.toDOM(t)));d||t.isText||"BR"==c.nodeName||(c.hasAttribute("contenteditable")||(c.contentEditable="false"),t.type.spec.draggable&&(c.draggable=!0));let p=c;return c=applyOuterDeco(c,n,t),l?i=new CustomNodeViewDesc(e,t,n,r,c,d||null,p,l,o,s+1):t.isText?new TextViewDesc(e,t,n,r,c,p,o):new NodeViewDesc(e,t,n,r,c,d||null,p,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if("pre"==this.node.type.whitespace&&(e.preserveWhitespace="full"),this.contentDOM)if(this.contentLost){for(let t=this.children.length-1;t>=0;t--){let n=this.children[t];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=(()=>Fragment.empty))}else e.contentElement=this.contentDOM;else e.getContent=(()=>this.node.content);return e}matchesNode(e,t,n){return this.dirty==NOT_DIRTY&&e.eq(this.node)&&sameOuterDeco(t,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let n=this.node.inlineContent,r=t,o=e.composing?this.localCompositionInfo(e,t):null,s=o&&o.pos>-1?o:null,i=o&&o.pos<0,a=new ViewTreeUpdater(this,s&&s.node,e);iterDeco(this.node,this.innerDeco,(t,o,s)=>{t.spec.marks?a.syncToMarks(t.spec.marks,n,e):t.type.side>=0&&!s&&a.syncToMarks(o==this.node.childCount?Mark.none:this.node.child(o).marks,n,e),a.placeWidget(t,e,r)},(t,s,l,c)=>{let d;a.syncToMarks(t.marks,n,e),a.findNodeMatch(t,s,l,c)||i&&e.state.selection.from>r&&e.state.selection.to<r+t.nodeSize&&(d=a.findIndexWithChild(o.node))>-1&&a.updateNodeAt(t,s,l,d,e)||a.updateNextNode(t,s,l,e,c)||a.addNode(t,s,l,e,r),r+=t.nodeSize}),a.syncToMarks([],n,e),this.node.isTextblock&&a.addTextblockHacks(),a.destroyRest(),(a.changed||this.dirty==CONTENT_DIRTY)&&(s&&this.protectLocalComposition(e,s),renderDescs(this.contentDOM,this.children,e),ios&&iosHacks(this.dom))}localCompositionInfo(e,t){let{from:n,to:r}=e.state.selection;if(!(e.state.selection instanceof TextSelection)||n<t||r>t+this.node.content.size)return null;let o=e.domSelectionRange(),s=nearbyTextNode(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let e=s.nodeValue,o=findTextInFragment(this.node.content,e,n-t,r-t);return o<0?null:{node:s,pos:o,text:e}}return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:n,text:r}){if(this.getDesc(t))return;let o=t;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new CompositionViewDesc(this,o,t,r);e.input.compositionNodes.push(s),this.children=replaceNodes(this.children,n,n+r.length,e,s)}update(e,t,n,r){return!(this.dirty==NODE_DIRTY||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)}updateInner(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=NOT_DIRTY}updateOuterDeco(e){if(sameOuterDeco(e,this.outerDeco))return;let t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=patchOuterDeco(this.dom,this.nodeDOM,computeOuterDeco(this.outerDeco,this.node,t),computeOuterDeco(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)}deselectNode(){1==this.nodeDOM.nodeType&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function docViewDesc(e,t,n,r,o){return applyOuterDeco(r,t,e),new NodeViewDesc(void 0,e,t,n,r,r,r,o,0)}class TextViewDesc extends NodeViewDesc{constructor(e,t,n,r,o,s,i){super(e,t,n,r,o,null,s,i,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,n,r){return!(this.dirty==NODE_DIRTY||this.dirty!=NOT_DIRTY&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),this.dirty==NOT_DIRTY&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=NOT_DIRTY,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,n){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,n)}ignoreMutation(e){return"characterData"!=e.type&&"selection"!=e.type}slice(e,t,n){let r=this.node.cut(e,t),o=document.createTextNode(r.text);return new TextViewDesc(this.parent,r,this.outerDeco,this.innerDeco,o,o,n)}markDirty(e,t){super.markDirty(e,t),this.dom==this.nodeDOM||0!=e&&t!=this.nodeDOM.nodeValue.length||(this.dirty=NODE_DIRTY)}get domAtom(){return!1}}class TrailingHackViewDesc extends ViewDesc{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==NOT_DIRTY&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return"IMG"==this.dom.nodeName}}class CustomNodeViewDesc extends NodeViewDesc{constructor(e,t,n,r,o,s,i,a,l,c){super(e,t,n,r,o,s,i,l,c),this.spec=a}update(e,t,n,r){if(this.dirty==NODE_DIRTY)return!1;if(this.spec.update){let o=this.spec.update(e,t,n);return o&&this.updateInner(e,t,n,r),o}return!(!this.contentDOM&&!e.isLeaf)&&super.update(e,t,n,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,n,r){this.spec.setSelection?this.spec.setSelection(e,t,n):super.setSelection(e,t,n,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function renderDescs(e,t,n){let r=e.firstChild,o=!1;for(let s=0;s<t.length;s++){let i=t[s],a=i.dom;if(a.parentNode==e){for(;a!=r;)r=rm(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(a,r);if(i instanceof MarkViewDesc){let t=r?r.previousSibling:e.lastChild;renderDescs(i.contentDOM,i.children,n),r=t?t.nextSibling:e.firstChild}}for(;r;)r=rm(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}const OuterDecoLevel=function(e){e&&(this.nodeName=e)};OuterDecoLevel.prototype=Object.create(null);const noDeco=[new OuterDecoLevel];function computeOuterDeco(e,t,n){if(0==e.length)return noDeco;let r=n?noDeco[0]:new OuterDecoLevel,o=[r];for(let s=0;s<e.length;s++){let i=e[s].type.attrs;if(i){i.nodeName&&o.push(r=new OuterDecoLevel(i.nodeName));for(let e in i){let s=i[e];null!=s&&(n&&1==o.length&&o.push(r=new OuterDecoLevel(t.isInline?"span":"div")),"class"==e?r.class=(r.class?r.class+" ":"")+s:"style"==e?r.style=(r.style?r.style+";":"")+s:"nodeName"!=e&&(r[e]=s))}}}return o}function patchOuterDeco(e,t,n,r){if(n==noDeco&&r==noDeco)return t;let o=t;for(let t=0;t<r.length;t++){let s=r[t],i=n[t];if(t){let t;i&&i.nodeName==s.nodeName&&o!=e&&(t=o.parentNode)&&t.nodeName.toLowerCase()==s.nodeName?o=t:((t=document.createElement(s.nodeName)).pmIsDeco=!0,t.appendChild(o),i=noDeco[0],o=t)}patchAttributes(o,i||noDeco[0],s)}return o}function patchAttributes(e,t,n){for(let r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(let r in n)"class"!=r&&"style"!=r&&"nodeName"!=r&&n[r]!=t[r]&&e.setAttribute(r,n[r]);if(t.class!=n.class){let r=t.class?t.class.split(" ").filter(Boolean):[],o=n.class?n.class.split(" ").filter(Boolean):[];for(let t=0;t<r.length;t++)-1==o.indexOf(r[t])&&e.classList.remove(r[t]);for(let t=0;t<o.length;t++)-1==r.indexOf(o[t])&&e.classList.add(o[t]);0==e.classList.length&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let n,r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;for(;n=r.exec(t.style);)e.style.removeProperty(n[1])}n.style&&(e.style.cssText+=n.style)}}function applyOuterDeco(e,t,n){return patchOuterDeco(e,e,noDeco,computeOuterDeco(t,n,1!=e.nodeType))}function sameOuterDeco(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function rm(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class ViewTreeUpdater{constructor(e,t,n){this.lock=t,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=preMatch(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,n){let r=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=NOT_DIRTY,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let r=-1;for(let t=this.index;t<Math.min(this.index+3,this.top.children.length);t++)if(this.top.children[t].matchesMark(e[o])){r=t;break}if(r>-1)r>this.index&&(this.changed=!0,this.destroyBetween(this.index,r)),this.top=this.top.children[this.index];else{let r=MarkViewDesc.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,r),this.top=r,this.changed=!0}this.index=0,o++}}findNodeMatch(e,t,n,r){let o,s=-1;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(e,t,n))s=this.top.children.indexOf(o,this.index);else for(let r=this.index,o=Math.min(this.top.children.length,r+5);r<o;r++){let o=this.top.children[r];if(o.matchesNode(e,t,n)&&!this.preMatch.matched.has(o)){s=r;break}}return!(s<0)&&(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,n,r,o){let s=this.top.children[r];return s.dirty==NODE_DIRTY&&s.dom==s.contentDOM&&(s.dirty=CONTENT_DIRTY),!!s.update(e,t,n,o)&&(this.destroyBetween(this.index,r),this.index++,!0)}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let t=e.pmViewDesc;if(t)for(let e=this.index;e<this.top.children.length;e++)if(this.top.children[e]==t)return e;return-1}e=t}}updateNextNode(e,t,n,r,o){for(let s=this.index;s<this.top.children.length;s++){let i=this.top.children[s];if(i instanceof NodeViewDesc){let a=this.preMatch.matched.get(i);if(null!=a&&a!=o)return!1;let l=i.dom;if(!(this.lock&&(l==this.lock||1==l.nodeType&&l.contains(this.lock.parentNode))&&!(e.isText&&i.node&&i.node.isText&&i.nodeDOM.nodeValue==e.text&&i.dirty!=NODE_DIRTY&&sameOuterDeco(t,i.outerDeco)))&&i.update(e,t,n,r))return this.destroyBetween(this.index,s),i.dom!=l&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,t,n,r,o){this.top.children.splice(this.index++,0,NodeViewDesc.create(this.top,e,t,n,r,o)),this.changed=!0}placeWidget(e,t,n){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){let r=new WidgetViewDesc(this.top,e,t,n);this.top.children.splice(this.index++,0,r),this.changed=!0}else this.index++}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof MarkViewDesc;)e=(t=e).children[t.children.length-1];(!e||!(e instanceof TextViewDesc)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((safari||chrome)&&e&&"false"==e.dom.contentEditable&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);"IMG"==e&&(n.className="ProseMirror-separator",n.alt=""),"BR"==e&&(n.className="ProseMirror-trailingBreak");let r=new TrailingHackViewDesc(this.top,[],n,null);t!=this.top?t.children.push(r):t.children.splice(this.index++,0,r),this.changed=!0}}}function preMatch(e,t){let n=t,r=n.children.length,o=e.childCount,s=new Map,i=[];e:for(;o>0;){let a;for(;;)if(r){let e=n.children[r-1];if(!(e instanceof MarkViewDesc)){a=e,r--;break}n=e,r=e.children.length}else{if(n==t)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(o-1))break;--o,s.set(a,o),i.push(a)}}return{index:o,matched:s,matches:i.reverse()}}function compareSide(e,t){return e.type.side-t.type.side}function iterDeco(e,t,n,r){let o=t.locals(e),s=0;if(0==o.length){for(let n=0;n<e.childCount;n++){let i=e.child(n);r(i,o,t.forChild(s,i),n),s+=i.nodeSize}return}let i=0,a=[],l=null;for(let c=0;;){if(i<o.length&&o[i].to==s){let e,t=o[i++];for(;i<o.length&&o[i].to==s;)(e||(e=[t])).push(o[i++]);if(e){e.sort(compareSide);for(let t=0;t<e.length;t++)n(e[t],c,!!l)}else n(t,c,!!l)}let d,p;if(l)p=-1,d=l,l=null;else{if(!(c<e.childCount))break;p=c,d=e.child(c++)}for(let e=0;e<a.length;e++)a[e].to<=s&&a.splice(e--,1);for(;i<o.length&&o[i].from<=s&&o[i].to>s;)a.push(o[i++]);let u=s+d.nodeSize;if(d.isText){let e=u;i<o.length&&o[i].from<e&&(e=o[i].from);for(let t=0;t<a.length;t++)a[t].to<e&&(e=a[t].to);e<u&&(l=d.cut(e-s),d=d.cut(0,e-s),u=e,p=-1)}r(d,d.isInline&&!d.isLeaf?a.filter(e=>!e.inline):a.slice(),t.forChild(s,d),p),s=u}}function iosHacks(e){if("UL"==e.nodeName||"OL"==e.nodeName){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function nearbyTextNode(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=nodeSize(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}function findTextInFragment(e,t,n,r){for(let o=0,s=0;o<e.childCount&&s<=r;){let i=e.child(o++),a=s;if(s+=i.nodeSize,!i.isText)continue;let l=i.text;for(;o<e.childCount;){let t=e.child(o++);if(s+=t.nodeSize,!t.isText)break;l+=t.text}if(s>=n){let e=a<r?l.lastIndexOf(t,r-a-1):-1;if(e>=0&&e+t.length+a>=n)return a+e;if(n==r&&l.length>=r+t.length-a&&l.slice(r-a,r-a+t.length)==t)return r}}return-1}function replaceNodes(e,t,n,r,o){let s=[];for(let i=0,a=0;i<e.length;i++){let l=e[i],c=a,d=a+=l.size;c>=n||d<=t?s.push(l):(c<t&&s.push(l.slice(0,t-c,r)),o&&(s.push(o),o=void 0),d>n&&s.push(l.slice(n-c,l.size,r)))}return s}function selectionFromDOM(e,t=null){let n=e.domSelectionRange(),r=e.state.doc;if(!n.focusNode)return null;let o=e.docView.nearestDesc(n.focusNode),s=o&&0==o.size,i=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(i<0)return null;let a,l,c=r.resolve(i);if(selectionCollapsed(n)){for(a=c;o&&!o.node;)o=o.parent;let e=o.node;if(o&&e.isAtom&&NodeSelection.isSelectable(e)&&o.parent&&(!e.isInline||!isOnEdge(n.focusNode,n.focusOffset,o.dom))){let e=o.posBefore;l=new NodeSelection(i==e?c:r.resolve(e))}}else{let t=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(t<0)return null;a=r.resolve(t)}if(!l){l=selectionBetween(e,a,c,"pointer"==t||e.state.selection.head<c.pos&&!s?1:-1)}return l}function editorOwnsSelection(e){return e.editable?e.hasFocus():hasSelection(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function selectionToDOM(e,t=!1){let n=e.state.selection;if(syncNodeSelection(e,n),editorOwnsSelection(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&chrome){let t=e.domSelectionRange(),n=e.domObserver.currentSelection;if(t.anchorNode&&n.anchorNode&&isEquivalentPosition(t.anchorNode,t.anchorOffset,n.anchorNode,n.anchorOffset))return e.input.mouseDown.delayedSelectionSync=!0,void e.domObserver.setCurSelection()}if(e.domObserver.disconnectSelection(),e.cursorWrapper)selectCursorWrapper(e);else{let r,o,{anchor:s,head:i}=n;!brokenSelectBetweenUneditable||n instanceof TextSelection||(n.$from.parent.inlineContent||(r=temporarilyEditableNear(e,n.from)),n.empty||n.$from.parent.inlineContent||(o=temporarilyEditableNear(e,n.to))),e.docView.setSelection(s,i,e.root,t),brokenSelectBetweenUneditable&&(r&&resetEditable(r),o&&resetEditable(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&removeClassOnSelectionChange(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const brokenSelectBetweenUneditable=safari||chrome&&chrome_version<63;function temporarilyEditableNear(e,t){let{node:n,offset:r}=e.docView.domFromPos(t,0),o=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(safari&&o&&"false"==o.contentEditable)return setEditable(o);if(!(o&&"false"!=o.contentEditable||s&&"false"!=s.contentEditable)){if(o)return setEditable(o);if(s)return setEditable(s)}}function setEditable(e){return e.contentEditable="true",safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function resetEditable(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function removeClassOnSelectionChange(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=(()=>{n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{editorOwnsSelection(e)&&!e.state.selection.visible||e.dom.classList.remove("ProseMirror-hideselection")},20))}))}function selectCursorWrapper(e){let t=e.domSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,domIndex(r)+1):n.setEnd(r,0),n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&ie&&ie_version<=11&&(r.disabled=!0,r.disabled=!1)}function syncNodeSelection(e,t){if(t instanceof NodeSelection){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(clearNodeSelection(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else clearNodeSelection(e)}function clearNodeSelection(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function selectionBetween(e,t,n,r){return e.someProp("createSelectionBetween",r=>r(e,t,n))||TextSelection.between(t,n,r)}function hasFocusAndSelection(e){return!(e.editable&&!e.hasFocus())&&hasSelection(e)}function hasSelection(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function anchorInRightPlace(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return isEquivalentPosition(t.node,t.offset,n.anchorNode,n.anchorOffset)}function moveSelectionBlock(e,t){let{$anchor:n,$head:r}=e.selection,o=t>0?n.max(r):n.min(r),s=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return s&&Selection.findFrom(s,t)}function apply(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function selectHorizontally(e,t,n){let r=e.state.selection;if(!(r instanceof TextSelection)){if(r instanceof NodeSelection&&r.node.isInline)return apply(e,new TextSelection(t>0?r.$to:r.$from));{let n=moveSelectionBlock(e.state,t);return!!n&&apply(e,n)}}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){let n=moveSelectionBlock(e.state,t);return!!(n&&n instanceof NodeSelection)&&apply(e,n)}if(!(mac&&n.indexOf("m")>-1)){let n,o=r.$head,s=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText)return!1;let i=t<0?o.pos-s.nodeSize:o.pos;return!!(s.isAtom||(n=e.docView.descAt(i))&&!n.contentDOM)&&(NodeSelection.isSelectable(s)?apply(e,new NodeSelection(t<0?e.state.doc.resolve(o.pos-s.nodeSize):o)):!!webkit&&apply(e,new TextSelection(e.state.doc.resolve(t<0?i:i+s.nodeSize))))}}function nodeLen(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function isIgnorable(e){let t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function skipIgnoredNodesLeft(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,s,i=!1;for(gecko&&1==n.nodeType&&r<nodeLen(n)&&isIgnorable(n.childNodes[r])&&(i=!0);;)if(r>0){if(1!=n.nodeType)break;{let e=n.childNodes[r-1];if(isIgnorable(e))o=n,s=--r;else{if(3!=e.nodeType)break;r=(n=e).nodeValue.length}}}else{if(isBlockNode(n))break;{let t=n.previousSibling;for(;t&&isIgnorable(t);)o=n.parentNode,s=domIndex(t),t=t.previousSibling;if(t)r=nodeLen(n=t);else{if((n=n.parentNode)==e.dom)break;r=0}}}i?setSelFocus(e,n,r):o&&setSelFocus(e,o,s)}function skipIgnoredNodesRight(e){let t=e.domSelectionRange(),n=t.focusNode,r=t.focusOffset;if(!n)return;let o,s,i=nodeLen(n);for(;;)if(r<i){if(1!=n.nodeType)break;if(!isIgnorable(n.childNodes[r]))break;o=n,s=++r}else{if(isBlockNode(n))break;{let t=n.nextSibling;for(;t&&isIgnorable(t);)o=t.parentNode,s=domIndex(t)+1,t=t.nextSibling;if(t)r=0,i=nodeLen(n=t);else{if((n=n.parentNode)==e.dom)break;r=i=0}}}o&&setSelFocus(e,o,s)}function isBlockNode(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function setSelFocus(e,t,n){let r=e.domSelection();if(selectionCollapsed(r)){let e=document.createRange();e.setEnd(t,n),e.setStart(t,n),r.removeAllRanges(),r.addRange(e)}else r.extend&&r.extend(t,n);e.domObserver.setCurSelection();let{state:o}=e;setTimeout(()=>{e.state==o&&selectionToDOM(e)},50)}function selectVertically(e,t,n){let r=e.state.selection;if(r instanceof TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(mac&&n.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let n=moveSelectionBlock(e.state,t);if(n&&n instanceof NodeSelection)return apply(e,n)}if(!o.parent.inlineContent){let n=t<0?o:s,i=r instanceof AllSelection?Selection.near(n,t):Selection.findFrom(n,t);return!!i&&apply(e,i)}return!1}function stopNativeHorizontalDelete(e,t){if(!(e.state.selection instanceof TextSelection))return!0;let{$head:n,$anchor:r,empty:o}=e.state.selection;if(!n.sameParent(r))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let s=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let r=e.state.tr;return t<0?r.delete(n.pos-s.nodeSize,n.pos):r.delete(n.pos,n.pos+s.nodeSize),e.dispatch(r),!0}return!1}function switchEditable(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function safariDownArrowBug(e){if(!safari||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&1==t.nodeType&&0==n&&t.firstChild&&"false"==t.firstChild.contentEditable){let n=t.firstChild;switchEditable(e,n,"true"),setTimeout(()=>switchEditable(e,n,"false"),20)}return!1}function getMods(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function captureKeyDown(e,t){let n=t.keyCode,r=getMods(t);return 8==n||mac&&72==n&&"c"==r?stopNativeHorizontalDelete(e,-1)||skipIgnoredNodesLeft(e):46==n||mac&&68==n&&"c"==r?stopNativeHorizontalDelete(e,1)||skipIgnoredNodesRight(e):13==n||27==n||(37==n||mac&&66==n&&"c"==r?selectHorizontally(e,-1,r)||skipIgnoredNodesLeft(e):39==n||mac&&70==n&&"c"==r?selectHorizontally(e,1,r)||skipIgnoredNodesRight(e):38==n||mac&&80==n&&"c"==r?selectVertically(e,-1,r)||skipIgnoredNodesLeft(e):40==n||mac&&78==n&&"c"==r?safariDownArrowBug(e)||selectVertically(e,1,r)||skipIgnoredNodesRight(e):r==(mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function serializeForClipboard(e,t){e.someProp("transformCopied",n=>{t=n(t,e)});let n=[],{content:r,openStart:o,openEnd:s}=t;for(;o>1&&s>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,s--;let e=r.firstChild;n.push(e.type.name,e.attrs!=e.type.defaultAttrs?e.attrs:null),r=e.content}let i=e.someProp("clipboardSerializer")||DOMSerializer.fromSchema(e.state.schema),a=detachedDoc(),l=a.createElement("div");l.appendChild(i.serializeFragment(r,{document:a}));let c,d=l.firstChild,p=0;for(;d&&1==d.nodeType&&(c=wrapMap[d.nodeName.toLowerCase()]);){for(let e=c.length-1;e>=0;e--){let t=a.createElement(c[e]);for(;l.firstChild;)t.appendChild(l.firstChild);l.appendChild(t),p++}d=l.firstChild}return d&&1==d.nodeType&&d.setAttribute("data-pm-slice",`${o} ${s}${p?` -${p}`:""} ${JSON.stringify(n)}`),{dom:l,text:e.someProp("clipboardTextSerializer",n=>n(t,e))||t.content.textBetween(0,t.content.size,"\n\n")}}function parseFromClipboard(e,t,n,r,o){let s,i,a=o.parent.type.spec.code;if(!n&&!t)return null;let l=t&&(r||a||!n);if(l){if(e.someProp("transformPastedText",n=>{t=n(t,a||r,e)}),a)return t?new Slice(Fragment.from(e.state.schema.text(t.replace(/\r\n?/g,"\n"))),0,0):Slice.empty;let n=e.someProp("clipboardTextParser",n=>n(t,o,r,e));if(n)i=n;else{let n=o.marks(),{schema:r}=e.state,i=DOMSerializer.fromSchema(r);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(e=>{let t=s.appendChild(document.createElement("p"));e&&t.appendChild(i.serializeNode(r.text(e,n)))})}}else e.someProp("transformPastedHTML",t=>{n=t(n,e)}),s=readHTML(n),webkit&&restoreReplacedSpaces(s);let c=s&&s.querySelector("[data-pm-slice]"),d=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let e=+d[3];e>0;e--){let e=s.firstChild;for(;e&&1!=e.nodeType;)e=e.nextSibling;if(!e)break;s=e}if(!i){let t=e.someProp("clipboardParser")||e.someProp("domParser")||DOMParser.fromSchema(e.state.schema);i=t.parseSlice(s,{preserveWhitespace:!(!l&&!d),context:o,ruleFromNode:e=>"BR"!=e.nodeName||e.nextSibling||!e.parentNode||inlineParents.test(e.parentNode.nodeName)?null:{ignore:!0}})}if(d)i=addContext(closeSlice(i,+d[1],+d[2]),d[4]);else if((i=Slice.maxOpen(normalizeSiblings(i.content,o),!0)).openStart||i.openEnd){let e=0,t=0;for(let t=i.content.firstChild;e<i.openStart&&!t.type.spec.isolating;e++,t=t.firstChild);for(let e=i.content.lastChild;t<i.openEnd&&!e.type.spec.isolating;t++,e=e.lastChild);i=closeSlice(i,e,t)}return e.someProp("transformPasted",t=>{i=t(i,e)}),i}const inlineParents=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function normalizeSiblings(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r,o=t.node(n).contentMatchAt(t.index(n)),s=[];if(e.forEach(e=>{if(!s)return;let t,n=o.findWrapping(e.type);if(!n)return s=null;if(t=s.length&&r.length&&addToSibling(n,r,e,s[s.length-1],0))s[s.length-1]=t;else{s.length&&(s[s.length-1]=closeRight(s[s.length-1],r.length));let t=withWrappers(e,n);s.push(t),o=o.matchType(t.type),r=n}}),s)return Fragment.from(s)}return e}function withWrappers(e,t,n=0){for(let r=t.length-1;r>=n;r--)e=t[r].create(null,Fragment.from(e));return e}function addToSibling(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){let s=addToSibling(e,t,n,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(Fragment.from(withWrappers(n,e,o+1))))}}function closeRight(e,t){if(0==t)return e;let n=e.content.replaceChild(e.childCount-1,closeRight(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(Fragment.empty,!0);return e.copy(n.append(r))}function closeRange(e,t,n,r,o,s){let i=t<0?e.firstChild:e.lastChild,a=i.content;return o<r-1&&(a=closeRange(a,t,n,r,o+1,s)),o>=n&&(a=t<0?i.contentMatchAt(0).fillBefore(a,e.childCount>1||s<=o).append(a):a.append(i.contentMatchAt(i.childCount).fillBefore(Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,i.copy(a))}function closeSlice(e,t,n){return t<e.openStart&&(e=new Slice(closeRange(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Slice(closeRange(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const wrapMap={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let _detachedDoc=null;function detachedDoc(){return _detachedDoc||(_detachedDoc=document.implementation.createHTMLDocument("title"))}function readHTML(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n,r=detachedDoc().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(e);if((n=o&&wrapMap[o[1].toLowerCase()])&&(e=n.map(e=>"<"+e+">").join("")+e+n.map(e=>"</"+e+">").reverse().join("")),r.innerHTML=e,n)for(let e=0;e<n.length;e++)r=r.querySelector(n[e])||r;return r}function restoreReplacedSpaces(e){let t=e.querySelectorAll(chrome?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let r=t[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),r)}}function addContext(e,t){if(!e.size)return e;let n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}let{content:o,openStart:s,openEnd:i}=e;for(let e=n.length-2;e>=0;e-=2){let t=r.nodes[n[e]];if(!t||t.hasRequiredAttrs())break;o=Fragment.from(t.create(n[e+1],o)),s++,i++}return new Slice(o,s,i)}const handlers={},editHandlers={},passiveHandlers={touchstart:!0,touchmove:!0};class InputState{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function initInput(e){for(let t in handlers){let n=handlers[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=(t=>{!eventBelongsToView(e,t)||runCustomHandler(e,t)||!e.editable&&t.type in editHandlers||n(e,t)}),passiveHandlers[t]?{passive:!0}:void 0)}safari&&e.dom.addEventListener("input",()=>null),ensureListeners(e)}function setSelectionOrigin(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function destroyInput(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function ensureListeners(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=(t=>runCustomHandler(e,t)))})}function runCustomHandler(e,t){return e.someProp("handleDOMEvents",n=>{let r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)})}function eventBelongsToView(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function dispatchEvent(e,t){runCustomHandler(e,t)||!handlers[t.type]||!e.editable&&t.type in editHandlers||handlers[t.type](e,t)}function eventCoords(e){return{left:e.clientX,top:e.clientY}}function isNear(e,t){let n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}function runHandlerOnContext(e,t,n,r,o){if(-1==r)return!1;let s=e.state.doc.resolve(r);for(let r=s.depth+1;r>0;r--)if(e.someProp(t,t=>r>s.depth?t(e,n,s.nodeAfter,s.before(r),o,!0):t(e,n,s.node(r),s.before(r),o,!1)))return!0;return!1}function updateSelection(e,t,n){e.focused||e.focus();let r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function selectClickedLeaf(e,t){if(-1==t)return!1;let n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&NodeSelection.isSelectable(r))&&(updateSelection(e,new NodeSelection(n),"pointer"),!0)}function selectClickedNode(e,t){if(-1==t)return!1;let n,r,o=e.state.selection;o instanceof NodeSelection&&(n=o.node);let s=e.state.doc.resolve(t);for(let e=s.depth+1;e>0;e--){let t=e>s.depth?s.nodeAfter:s.node(e);if(NodeSelection.isSelectable(t)){r=n&&o.$from.depth>0&&e>=o.$from.depth&&s.before(o.$from.depth+1)==o.$from.pos?s.before(o.$from.depth):s.before(e);break}}return null!=r&&(updateSelection(e,NodeSelection.create(e.state.doc,r),"pointer"),!0)}function handleSingleClick(e,t,n,r,o){return runHandlerOnContext(e,"handleClickOn",t,n,r)||e.someProp("handleClick",n=>n(e,t,r))||(o?selectClickedNode(e,n):selectClickedLeaf(e,n))}function handleDoubleClick(e,t,n,r){return runHandlerOnContext(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",n=>n(e,t,r))}function handleTripleClick(e,t,n,r){return runHandlerOnContext(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",n=>n(e,t,r))||defaultTripleClick(e,n,r)}function defaultTripleClick(e,t,n){if(0!=n.button)return!1;let r=e.state.doc;if(-1==t)return!!r.inlineContent&&(updateSelection(e,TextSelection.create(r,0,r.content.size),"pointer"),!0);let o=r.resolve(t);for(let t=o.depth+1;t>0;t--){let n=t>o.depth?o.nodeAfter:o.node(t),s=o.before(t);if(n.inlineContent)updateSelection(e,TextSelection.create(r,s+1,s+1+n.content.size),"pointer");else{if(!NodeSelection.isSelectable(n))continue;updateSelection(e,NodeSelection.create(r,s),"pointer")}return!0}}function forceDOMFlush(e){return endComposition(e)}editHandlers.keydown=((e,t)=>{let n=t;if(e.input.shiftKey=16==n.keyCode||n.shiftKey,!inOrNearComposition(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!android||!chrome||13!=n.keyCode))if(229!=n.keyCode&&e.domObserver.forceFlush(),!ios||13!=n.keyCode||n.ctrlKey||n.altKey||n.metaKey)e.someProp("handleKeyDown",t=>t(e,n))||captureKeyDown(e,n)?n.preventDefault():setSelectionOrigin(e,"key");else{let t=Date.now();e.input.lastIOSEnter=t,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==t&&(e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter"))),e.input.lastIOSEnter=0)},200)}}),editHandlers.keyup=((e,t)=>{16==t.keyCode&&(e.input.shiftKey=!1)}),editHandlers.keypress=((e,t)=>{let n=t;if(inOrNearComposition(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||mac&&n.metaKey)return;if(e.someProp("handleKeyPress",t=>t(e,n)))return void n.preventDefault();let r=e.state.selection;if(!(r instanceof TextSelection&&r.$from.sameParent(r.$to))){let t=String.fromCharCode(n.charCode);e.someProp("handleTextInput",n=>n(e,r.$from.pos,r.$to.pos,t))||e.dispatch(e.state.tr.insertText(t).scrollIntoView()),n.preventDefault()}});const selectNodeModifier=mac?"metaKey":"ctrlKey";handlers.mousedown=((e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let r=forceDOMFlush(e),o=Date.now(),s="singleClick";o-e.input.lastClick.time<500&&isNear(n,e.input.lastClick)&&!n[selectNodeModifier]&&("singleClick"==e.input.lastClick.type?s="doubleClick":"doubleClick"==e.input.lastClick.type&&(s="tripleClick")),e.input.lastClick={time:o,x:n.clientX,y:n.clientY,type:s};let i=e.posAtCoords(eventCoords(n));i&&("singleClick"==s?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new MouseDown(e,i,n,!!r)):("doubleClick"==s?handleDoubleClick:handleTripleClick)(e,i.pos,i.inside,n)?n.preventDefault():setSelectionOrigin(e,"pointer"))});class MouseDown{constructor(e,t,n,r){let o,s;if(this.view=e,this.pos=t,this.event=n,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[selectNodeModifier],this.allowDefault=n.shiftKey,t.inside>-1)o=e.state.doc.nodeAt(t.inside),s=t.inside;else{let n=e.state.doc.resolve(t.pos);o=n.parent,s=n.depth?n.before():0}const i=r?null:n.target,a=i?e.docView.nearestDesc(i,!0):null;this.target=a?a.dom:null;let{selection:l}=e.state;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof NodeSelection&&l.from<=s&&l.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!(!this.target||this.target.draggable),setUneditable:!(!this.target||!gecko||this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),setSelectionOrigin(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>selectionToDOM(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(eventCoords(e))),this.updateAllowDefault(e),this.allowDefault||!t?setSelectionOrigin(this.view,"pointer"):handleSingleClick(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():0==e.button&&(this.flushed||safari&&this.mightDrag&&!this.mightDrag.node.isAtom||chrome&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(updateSelection(this.view,Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):setSelectionOrigin(this.view,"pointer")}move(e){this.updateAllowDefault(e),setSelectionOrigin(this.view,"pointer"),0==e.buttons&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}function inOrNearComposition(e,t){return!!e.composing||!!(safari&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500)&&(e.input.compositionEndedAt=-2e8,!0)}handlers.touchstart=(e=>{e.input.lastTouch=Date.now(),forceDOMFlush(e),setSelectionOrigin(e,"pointer")}),handlers.touchmove=(e=>{e.input.lastTouch=Date.now(),setSelectionOrigin(e,"pointer")}),handlers.contextmenu=(e=>forceDOMFlush(e));const timeoutComposition=android?5e3:-1;function scheduleComposeEnd(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>endComposition(e),t))}function clearComposition(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=timestampFromCustomEvent());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function timestampFromCustomEvent(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function endComposition(e,t=!1){if(!(android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),clearComposition(e),t||e.docView&&e.docView.dirty){let t=selectionFromDOM(e);return t&&!t.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(t)):e.updateState(e.state),!0}return!1}}function captureCopy(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}editHandlers.compositionstart=editHandlers.compositionupdate=(e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(e=>!1===e.type.spec.inclusive)))e.markCursor=e.state.storedMarks||n.marks(),endComposition(e,!0),e.markCursor=null;else if(endComposition(e),gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let t=e.domSelectionRange();for(let n=t.focusNode,r=t.focusOffset;n&&1==n.nodeType&&0!=r;){let t=r<0?n.lastChild:n.childNodes[r-1];if(!t)break;if(3==t.nodeType){e.domSelection().collapse(t,t.nodeValue.length);break}n=t,r=-1}}e.input.composing=!0}scheduleComposeEnd(e,timeoutComposition)}),editHandlers.compositionend=((e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,scheduleComposeEnd(e,20))});const brokenClipboardAPI=ie&&ie_version<15||ios&&webkit_version<604;function sliceSingleNode(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}function capturePaste(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?doPaste(e,r.value,null,t):doPaste(e,r.textContent,r.innerHTML,t)},50)}function doPaste(e,t,n,r){let o=parseFromClipboard(e,t,n,e.input.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",t=>t(e,r,o||Slice.empty)))return!0;if(!o)return!1;let s=sliceSingleNode(o),i=s?e.state.tr.replaceSelectionWith(s,e.input.shiftKey):e.state.tr.replaceSelection(o);return e.dispatch(i.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}handlers.copy=editHandlers.cut=((e,t)=>{let n=t,r=e.state.selection,o="cut"==n.type;if(r.empty)return;let s=brokenClipboardAPI?null:n.clipboardData,i=r.content(),{dom:a,text:l}=serializeForClipboard(e,i);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):captureCopy(e,a),o&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}),editHandlers.paste=((e,t)=>{let n=t;if(e.composing&&!android)return;let r=brokenClipboardAPI?null:n.clipboardData;r&&doPaste(e,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():capturePaste(e,n)});class Dragging{constructor(e,t){this.slice=e,this.move=t}}const dragCopyModifier=mac?"altKey":"ctrlKey";handlers.dragstart=((e,t)=>{let n=t,r=e.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let o=e.state.selection,s=o.empty?null:e.posAtCoords(eventCoords(n));if(s&&s.pos>=o.from&&s.pos<=(o instanceof NodeSelection?o.to-1:o.to));else if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,r.mightDrag.pos)));else if(n.target&&1==n.target.nodeType){let t=e.docView.nearestDesc(n.target,!0);t&&t.node.type.spec.draggable&&t!=e.docView&&e.dispatch(e.state.tr.setSelection(NodeSelection.create(e.state.doc,t.posBefore)))}let i=e.state.selection.content(),{dom:a,text:l}=serializeForClipboard(e,i);n.dataTransfer.clearData(),n.dataTransfer.setData(brokenClipboardAPI?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",brokenClipboardAPI||n.dataTransfer.setData("text/plain",l),e.dragging=new Dragging(i,!n[dragCopyModifier])}),handlers.dragend=(e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)}),editHandlers.dragover=editHandlers.dragenter=((e,t)=>t.preventDefault()),editHandlers.drop=((e,t)=>{let n=t,r=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let o=e.posAtCoords(eventCoords(n));if(!o)return;let s=e.state.doc.resolve(o.pos),i=r&&r.slice;i?e.someProp("transformPasted",t=>{i=t(i,e)}):i=parseFromClipboard(e,n.dataTransfer.getData(brokenClipboardAPI?"Text":"text/plain"),brokenClipboardAPI?null:n.dataTransfer.getData("text/html"),!1,s);let a=!(!r||n[dragCopyModifier]);if(e.someProp("handleDrop",t=>t(e,n,i||Slice.empty,a)))return void n.preventDefault();if(!i)return;n.preventDefault();let l=i?dropPoint(e.state.doc,s.pos,i):s.pos;null==l&&(l=s.pos);let c=e.state.tr;a&&c.deleteSelection();let d=c.mapping.map(l),p=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,u=c.doc;if(p?c.replaceRangeWith(d,d,i.content.firstChild):c.replaceRange(d,d,i),c.doc.eq(u))return;let h=c.doc.resolve(d);if(p&&NodeSelection.isSelectable(i.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new NodeSelection(h));else{let t=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((e,n,r,o)=>t=o),c.setSelection(selectionBetween(e,h,c.doc.resolve(t)))}e.focus(),e.dispatch(c.setMeta("uiEvent","drop"))}),handlers.focus=(e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&selectionToDOM(e)},20))}),handlers.blur=((e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)}),handlers.beforeinput=((e,t)=>{if(chrome&&android&&"deleteContentBackward"==t.inputType){e.domObserver.flushSoon();let{domChangeCount:t}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=t)return;if(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",t=>t(e,keyEvent(8,"Backspace"))))return;let{$cursor:n}=e.state.selection;n&&n.pos>0&&e.dispatch(e.state.tr.delete(n.pos-1,n.pos).scrollIntoView())},50)}});for(let e in editHandlers)handlers[e]=editHandlers[e];function compareObjs(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class WidgetType{constructor(e,t){this.toDOM=e,this.spec=t||noSpec,this.side=this.spec.side||0}map(e,t,n,r){let{pos:o,deleted:s}=e.mapResult(t.from+r,this.side<0?-1:1);return s?null:new Decoration(o-n,o-n,this)}valid(){return!0}eq(e){return this==e||e instanceof WidgetType&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&compareObjs(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class InlineType{constructor(e,t){this.attrs=e,this.spec=t||noSpec}map(e,t,n,r){let o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,s=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=s?null:new Decoration(o,s,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof InlineType&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}static is(e){return e.type instanceof InlineType}destroy(){}}class NodeType$1{constructor(e,t){this.attrs=e,this.spec=t||noSpec}map(e,t,n,r){let o=e.mapResult(t.from+r,1);if(o.deleted)return null;let s=e.mapResult(t.to+r,-1);return s.deleted||s.pos<=o.pos?null:new Decoration(o.pos-n,s.pos-n,this)}valid(e,t){let n,{index:r,offset:o}=e.content.findIndex(t.from);return o==t.from&&!(n=e.child(r)).isText&&o+n.nodeSize==t.to}eq(e){return this==e||e instanceof NodeType$1&&compareObjs(this.attrs,e.attrs)&&compareObjs(this.spec,e.spec)}destroy(){}}class Decoration{constructor(e,t,n){this.from=e,this.to=t,this.type=n}copy(e,t){return new Decoration(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,n){return this.type.map(e,this,t,n)}static widget(e,t,n){return new Decoration(e,e,new WidgetType(t,n))}static inline(e,t,n,r){return new Decoration(e,t,new InlineType(n,r))}static node(e,t,n,r){return new Decoration(e,t,new NodeType$1(n,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof InlineType}}const none=[],noSpec={};class DecorationSet{constructor(e,t){this.local=e.length?e:none,this.children=t.length?t:none}static create(e,t){return t.length?buildTree(t,e,0,noSpec):empty$1}find(e,t,n){let r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r}findInner(e,t,n,r,o){for(let s=0;s<this.local.length;s++){let i=this.local[s];i.from<=t&&i.to>=e&&(!o||o(i.spec))&&n.push(i.copy(i.from+r,i.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){let i=this.children[s]+1;this.children[s+2].findInner(e-i,t-i,n,r+i,o)}}map(e,t,n){return this==empty$1||0==e.maps.length?this:this.mapInner(e,t,0,0,n||noSpec)}mapInner(e,t,n,r,o){let s;for(let i=0;i<this.local.length;i++){let a=this.local[i].map(e,n,r);a&&a.type.valid(t,a)?(s||(s=[])).push(a):o.onRemove&&o.onRemove(this.local[i].spec)}return this.children.length?mapChildren(this.children,s||[],e,t,n,r,o):s?new DecorationSet(s.sort(byPos),none):empty$1}add(e,t){return t.length?this==empty$1?DecorationSet.create(e,t):this.addInner(e,t,0):this}addInner(e,t,n){let r,o=0;e.forEach((e,s)=>{let i,a=s+n;if(i=takeSpansForNode(t,e,a)){for(r||(r=this.children.slice());o<r.length&&r[o]<s;)o+=3;r[o]==s?r[o+2]=r[o+2].addInner(e,i,a+1):r.splice(o,0,s,s+e.nodeSize,buildTree(i,e,a+1,noSpec)),o+=3}});let s=moveSpans(o?withoutNulls(t):t,-n);for(let t=0;t<s.length;t++)s[t].type.valid(e,s[t])||s.splice(t--,1);return new DecorationSet(s.length?this.local.concat(s).sort(byPos):this.local,r||this.children)}remove(e){return 0==e.length||this==empty$1?this:this.removeInner(e,0)}removeInner(e,t){let n=this.children,r=this.local;for(let r=0;r<n.length;r+=3){let o,s=n[r]+t,i=n[r+1]+t;for(let t,n=0;n<e.length;n++)(t=e[n])&&t.from>s&&t.to<i&&(e[n]=null,(o||(o=[])).push(t));if(!o)continue;n==this.children&&(n=this.children.slice());let a=n[r+2].removeInner(o,s+1);a!=empty$1?n[r+2]=a:(n.splice(r,3),r-=3)}if(r.length)for(let n,o=0;o<e.length;o++)if(n=e[o])for(let e=0;e<r.length;e++)r[e].eq(n,t)&&(r==this.local&&(r=this.local.slice()),r.splice(e--,1));return n==this.children&&r==this.local?this:r.length||n.length?new DecorationSet(r,n):empty$1}forChild(e,t){if(this==empty$1)return this;if(t.isLeaf)return DecorationSet.empty;let n,r;for(let t=0;t<this.children.length;t+=3)if(this.children[t]>=e){this.children[t]==e&&(n=this.children[t+2]);break}let o=e+1,s=o+t.content.size;for(let e=0;e<this.local.length;e++){let t=this.local[e];if(t.from<s&&t.to>o&&t.type instanceof InlineType){let e=Math.max(o,t.from)-o,n=Math.min(s,t.to)-o;e<n&&(r||(r=[])).push(t.copy(e,n))}}if(r){let e=new DecorationSet(r.sort(byPos),none);return n?new DecorationGroup([e,n]):e}return n||empty$1}eq(e){if(this==e)return!0;if(!(e instanceof DecorationSet)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return removeOverlap(this.localsInner(e))}localsInner(e){if(this==empty$1)return none;if(e.inlineContent||!this.local.some(InlineType.is))return this.local;let t=[];for(let e=0;e<this.local.length;e++)this.local[e].type instanceof InlineType||t.push(this.local[e]);return t}}DecorationSet.empty=new DecorationSet([],[]),DecorationSet.removeOverlap=removeOverlap;const empty$1=DecorationSet.empty;class DecorationGroup{constructor(e){this.members=e}map(e,t){const n=this.members.map(n=>n.map(e,t,noSpec));return DecorationGroup.from(n)}forChild(e,t){if(t.isLeaf)return DecorationSet.empty;let n=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(e,t);o!=empty$1&&(o instanceof DecorationGroup?n=n.concat(o.members):n.push(o))}return DecorationGroup.from(n)}eq(e){if(!(e instanceof DecorationGroup)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,n=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(let e=0;e<o.length;e++)t.push(o[e])}else t=o}return t?removeOverlap(n?t:t.sort(byPos)):none}static from(e){switch(e.length){case 0:return empty$1;case 1:return e[0];default:return new DecorationGroup(e)}}}function mapChildren(e,t,n,r,o,s,i){let a=e.slice();for(let e=0,t=s;e<n.maps.length;e++){let r=0;n.maps[e].forEach((e,n,s,i)=>{let l=i-s-(n-e);for(let i=0;i<a.length;i+=3){let c=a[i+1];if(c<0||e>c+t-r)continue;let d=a[i]+t-r;n>=d?a[i+1]=e<=d?-2:-1:s>=o&&l&&(a[i]+=l,a[i+1]+=l)}r+=l}),t=n.maps[e].map(t,-1)}let l=!1;for(let t=0;t<a.length;t+=3)if(a[t+1]<0){if(-2==a[t+1]){l=!0,a[t+1]=-1;continue}let c=n.map(e[t]+s),d=c-o;if(d<0||d>=r.content.size){l=!0;continue}let p=n.map(e[t+1]+s,-1)-o,{index:u,offset:h}=r.content.findIndex(d),m=r.maybeChild(u);if(m&&h==d&&h+m.nodeSize==p){let r=a[t+2].mapInner(n,m,c+1,e[t]+s+1,i);r!=empty$1?(a[t]=d,a[t+1]=p,a[t+2]=r):(a[t+1]=-2,l=!0)}else l=!0}if(l){let l=buildTree(mapAndGatherRemainingDecorations(a,e,t,n,o,s,i),r,0,i);t=l.local;for(let e=0;e<a.length;e+=3)a[e+1]<0&&(a.splice(e,3),e-=3);for(let e=0,t=0;e<l.children.length;e+=3){let n=l.children[e];for(;t<a.length&&a[t]<n;)t+=3;a.splice(t,0,l.children[e],l.children[e+1],l.children[e+2])}}return new DecorationSet(t.sort(byPos),a)}function moveSpans(e,t){if(!t||!e.length)return e;let n=[];for(let r=0;r<e.length;r++){let o=e[r];n.push(new Decoration(o.from+t,o.to+t,o.type))}return n}function mapAndGatherRemainingDecorations(e,t,n,r,o,s,i){function a(e,t){for(let s=0;s<e.local.length;s++){let a=e.local[s].map(r,o,t);a?n.push(a):i.onRemove&&i.onRemove(e.local[s].spec)}for(let n=0;n<e.children.length;n+=3)a(e.children[n+2],e.children[n]+t+1)}for(let n=0;n<e.length;n+=3)-1==e[n+1]&&a(e[n+2],t[n]+s+1);return n}function takeSpansForNode(e,t,n){if(t.isLeaf)return null;let r=n+t.nodeSize,o=null;for(let t,s=0;s<e.length;s++)(t=e[s])&&t.from>n&&t.to<r&&((o||(o=[])).push(t),e[s]=null);return o}function withoutNulls(e){let t=[];for(let n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function buildTree(e,t,n,r){let o=[],s=!1;t.forEach((t,i)=>{let a=takeSpansForNode(e,t,i+n);if(a){s=!0;let e=buildTree(a,t,n+i+1,r);e!=empty$1&&o.push(i,i+t.nodeSize,e)}});let i=moveSpans(s?withoutNulls(e):e,-n).sort(byPos);for(let e=0;e<i.length;e++)i[e].type.valid(t,i[e])||(r.onRemove&&r.onRemove(i[e].spec),i.splice(e--,1));return i.length||o.length?new DecorationSet(i,o):empty$1}function byPos(e,t){return e.from-t.from||e.to-t.to}function removeOverlap(e){let t=e;for(let n=0;n<t.length-1;n++){let r=t[n];if(r.from!=r.to)for(let o=n+1;o<t.length;o++){let s=t[o];if(s.from!=r.from){s.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,s.from),insertAhead(t,o,r.copy(s.from,r.to)));break}s.to!=r.to&&(t==e&&(t=e.slice()),t[o]=s.copy(s.from,r.to),insertAhead(t,o+1,s.copy(r.to,s.to)))}}return t}function insertAhead(e,t,n){for(;t<e.length&&byPos(n,e[t])>0;)t++;e.splice(t,0,n)}function viewDecorations(e){let t=[];return e.someProp("decorations",n=>{let r=n(e.state);r&&r!=empty$1&&t.push(r)}),e.cursorWrapper&&t.push(DecorationSet.create(e.state.doc,[e.cursorWrapper.deco])),DecorationGroup.from(t)}const observeOptions={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},useCharData=ie&&ie_version<=11;class SelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class DOMObserver{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new SelectionState,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(e=>{for(let t=0;t<e.length;t++)this.queue.push(e[t]);ie&&ie_version<=11&&e.some(e=>"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length)?this.flushSoon():this.flush()}),useCharData&&(this.onCharData=(e=>{this.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),this.flushSoon()})),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,observeOptions)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(hasFocusAndSelection(this.view)){if(this.suppressingSelectionUpdates)return selectionToDOM(this.view);if(ie&&ie_version<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&isEquivalentPosition(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t,n=new Set;for(let t=e.focusNode;t;t=parentNode(t))n.add(t);for(let r=e.anchorNode;r;r=parentNode(r))if(n.has(r)){t=r;break}let r=t&&this.view.docView.nearestDesc(t);return r&&r.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);let n=e.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&hasFocusAndSelection(e)&&!this.ignoreSelectionChange(n),o=-1,s=-1,i=!1,a=[];if(e.editable)for(let e=0;e<t.length;e++){let n=this.registerMutation(t[e],a);n&&(o=o<0?n.from:Math.min(n.from,o),s=s<0?n.to:Math.max(n.to,s),n.typeOver&&(i=!0))}if(gecko&&a.length>1){let e=a.filter(e=>"BR"==e.nodeName);if(2==e.length){let t=e[0],n=e[1];t.parentNode&&t.parentNode.parentNode==n.parentNode?n.remove():t.remove()}}let l=null;o<0&&r&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&selectionCollapsed(n)&&(l=selectionFromDOM(e))&&l.eq(Selection.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,selectionToDOM(e),this.currentSelection.set(n),e.scrollToSelection()):(o>-1||r)&&(o>-1&&(e.docView.markDirty(o,s),checkCSS(e)),this.handleDOMChange(o,s,i,a),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||selectionToDOM(e),this.currentSelection.set(n))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){for(let n=0;n<e.addedNodes.length;n++)t.push(e.addedNodes[n]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let r=e.previousSibling,o=e.nextSibling;if(ie&&ie_version<=11&&e.addedNodes.length)for(let t=0;t<e.addedNodes.length;t++){let{previousSibling:n,nextSibling:s}=e.addedNodes[t];(!n||Array.prototype.indexOf.call(e.addedNodes,n)<0)&&(r=n),(!s||Array.prototype.indexOf.call(e.addedNodes,s)<0)&&(o=s)}let s=r&&r.parentNode==e.target?domIndex(r)+1:0,i=n.localPosFromDOM(e.target,s,-1),a=o&&o.parentNode==e.target?domIndex(o):e.target.childNodes.length;return{from:i,to:n.localPosFromDOM(e.target,a,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let cssChecked=new WeakMap,cssCheckWarned=!1;function checkCSS(e){if(!cssChecked.has(e)&&(cssChecked.set(e,null),-1!==["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace))){if(e.requiresGeckoHackNode=gecko,cssCheckWarned)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),cssCheckWarned=!0}}function safariShadowSelectionRange(e){let t;function n(e){e.preventDefault(),e.stopImmediatePropagation(),t=e.getTargetRanges()[0]}e.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",n,!0);let r=t.startContainer,o=t.startOffset,s=t.endContainer,i=t.endOffset,a=e.domAtPos(e.state.selection.anchor);return isEquivalentPosition(a.node,a.offset,s,i)&&([r,o,s,i]=[s,i,r,o]),{anchorNode:r,anchorOffset:o,focusNode:s,focusOffset:i}}function parseBetween(e,t,n){let r,{node:o,fromOffset:s,toOffset:i,from:a,to:l}=e.docView.parseRange(t,n),c=e.domSelectionRange(),d=c.anchorNode;if(d&&e.dom.contains(1==d.nodeType?d:d.parentNode)&&(r=[{node:d,offset:c.anchorOffset}],selectionCollapsed(c)||r.push({node:c.focusNode,offset:c.focusOffset})),chrome&&8===e.input.lastKeyCode)for(let e=i;e>s;e--){let t=o.childNodes[e-1],n=t.pmViewDesc;if("BR"==t.nodeName&&!n){i=e;break}if(!n||n.size)break}let p=e.state.doc,u=e.someProp("domParser")||DOMParser.fromSchema(e.state.schema),h=p.resolve(a),m=null,f=u.parse(o,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:s,to:i,preserveWhitespace:"pre"!=h.parent.type.whitespace||"full",findPositions:r,ruleFromNode:ruleFromNode,context:h});if(r&&null!=r[0].pos){let e=r[0].pos,t=r[1]&&r[1].pos;null==t&&(t=e),m={anchor:e+a,head:t+a}}return{doc:f,sel:m,from:a,to:l}}function ruleFromNode(e){let t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let e=document.createElement("div");return e.appendChild(document.createElement("li")),{skip:e}}if(e.parentNode.lastChild==e||safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}function readDOMChange(e,t,n,r,o){if(t<0){let t=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,n=selectionFromDOM(e,t);if(n&&!e.state.selection.eq(n)){let r=e.state.tr.setSelection(n);"pointer"==t?r.setMeta("pointer",!0):"key"==t&&r.scrollIntoView(),e.dispatch(r)}return}let s=e.state.doc.resolve(t),i=s.sharedDepth(n);t=s.before(i+1),n=e.state.doc.resolve(n).after(i+1);let a,l,c=e.state.selection,d=parseBetween(e,t,n),p=e.state.doc,u=p.slice(d.from,d.to);8===e.input.lastKeyCode&&Date.now()-100<e.input.lastKeyCodeTime?(a=e.state.selection.to,l="end"):(a=e.state.selection.from,l="start"),e.input.lastKeyCode=null;let h=findDiff(u.content,d.doc.content,d.from,a,l);if((ios&&e.input.lastIOSEnter>Date.now()-225||android)&&o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName||"LI"==e.nodeName)&&(!h||h.endA>=h.endB)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(!h){if(!(r&&c instanceof TextSelection&&!c.empty&&c.$head.sameParent(c.$anchor))||e.composing||d.sel&&d.sel.anchor!=d.sel.head){if(d.sel){let t=resolveSelection(e,e.state.doc,d.sel);t&&!t.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(t))}return}h={start:c.from,endA:c.to,endB:c.to}}if(chrome&&e.cursorWrapper&&d.sel&&d.sel.anchor==e.cursorWrapper.deco.from&&d.sel.head==d.sel.anchor){let e=h.endB-h.start;d.sel={anchor:d.sel.anchor+e,head:d.sel.anchor+e}}e.input.domChangeCount++,e.state.selection.from<e.state.selection.to&&h.start==h.endB&&e.state.selection instanceof TextSelection&&(h.start>e.state.selection.from&&h.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?h.start=e.state.selection.from:h.endA<e.state.selection.to&&h.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(h.endB+=e.state.selection.to-h.endA,h.endA=e.state.selection.to)),ie&&ie_version<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>d.from&&"  "==d.doc.textBetween(h.start-d.from-1,h.start-d.from+1)&&(h.start--,h.endA--,h.endB--);let m,f=d.doc.resolveNoCache(h.start-d.from),g=d.doc.resolveNoCache(h.endB-d.from),v=p.resolve(h.start),_=f.sameParent(g)&&f.parent.inlineContent&&v.end()>=h.endA;if((ios&&e.input.lastIOSEnter>Date.now()-225&&(!_||o.some(e=>"DIV"==e.nodeName||"P"==e.nodeName))||!_&&f.pos<d.doc.content.size&&(m=Selection.findFrom(d.doc.resolve(f.pos+1),1,!0))&&m.head==g.pos)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(13,"Enter"))))return void(e.input.lastIOSEnter=0);if(e.state.selection.anchor>h.start&&looksLikeJoin(p,h.start,h.endA,f,g)&&e.someProp("handleKeyDown",t=>t(e,keyEvent(8,"Backspace"))))return void(android&&chrome&&e.domObserver.suppressSelectionUpdates());chrome&&android&&h.endB==h.start&&(e.input.lastAndroidDelete=Date.now()),android&&!_&&f.start()!=g.start()&&0==g.parentOffset&&f.depth==g.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==h.endA&&(h.endB-=2,g=d.doc.resolveNoCache(h.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(t){return t(e,keyEvent(13,"Enter"))})},20));let w,b,y,k=h.start,$=h.endA;if(_)if(f.pos==g.pos)ie&&ie_version<=11&&0==f.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>selectionToDOM(e),20)),w=e.state.tr.delete(k,$),b=p.resolve(h.start).marksAcross(p.resolve(h.endA));else if(h.endA==h.endB&&(y=isMarkChange(f.parent.content.cut(f.parentOffset,g.parentOffset),v.parent.content.cut(v.parentOffset,h.endA-v.start()))))w=e.state.tr,"add"==y.type?w.addMark(k,$,y.mark):w.removeMark(k,$,y.mark);else if(f.parent.child(f.index()).isText&&f.index()==g.index()-(g.textOffset?0:1)){let t=f.parent.textBetween(f.parentOffset,g.parentOffset);if(e.someProp("handleTextInput",n=>n(e,k,$,t)))return;w=e.state.tr.insertText(t,k,$)}if(w||(w=e.state.tr.replace(k,$,d.doc.slice(h.start-d.from,h.endB-d.from))),d.sel){let t=resolveSelection(e,w.doc,d.sel);t&&!(chrome&&android&&e.composing&&t.empty&&(h.start!=h.endB||e.input.lastAndroidDelete<Date.now()-100)&&(t.head==k||t.head==w.mapping.map($)-1)||ie&&t.empty&&t.head==k)&&w.setSelection(t)}b&&w.ensureMarks(b),e.dispatch(w.scrollIntoView())}function resolveSelection(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:selectionBetween(e,t.resolve(n.anchor),t.resolve(n.head))}function isMarkChange(e,t){let n,r,o,s=e.firstChild.marks,i=t.firstChild.marks,a=s,l=i;for(let e=0;e<i.length;e++)a=i[e].removeFromSet(a);for(let e=0;e<s.length;e++)l=s[e].removeFromSet(l);if(1==a.length&&0==l.length)r=a[0],n="add",o=(e=>e.mark(r.addToSet(e.marks)));else{if(0!=a.length||1!=l.length)return null;r=l[0],n="remove",o=(e=>e.mark(r.removeFromSet(e.marks)))}let c=[];for(let e=0;e<t.childCount;e++)c.push(o(t.child(e)));if(Fragment.from(c).eq(e))return{mark:r,type:n}}function looksLikeJoin(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||skipClosingAndOpening(r,!0,!1)<o.pos)return!1;let s=e.resolve(t);if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let i=e.resolve(skipClosingAndOpening(s,!0,!0));return!(!i.parent.isTextblock||i.pos>n||skipClosingAndOpening(i,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(i.parent.content)}function skipClosingAndOpening(e,t,n){let r=e.depth,o=t?e.end():e.pos;for(;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n){let t=e.node(r).maybeChild(e.indexAfter(r));for(;t&&!t.isLeaf;)t=t.firstChild,o++}return o}function findDiff(e,t,n,r,o){let s=e.findDiffStart(t,n);if(null==s)return null;let{a:i,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if("end"==o){r-=i+Math.max(0,s-Math.min(i,a))-s}if(i<s&&e.size<t.size){a=(s-=r<=s&&r>=i?s-r:0)+(a-i),i=s}else if(a<s){i=(s-=r<=s&&r>=a?s-r:0)+(i-a),a=s}return{start:s,endA:i,endB:a}}class EditorView{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new InputState,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(checkStateComponent),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):"function"==typeof e?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=getEditable(this),updateCursorWrapper(this),this.nodeViews=buildNodeViews(this),this.docView=docViewDesc(this.state.doc,computeDocDeco(this),viewDecorations(this),this.dom,this),this.domObserver=new DOMObserver(this,(e,t,n,r)=>readDOMChange(this,e,t,n,r)),this.domObserver.start(),initInput(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ensureListeners(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(checkStateComponent),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let e in this._props)t[e]=this._props[e];t.state=this.state;for(let n in e)t[n]=e[n];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){let n=this.state,r=!1,o=!1;e.storedMarks&&this.composing&&(clearComposition(this),o=!0),this.state=e;let s=n.plugins!=e.plugins||this._props.plugins!=t.plugins;if(s||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let e=buildNodeViews(this);changedNodeViews(e,this.nodeViews)&&(this.nodeViews=e,r=!0)}(s||t.handleDOMEvents!=this._props.handleDOMEvents)&&ensureListeners(this),this.editable=getEditable(this),updateCursorWrapper(this);let i=viewDecorations(this),a=computeDocDeco(this),l=n.plugins==e.plugins||n.doc.eq(e.doc)?e.scrollToSelection>n.scrollToSelection?"to selection":"preserve":"reset",c=r||!this.docView.matchesNode(e.doc,a,i);!c&&e.selection.eq(n.selection)||(o=!0);let d="preserve"==l&&o&&null==this.dom.style.overflowAnchor&&storeScrollPos(this);if(o){this.domObserver.stop();let t=c&&(ie||chrome)&&!this.composing&&!n.selection.empty&&!e.selection.empty&&selectionContextChanged(n.selection,e.selection);if(c){let n=chrome?this.trackWrites=this.domSelectionRange().focusNode:null;!r&&this.docView.update(e.doc,a,i,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=docViewDesc(e.doc,a,i,this.dom,this)),n&&!this.trackWrites&&(t=!0)}t||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&anchorInRightPlace(this))?selectionToDOM(this,t):(syncNodeSelection(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(n),"reset"==l?this.dom.scrollTop=0:"to selection"==l?this.scrollToSelection():d&&resetScrollPos(d)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(this.someProp("handleScrollToSelection",e=>e(this)));else if(this.state.selection instanceof NodeSelection){let t=this.docView.domAfterPos(this.state.selection.from);1==t.nodeType&&scrollRectIntoView(this,t.getBoundingClientRect(),e)}else scrollRectIntoView(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(e&&e.plugins==this.state.plugins&&this.directPlugins==this.prevDirectPlugins)for(let t=0;t<this.pluginViews.length;t++){let n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let e=0;e<this.directPlugins.length;e++){let t=this.directPlugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}for(let e=0;e<this.state.plugins.length;e++){let t=this.state.plugins[e];t.spec.view&&this.pluginViews.push(t.spec.view(this))}}}someProp(e,t){let n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;for(let r=0;r<this.directPlugins.length;r++){let o=this.directPlugins[r].props[e];if(null!=o&&(n=t?t(o):o))return n}let o=this.state.plugins;if(o)for(let r=0;r<o.length;r++){let s=o[r].props[e];if(null!=s&&(n=t?t(s):s))return n}}hasFocus(){if(ie){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if("false"==e.contentEditable)return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&focusPreventScroll(this.dom),selectionToDOM(this),this.domObserver.start()}get root(){let e=this._root;if(null==e)for(let e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=(()=>e.ownerDocument.getSelection())),this._root=e;return e||document}posAtCoords(e){return posAtCoords(this,e)}coordsAtPos(e,t=1){return coordsAtPos(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,n=-1){let r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(e,t){return endOfTextblock(this,t||this.state,e)}destroy(){this.docView&&(destroyInput(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],viewDecorations(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return null==this.docView}dispatchEvent(e){return dispatchEvent(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return safari&&11===this.root.nodeType&&deepActiveElement(this.dom.ownerDocument)==this.dom?safariShadowSelectionRange(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function computeDocDeco(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",n=>{if("function"==typeof n&&(n=n(e.state)),n)for(let e in n)"class"==e&&(t.class+=" "+n[e]),"style"==e?t.style=(t.style?t.style+";":"")+n[e]:t[e]||"contenteditable"==e||"nodeName"==e||(t[e]=String(n[e]))}),[Decoration.node(0,e.state.doc.content.size,t)]}function updateCursorWrapper(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Decoration.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function getEditable(e){return!e.someProp("editable",t=>!1===t(e.state))}function selectionContextChanged(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function buildNodeViews(e){let t=Object.create(null);function n(e){for(let n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function changedNodeViews(e,t){let n=0,r=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let e in t)r++;return n!=r}function checkStateComponent(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}for(var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},chrome$1="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),gecko$1="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),mac$1="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),ie$1="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),brokenModifierNames=mac$1||chrome$1&&+chrome$1[1]<57,i$1=0;i$1<10;i$1++)base[48+i$1]=base[96+i$1]=String(i$1);for(var i$1=1;i$1<=24;i$1++)base[i$1+111]="F"+i$1;for(var i$1=65;i$1<=90;i$1++)base[i$1]=String.fromCharCode(i$1+32),shift[i$1]=String.fromCharCode(i$1);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(e){var t=!(brokenModifierNames&&(e.ctrlKey||e.altKey||e.metaKey)||ie$1&&e.shiftKey&&e.key&&1==e.key.length||"Unidentified"==e.key)&&e.key||(e.shiftKey?shift:base)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}const mac$2="undefined"!=typeof navigator&&/Mac|iP(hone|[oa]d)/.test(navigator.platform);function normalizeKeyName(e){let t,n,r,o,s=e.split(/-(?!$)/),i=s[s.length-1];"Space"==i&&(i=" ");for(let e=0;e<s.length-1;e++){let i=s[e];if(/^(cmd|meta|m)$/i.test(i))o=!0;else if(/^a(lt)?$/i.test(i))t=!0;else if(/^(c|ctrl|control)$/i.test(i))n=!0;else if(/^s(hift)?$/i.test(i))r=!0;else{if(!/^mod$/i.test(i))throw new Error("Unrecognized modifier name: "+i);mac$2?o=!0:n=!0}}return t&&(i="Alt-"+i),n&&(i="Ctrl-"+i),o&&(i="Meta-"+i),r&&(i="Shift-"+i),i}function normalize(e){let t=Object.create(null);for(let n in e)t[normalizeKeyName(n)]=e[n];return t}function modifiers(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function keymap(e){return new Plugin({props:{handleKeyDown:keydownHandler(e)}})}function keydownHandler(e){let t=normalize(e);return function(e,n){let r,o=keyName(n),s=1==o.length&&" "!=o,i=t[modifiers(o,n,!s)];if(i&&i(e.state,e.dispatch,e))return!0;if(s&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=base[n.keyCode])&&r!=o){let o=t[modifiers(r,n,!0)];if(o&&o(e.state,e.dispatch,e))return!0}else if(s&&n.shiftKey){let r=t[modifiers(o,n,!0)];if(r&&r(e.state,e.dispatch,e))return!0}return!1}}const deleteSelection=(e,t)=>!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0),joinBackward=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;let o=findCutBefore(r);if(!o){let n=r.blockRange(),o=n&&liftTarget(n);return null!=o&&(t&&t(e.tr.lift(n,o).scrollIntoView()),!0)}let s=o.nodeBefore;if(!s.type.spec.isolating&&deleteBarrier(e,o,t))return!0;if(0==r.parent.content.size&&(textblockAt(s,"end")||NodeSelection.isSelectable(s))){let n=replaceStep(e.doc,r.before(),r.after(),Slice.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(textblockAt(s,"end")?Selection.findFrom(r.doc.resolve(r.mapping.map(o.pos,-1)),-1):NodeSelection.create(r.doc,o.pos-s.nodeSize)),t(r.scrollIntoView())}return!0}}return!(!s.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0)};function textblockAt(e,t,n=!1){for(let r=e;r;r="start"==t?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&1!=r.childCount)return!1}return!1}const selectNodeBackward=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):r.parentOffset>0)return!1;s=findCutBefore(r)}let i=s&&s.nodeBefore;return!(!i||!NodeSelection.isSelectable(i))&&(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,s.pos-i.nodeSize)).scrollIntoView()),!0)};function findCutBefore(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}const joinForward=(e,t,n)=>{let{$cursor:r}=e.selection;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;let o=findCutAfter(r);if(!o)return!1;let s=o.nodeAfter;if(deleteBarrier(e,o,t))return!0;if(0==r.parent.content.size&&(textblockAt(s,"start")||NodeSelection.isSelectable(s))){let n=replaceStep(e.doc,r.before(),r.after(),Slice.empty);if(n&&n.slice.size<n.to-n.from){if(t){let r=e.tr.step(n);r.setSelection(textblockAt(s,"start")?Selection.findFrom(r.doc.resolve(r.mapping.map(o.pos)),1):NodeSelection.create(r.doc,r.mapping.map(o.pos))),t(r.scrollIntoView())}return!0}}return!(!s.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0)},selectNodeForward=(e,t,n)=>{let{$head:r,empty:o}=e.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size)return!1;s=findCutAfter(r)}let i=s&&s.nodeAfter;return!(!i||!NodeSelection.isSelectable(i))&&(t&&t(e.tr.setSelection(NodeSelection.create(e.doc,s.pos)).scrollIntoView()),!0)};function findCutAfter(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const lift$1=(e,t)=>{let{$from:n,$to:r}=e.selection,o=n.blockRange(r),s=o&&liftTarget(o);return null!=s&&(t&&t(e.tr.lift(o,s).scrollIntoView()),!0)},newlineInCode=(e,t)=>{let{$head:n,$anchor:r}=e.selection;return!(!n.parent.type.spec.code||!n.sameParent(r))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)};function defaultBlockAt(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const exitCode=(e,t)=>{let{$head:n,$anchor:r}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let o=n.node(-1),s=n.indexAfter(-1),i=defaultBlockAt(o.contentMatchAt(s));if(!i||!o.canReplaceWith(s,s,i))return!1;if(t){let r=n.after(),o=e.tr.replaceWith(r,r,i.createAndFill());o.setSelection(Selection.near(o.doc.resolve(r),1)),t(o.scrollIntoView())}return!0},createParagraphNear=(e,t)=>{let n=e.selection,{$from:r,$to:o}=n;if(n instanceof AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=defaultBlockAt(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(t){let n=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,i=e.tr.insert(n,s.createAndFill());i.setSelection(TextSelection.create(i.doc,n+1)),t(i.scrollIntoView())}return!0},liftEmptyBlock=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let r=n.before();if(canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}let r=n.blockRange(),o=r&&liftTarget(r);return null!=o&&(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)},splitBlock=(e,t)=>{let{$from:n,$to:r}=e.selection;if(e.selection instanceof NodeSelection&&e.selection.node.isBlock)return!(!n.parentOffset||!canSplit(e.doc,n.pos))&&(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){let o=r.parentOffset==r.parent.content.size,s=e.tr;(e.selection instanceof TextSelection||e.selection instanceof AllSelection)&&s.deleteSelection();let i=0==n.depth?null:defaultBlockAt(n.node(-1).contentMatchAt(n.indexAfter(-1))),a=o&&i?[{type:i}]:void 0,l=canSplit(s.doc,s.mapping.map(n.pos),1,a);if(a||l||!canSplit(s.doc,s.mapping.map(n.pos),1,i?[{type:i}]:void 0)||(i&&(a=[{type:i}]),l=!0),l&&(s.split(s.mapping.map(n.pos),1,a),!o&&!n.parentOffset&&n.parent.type!=i)){let e=s.mapping.map(n.before()),t=s.doc.resolve(e);i&&n.node(-1).canReplaceWith(t.index(),t.index()+1,i)&&s.setNodeMarkup(s.mapping.map(n.before()),i)}t(s.scrollIntoView())}return!0},selectParentNode=(e,t)=>{let n,{$from:r,to:o}=e.selection,s=r.sharedDepth(o);return 0!=s&&(n=r.before(s),t&&t(e.tr.setSelection(NodeSelection.create(e.doc,n))),!0)},selectAll=(e,t)=>(t&&t(e.tr.setSelection(new AllSelection(e.doc))),!0);function joinMaybeClear(e,t,n){let r=t.nodeBefore,o=t.nodeAfter,s=t.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&t.parent.canReplace(s-1,s)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),!0):!(!t.parent.canReplace(s,s+1)||!o.isTextblock&&!canJoin(e.doc,t.pos))&&(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),!0))}function deleteBarrier(e,t,n){let r,o,s=t.nodeBefore,i=t.nodeAfter;if(s.type.spec.isolating||i.type.spec.isolating)return!1;if(joinMaybeClear(e,t,n))return!0;let a=t.parent.canReplace(t.index(),t.index()+1);if(a&&(r=(o=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&o.matchType(r[0]||i.type).validEnd){if(n){let o=t.pos+i.nodeSize,a=Fragment.empty;for(let e=r.length-1;e>=0;e--)a=Fragment.from(r[e].create(null,a));a=Fragment.from(s.copy(a));let l=e.tr.step(new ReplaceAroundStep(t.pos-1,o,t.pos,o,new Slice(a,1,0),r.length,!0)),c=o+2*r.length;canJoin(l.doc,c)&&l.join(c),n(l.scrollIntoView())}return!0}let l=Selection.findFrom(t,1),c=l&&l.$from.blockRange(l.$to),d=c&&liftTarget(c);if(null!=d&&d>=t.depth)return n&&n(e.tr.lift(c,d).scrollIntoView()),!0;if(a&&textblockAt(i,"start",!0)&&textblockAt(s,"end")){let r=s,o=[];for(;o.push(r),!r.isTextblock;)r=r.lastChild;let a=i,l=1;for(;!a.isTextblock;a=a.firstChild)l++;if(r.canReplace(r.childCount,r.childCount,a.content)){if(n){let r=Fragment.empty;for(let e=o.length-1;e>=0;e--)r=Fragment.from(o[e].copy(r));n(e.tr.step(new ReplaceAroundStep(t.pos-o.length,t.pos+i.nodeSize,t.pos+l,t.pos+i.nodeSize-l,new Slice(r,o.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function selectTextblockSide(e){return function(t,n){let r=t.selection,o=e<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return!!o.node(s).isTextblock&&(n&&n(t.tr.setSelection(TextSelection.create(t.doc,e<0?o.start(s):o.end(s)))),!0)}}const selectTextblockStart=selectTextblockSide(-1),selectTextblockEnd=selectTextblockSide(1);function wrapIn(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),a=i&&findWrapping(i,e,t);return!!a&&(r&&r(n.tr.wrap(i,a).scrollIntoView()),!0)}}function setBlockType$1(e,t=null){return function(n,r){let{from:o,to:s}=n.selection,i=!1;return n.doc.nodesBetween(o,s,(r,o)=>{if(i)return!1;if(r.isTextblock&&!r.hasMarkup(e,t))if(r.type==e)i=!0;else{let t=n.doc.resolve(o),r=t.index();i=t.parent.canReplaceWith(r,r+1,e)}}),!!i&&(r&&r(n.tr.setBlockType(o,s,e,t).scrollIntoView()),!0)}}function chainCommands(...e){return function(t,n,r){for(let o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}let backspace=chainCommands(deleteSelection,joinBackward,selectNodeBackward),del=chainCommands(deleteSelection,joinForward,selectNodeForward);const pcBaseKeymap={Enter:chainCommands(newlineInCode,createParagraphNear,liftEmptyBlock,splitBlock),"Mod-Enter":exitCode,Backspace:backspace,"Mod-Backspace":backspace,"Shift-Backspace":backspace,Delete:del,"Mod-Delete":del,"Mod-a":selectAll},macBaseKeymap={"Ctrl-h":pcBaseKeymap.Backspace,"Alt-Backspace":pcBaseKeymap["Mod-Backspace"],"Ctrl-d":pcBaseKeymap.Delete,"Ctrl-Alt-Backspace":pcBaseKeymap["Mod-Delete"],"Alt-Delete":pcBaseKeymap["Mod-Delete"],"Alt-d":pcBaseKeymap["Mod-Delete"],"Ctrl-a":selectTextblockStart,"Ctrl-e":selectTextblockEnd};for(let e in pcBaseKeymap)macBaseKeymap[e]=pcBaseKeymap[e];const mac$3="undefined"!=typeof navigator?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!("undefined"==typeof os||!os.platform)&&"darwin"==os.platform();function wrapInList(e,t=null){return function(n,r){let{$from:o,$to:s}=n.selection,i=o.blockRange(s),a=!1,l=i;if(!i)return!1;if(i.depth>=2&&o.node(i.depth-1).type.compatibleContent(e)&&0==i.startIndex){if(0==o.index(i.depth-1))return!1;let e=n.doc.resolve(i.start-2);l=new NodeRange(e,e,i.depth),i.endIndex<i.parent.childCount&&(i=new NodeRange(o,n.doc.resolve(s.end(i.depth)),i.depth)),a=!0}let c=findWrapping(l,e,t,i);return!!c&&(r&&r(doWrapInList(n.tr,i,c,a,e).scrollIntoView()),!0)}}function doWrapInList(e,t,n,r,o){let s=Fragment.empty;for(let e=n.length-1;e>=0;e--)s=Fragment.from(n[e].type.create(n[e].attrs,s));e.step(new ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new Slice(s,0,0),n.length,!0));let i=0;for(let e=0;e<n.length;e++)n[e].type==o&&(i=e+1);let a=n.length-i,l=t.start+n.length-(r?2:0),c=t.parent;for(let n=t.startIndex,r=t.endIndex,o=!0;n<r;n++,o=!1)!o&&canSplit(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=c.child(n).nodeSize;return e}function liftListItem(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);return!!s&&(!n||(r.node(s.depth-1).type==e?liftToOuterList(t,n,e,s):liftOutOfList(t,n,s)))}}function liftToOuterList(e,t,n,r){let o=e.tr,s=r.end,i=r.$to.end(r.depth);s<i&&(o.step(new ReplaceAroundStep(s-1,i,s,i,new Slice(Fragment.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new NodeRange(o.doc.resolve(r.$from.pos),o.doc.resolve(i),r.depth));const a=liftTarget(r);if(null==a)return!1;o.lift(r,a);let l=o.mapping.map(s,-1)-1;return canJoin(o.doc,l)&&o.join(l),t(o.scrollIntoView()),!0}function liftOutOfList(e,t,n){let r=e.tr,o=n.parent;for(let e=n.end,t=n.endIndex-1,s=n.startIndex;t>s;t--)e-=o.child(t).nodeSize,r.delete(e-1,e+1);let s=r.doc.resolve(n.start),i=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=0==n.startIndex,l=n.endIndex==o.childCount,c=s.node(-1),d=s.index(-1);if(!c.canReplace(d+(a?0:1),d+1,i.content.append(l?Fragment.empty:Fragment.from(o))))return!1;let p=s.pos,u=p+i.nodeSize;return r.step(new ReplaceAroundStep(p-(a?1:0),u+(l?1:0),p+1,u-1,new Slice((a?Fragment.empty:Fragment.from(o.copy(Fragment.empty))).append(l?Fragment.empty:Fragment.from(o.copy(Fragment.empty))),a?0:1,l?0:1),a?0:1)),t(r.scrollIntoView()),!0}function sinkListItem(e){return function(t,n){let{$from:r,$to:o}=t.selection,s=r.blockRange(o,t=>t.childCount>0&&t.firstChild.type==e);if(!s)return!1;let i=s.startIndex;if(0==i)return!1;let a=s.parent,l=a.child(i-1);if(l.type!=e)return!1;if(n){let r=l.lastChild&&l.lastChild.type==a.type,o=Fragment.from(r?e.create():null),i=new Slice(Fragment.from(e.create(null,Fragment.from(a.type.create(null,o)))),r?3:1,0),c=s.start,d=s.end;n(t.tr.step(new ReplaceAroundStep(c-(r?3:1),d,c,d,i,1,!0)).scrollIntoView())}return!0}}function createChainableState(e){const{state:t,transaction:n}=e;let{selection:r}=n,{doc:o}=n,{storedMarks:s}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),filterTransaction:t.filterTransaction,plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=n.selection,o=n.doc,s=n.storedMarks,n}}}class CommandManager{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:r}=t,{tr:o}=n,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([e,t])=>{return[e,(...e)=>{const n=t(...e)(s);return o.getMeta("preventDispatch")||this.hasCustomState||r.dispatch(o),n}]}))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r,i=[],a=!!e,l=e||o.tr,c={...Object.fromEntries(Object.entries(n).map(([e,n])=>{return[e,(...e)=>{const r=this.buildProps(l,t),o=n(...e)(r);return i.push(o),c}]})),run:()=>(a||!t||l.getMeta("preventDispatch")||this.hasCustomState||s.dispatch(l),i.every(e=>!0===e))};return c}createCan(e){const{rawCommands:t,state:n}=this,r=e||n.tr,o=this.buildProps(r,!1);return{...Object.fromEntries(Object.entries(t).map(([e,t])=>[e,(...e)=>t(...e)({...o,dispatch:void 0})])),chain:()=>this.createChain(r,!1)}}buildProps(e,t=!0){const{rawCommands:n,editor:r,state:o}=this,{view:s}=r;o.storedMarks&&e.setStoredMarks(o.storedMarks);const i={tr:e,editor:r,view:s,state:createChainableState({state:o,transaction:e}),dispatch:t?()=>void 0:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([e,t])=>[e,(...e)=>t(...e)(i)]))}};return i}}class EventEmitter{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(e=>e.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(e=>e!==t):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function getExtensionField(e,t,n){if(void 0===e.config[t]&&e.parent)return getExtensionField(e.parent,t,n);if("function"==typeof e.config[t]){return e.config[t].bind({...n,parent:e.parent?getExtensionField(e.parent,t,n):null})}return e.config[t]}function splitExtensions(e){return{baseExtensions:e.filter(e=>"extension"===e.type),nodeExtensions:e.filter(e=>"node"===e.type),markExtensions:e.filter(e=>"mark"===e.type)}}function getAttributesFromExtensions(e){const t=[],{nodeExtensions:n,markExtensions:r}=splitExtensions(e),o=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(e=>{const n=getExtensionField(e,"addGlobalAttributes",{name:e.name,options:e.options,storage:e.storage});n&&n().forEach(e=>{e.types.forEach(n=>{Object.entries(e.attributes).forEach(([e,r])=>{t.push({type:n,name:e,attribute:{...s,...r}})})})})}),o.forEach(e=>{const n={name:e.name,options:e.options,storage:e.storage},r=getExtensionField(e,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(([n,r])=>{const o={...s,...r};(null==r?void 0:r.isRequired)&&void 0===(null==r?void 0:r.default)&&delete o.default,t.push({type:e.name,name:n,attribute:o})})}),t}function getNodeType(e,t){if("string"==typeof e){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function mergeAttributes(...e){return e.filter(e=>!!e).reduce((e,t)=>{const n={...e};return Object.entries(t).forEach(([e,t])=>{n[e]?n[e]="class"===e?[n[e],t].join(" "):"style"===e?[n[e],t].join("; "):t:n[e]=t}),n},{})}function getRenderedAttributes(e,t){return t.filter(e=>e.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(e.attrs)||{}:{[t.name]:e.attrs[t.name]}).reduce((e,t)=>mergeAttributes(e,t),{})}function isFunction$1(e){return"function"==typeof e}function callOrReturn(e,t,...n){return isFunction$1(e)?t?e.bind(t)(...n):e(...n):e}function isEmptyObject(e={}){return 0===Object.keys(e).length&&e.constructor===Object}function fromString(e){return"string"!=typeof e?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):"true"===e||"false"!==e&&e}function injectExtensionAttributesToParseRule(e,t){return e.style?e:{...e,getAttrs:n=>{const r=e.getAttrs?e.getAttrs(n):e.attrs;if(!1===r)return!1;const o=t.reduce((e,t)=>{const r=t.attribute.parseHTML?t.attribute.parseHTML(n):fromString(n.getAttribute(t.name));return null==r?e:{...e,[t.name]:r}},{});return{...r,...o}}}}function cleanUpSchemaItem(e){return Object.fromEntries(Object.entries(e).filter(([e,t])=>("attrs"!==e||!isEmptyObject(t))&&null!=t))}function getSchemaByResolvedExtensions(e){var t;const n=getAttributesFromExtensions(e),{nodeExtensions:r,markExtensions:o}=splitExtensions(e),s=null===(t=r.find(e=>getExtensionField(e,"topNode")))||void 0===t?void 0:t.name,i=Object.fromEntries(r.map(t=>{const r=n.filter(e=>e.type===t.name),o={name:t.name,options:t.options,storage:t.storage},s=cleanUpSchemaItem({...e.reduce((e,n)=>{const r=getExtensionField(n,"extendNodeSchema",o);return{...e,...r?r(t):{}}},{}),content:callOrReturn(getExtensionField(t,"content",o)),marks:callOrReturn(getExtensionField(t,"marks",o)),group:callOrReturn(getExtensionField(t,"group",o)),inline:callOrReturn(getExtensionField(t,"inline",o)),atom:callOrReturn(getExtensionField(t,"atom",o)),selectable:callOrReturn(getExtensionField(t,"selectable",o)),draggable:callOrReturn(getExtensionField(t,"draggable",o)),code:callOrReturn(getExtensionField(t,"code",o)),defining:callOrReturn(getExtensionField(t,"defining",o)),isolating:callOrReturn(getExtensionField(t,"isolating",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),i=callOrReturn(getExtensionField(t,"parseHTML",o));i&&(s.parseDOM=i.map(e=>injectExtensionAttributesToParseRule(e,r)));const a=getExtensionField(t,"renderHTML",o);a&&(s.toDOM=(e=>a({node:e,HTMLAttributes:getRenderedAttributes(e,r)})));const l=getExtensionField(t,"renderText",o);return l&&(s.toText=l),[t.name,s]})),a=Object.fromEntries(o.map(t=>{const r=n.filter(e=>e.type===t.name),o={name:t.name,options:t.options,storage:t.storage},s=cleanUpSchemaItem({...e.reduce((e,n)=>{const r=getExtensionField(n,"extendMarkSchema",o);return{...e,...r?r(t):{}}},{}),inclusive:callOrReturn(getExtensionField(t,"inclusive",o)),excludes:callOrReturn(getExtensionField(t,"excludes",o)),group:callOrReturn(getExtensionField(t,"group",o)),spanning:callOrReturn(getExtensionField(t,"spanning",o)),code:callOrReturn(getExtensionField(t,"code",o)),attrs:Object.fromEntries(r.map(e=>{var t;return[e.name,{default:null===(t=null==e?void 0:e.attribute)||void 0===t?void 0:t.default}]}))}),i=callOrReturn(getExtensionField(t,"parseHTML",o));i&&(s.parseDOM=i.map(e=>injectExtensionAttributesToParseRule(e,r)));const a=getExtensionField(t,"renderHTML",o);return a&&(s.toDOM=(e=>a({mark:e,HTMLAttributes:getRenderedAttributes(e,r)}))),[t.name,s]}));return new Schema({topNode:s,nodes:i,marks:a})}function getSchemaTypeByName(e,t){return t.nodes[e]||t.marks[e]||null}function isExtensionRulesEnabled(e,t){return Array.isArray(t)?t.some(t=>{return("string"==typeof t?t:t.name)===e.name}):t}const getTextContentFromNodes=(e,t=500)=>{let n="";const r=e.parentOffset;return e.parent.nodesBetween(Math.max(0,r-t),r,(e,t,o,s)=>{var i,a;const l=(null===(a=(i=e.type.spec).toText)||void 0===a?void 0:a.call(i,{node:e,pos:t,parent:o,index:s}))||e.textContent||"%leaf%";n+=l.slice(0,Math.max(0,r-t))}),n};function isRegExp(e){return"[object RegExp]"===Object.prototype.toString.call(e)}class InputRule{constructor(e){this.find=e.find,this.handler=e.handler}}const inputRuleMatcherHandler=(e,t)=>{if(isRegExp(t))return t.exec(e);const n=t(e);if(!n)return null;const r=[];return r.push(n.text),r.index=n.index,r.input=e,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function run$1(e){var t;const{editor:n,from:r,to:o,text:s,rules:i,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||(null===(t=c.nodeBefore||c.nodeAfter)||void 0===t?void 0:t.marks.find(e=>e.type.spec.code)))return!1;let d=!1;const p=getTextContentFromNodes(c)+s;return i.forEach(e=>{if(d)return;const t=inputRuleMatcherHandler(p,e.find);if(!t)return;const i=l.state.tr,c=createChainableState({state:l.state,transaction:i}),u={from:r-(t[0].length-s.length),to:o},{commands:h,chain:m,can:f}=new CommandManager({editor:n,state:c});null!==e.handler({state:c,range:u,match:t,commands:h,chain:m,can:f})&&i.steps.length&&(i.setMeta(a,{transform:i,from:r,to:o,text:s}),l.dispatch(i),d=!0)}),d}function inputRulesPlugin(e){const{editor:t,rules:n}=e,r=new Plugin({state:{init:()=>null,apply(e,t){const n=e.getMeta(r);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:(e,o,s,i)=>run$1({editor:t,from:o,to:s,text:i,rules:n,plugin:r}),handleDOMEvents:{compositionend:e=>(setTimeout(()=>{const{$cursor:o}=e.state.selection;o&&run$1({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(e,o){if("Enter"!==o.key)return!1;const{$cursor:s}=e.state.selection;return!!s&&run$1({editor:t,from:s.pos,to:s.pos,text:"\n",rules:n,plugin:r})}},isInputRules:!0});return r}function isNumber$1(e){return"number"==typeof e}class PasteRule{constructor(e){this.find=e.find,this.handler=e.handler}}const pasteRuleMatcherHandler=(e,t)=>{if(isRegExp(t))return[...e.matchAll(t)];const n=t(e);return n?n.map(t=>{const n=[];return n.push(t.text),n.index=t.index,n.input=e,n.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),n.push(t.replaceWith)),n}):[]};function run$2(e){const{editor:t,state:n,from:r,to:o,rule:s}=e,{commands:i,chain:a,can:l}=new CommandManager({editor:t,state:n}),c=[];return n.doc.nodesBetween(r,o,(e,t)=>{if(!e.isTextblock||e.type.spec.code)return;const d=Math.max(r,t),p=Math.min(o,t+e.content.size),u=e.textBetween(d-t,p-t,void 0,"￼");pasteRuleMatcherHandler(u,s.find).forEach(e=>{if(void 0===e.index)return;const t=d+e.index+1,r=t+e[0].length,o={from:n.tr.mapping.map(t),to:n.tr.mapping.map(r)},p=s.handler({state:n,range:o,match:e,commands:i,chain:a,can:l});c.push(p)})}),c.every(e=>null!==e)}function pasteRulesPlugin(e){const{editor:t,rules:n}=e;let r=null,o=!1,s=!1;return n.map(e=>new Plugin({view(e){const t=t=>{var n;r=(null===(n=e.dom.parentElement)||void 0===n?void 0:n.contains(t.target))?e.dom.parentElement:null};return window.addEventListener("dragstart",t),{destroy(){window.removeEventListener("dragstart",t)}}},props:{handleDOMEvents:{drop:e=>(s=r===e.dom.parentElement,!1),paste:(e,t)=>{var n;const r=null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text/html");return o=!!(null==r?void 0:r.includes("data-pm-slice")),!1}}},appendTransaction:(n,r,i)=>{const a=n[0],l="paste"===a.getMeta("uiEvent")&&!o,c="drop"===a.getMeta("uiEvent")&&!s;if(!l&&!c)return;const d=r.doc.content.findDiffStart(i.doc.content),p=r.doc.content.findDiffEnd(i.doc.content);if(!isNumber$1(d)||!p||d===p.b)return;const u=i.tr,h=createChainableState({state:i,transaction:u});return run$2({editor:t,state:h,from:Math.max(d-1,0),to:p.b-1,rule:e})&&u.steps.length?u:void 0}}))}function findDuplicates(e){const t=e.filter((t,n)=>e.indexOf(t)!==n);return[...new Set(t)]}class ExtensionManager{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=ExtensionManager.resolve(e),this.schema=getSchemaByResolvedExtensions(this.extensions),this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const n={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:getSchemaTypeByName(e.name,this.schema)};if("mark"===e.type){(null===(t=callOrReturn(getExtensionField(e,"keepOnSplit",n)))||void 0===t||t)&&this.splittableMarks.push(e.name)}const r=getExtensionField(e,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=getExtensionField(e,"onCreate",n);o&&this.editor.on("create",o);const s=getExtensionField(e,"onUpdate",n);s&&this.editor.on("update",s);const i=getExtensionField(e,"onSelectionUpdate",n);i&&this.editor.on("selectionUpdate",i);const a=getExtensionField(e,"onTransaction",n);a&&this.editor.on("transaction",a);const l=getExtensionField(e,"onFocus",n);l&&this.editor.on("focus",l);const c=getExtensionField(e,"onBlur",n);c&&this.editor.on("blur",c);const d=getExtensionField(e,"onDestroy",n);d&&this.editor.on("destroy",d)})}static resolve(e){const t=ExtensionManager.sort(ExtensionManager.flatten(e)),n=findDuplicates(t.map(e=>e.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(e=>`'${e}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(e=>{const t=getExtensionField(e,"addExtensions",{name:e.name,options:e.options,storage:e.storage});return t?[e,...this.flatten(t())]:e}).flat(10)}static sort(e){return e.sort((e,t)=>{const n=getExtensionField(e,"priority")||100,r=getExtensionField(t,"priority")||100;return n>r?-1:n<r?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const n=getExtensionField(t,"addCommands",{name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:getSchemaTypeByName(t.name,this.schema)});return n?{...e,...n()}:e},{})}get plugins(){const{editor:e}=this,t=ExtensionManager.sort([...this.extensions].reverse()),n=[],r=[],o=t.map(t=>{const o={name:t.name,options:t.options,storage:t.storage,editor:e,type:getSchemaTypeByName(t.name,this.schema)},s=[],i=getExtensionField(t,"addKeyboardShortcuts",o);let a={};if("mark"===t.type&&t.config.exitable&&(a.ArrowRight=(()=>Mark$1.handleExit({editor:e,mark:t}))),i){const t=Object.fromEntries(Object.entries(i()).map(([t,n])=>[t,()=>n({editor:e})]));a={...a,...t}}const l=keymap(a);s.push(l);const c=getExtensionField(t,"addInputRules",o);isExtensionRulesEnabled(t,e.options.enableInputRules)&&c&&n.push(...c());const d=getExtensionField(t,"addPasteRules",o);isExtensionRulesEnabled(t,e.options.enablePasteRules)&&d&&r.push(...d());const p=getExtensionField(t,"addProseMirrorPlugins",o);if(p){const e=p();s.push(...e)}return s}).flat();return[inputRulesPlugin({editor:e,rules:n}),...pasteRulesPlugin({editor:e,rules:r}),...o]}get attributes(){return getAttributesFromExtensions(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=splitExtensions(this.extensions);return Object.fromEntries(t.filter(e=>!!getExtensionField(e,"addNodeView")).map(t=>{const n=this.attributes.filter(e=>e.type===t.name),r={name:t.name,options:t.options,storage:t.storage,editor:e,type:getNodeType(t.name,this.schema)},o=getExtensionField(t,"addNodeView",r);if(!o)return[];return[t.name,(r,s,i,a)=>{const l=getRenderedAttributes(r,n);return o()({editor:e,node:r,getPos:i,decorations:a,HTMLAttributes:l,extension:t})}]}))}}function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function isPlainObject$1(e){return"Object"===getType(e)&&(e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype)}function mergeDeep(e,t){const n={...e};return isPlainObject$1(e)&&isPlainObject$1(t)&&Object.keys(t).forEach(r=>{isPlainObject$1(t[r])&&r in e?n[r]=mergeDeep(e[r],t[r]):Object.assign(n,{[r]:t[r]})}),n}class Extension{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Extension(e)}configure(e={}){const t=this.extend();return t.options=mergeDeep(this.options,e),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Extension(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}}function getTextBetween(e,t,n){const{from:r,to:o}=t,{blockSeparator:s="\n\n",textSerializers:i={}}=n||{};let a="",l=!0;return e.nodesBetween(r,o,(e,n,c,d)=>{var p;const u=null==i?void 0:i[e.type.name];u?(e.isBlock&&!l&&(a+=s,l=!0),c&&(a+=u({node:e,pos:n,parent:c,index:d,range:t}))):e.isText?(a+=null===(p=null==e?void 0:e.text)||void 0===p?void 0:p.slice(Math.max(r,n)-n,o-n),l=!1):e.isBlock&&!l&&(a+=s,l=!0)}),a}function getTextSerializersFromSchema(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const ClipboardTextSerializer=Extension.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:r,selection:o}=t,{ranges:s}=o;return getTextBetween(r,{from:Math.min(...s.map(e=>e.$from.pos)),to:Math.max(...s.map(e=>e.$to.pos))},{textSerializers:getTextSerializersFromSchema(n)})}}})]}}),blur=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),null===(n=null===window||void 0===window?void 0:window.getSelection())||void 0===n||n.removeAllRanges())}),!0),clearContent=(e=!1)=>({commands:t})=>t.setContent("",e),clearNodes=()=>({state:e,tr:t,dispatch:n})=>{const{selection:r}=t,{ranges:o}=r;return!n||(o.forEach(({$from:n,$to:r})=>{e.doc.nodesBetween(n.pos,r.pos,(e,n)=>{if(e.type.isText)return;const{doc:r,mapping:o}=t,s=r.resolve(o.map(n)),i=r.resolve(o.map(n+e.nodeSize)),a=s.blockRange(i);if(!a)return;const l=liftTarget(a);if(e.type.isTextblock){const{defaultType:e}=s.parent.contentMatchAt(s.index());t.setNodeMarkup(a.start,e)}(l||0===l)&&t.lift(a,l)})}),!0)},command=e=>t=>e(t),createParagraphNear$1=()=>({state:e,dispatch:t})=>createParagraphNear(e,t),deleteNode=e=>({tr:t,state:n,dispatch:r})=>{const o=getNodeType(e,n.schema),s=t.selection.$anchor;for(let e=s.depth;e>0;e-=1){if(s.node(e).type===o){if(r){const n=s.before(e),r=s.after(e);t.delete(n,r).scrollIntoView()}return!0}}return!1},deleteRange$1=e=>({tr:t,dispatch:n})=>{const{from:r,to:o}=e;return n&&t.delete(r,o),!0},deleteSelection$1=()=>({state:e,dispatch:t})=>deleteSelection(e,t),enter=()=>({commands:e})=>e.keyboardShortcut("Enter"),exitCode$1=()=>({state:e,dispatch:t})=>exitCode(e,t);function objectIncludes(e,t,n={strict:!0}){const r=Object.keys(t);return!r.length||r.every(r=>n.strict?t[r]===e[r]:isRegExp(t[r])?t[r].test(e[r]):t[r]===e[r])}function findMarkInSet(e,t,n={}){return e.find(e=>e.type===t&&objectIncludes(e.attrs,n))}function isMarkInSet(e,t,n={}){return!!findMarkInSet(e,t,n)}function getMarkRange(e,t,n={}){if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if(e.parentOffset===r.offset&&0!==r.offset&&(r=e.parent.childBefore(e.parentOffset)),!r.node)return;const o=findMarkInSet([...r.node.marks],t,n);if(!o)return;let s=r.index,i=e.start()+r.offset,a=s+1,l=i+r.node.nodeSize;for(findMarkInSet([...r.node.marks],t,n);s>0&&o.isInSet(e.parent.child(s-1).marks);)s-=1,i-=e.parent.child(s).nodeSize;for(;a<e.parent.childCount&&isMarkInSet([...e.parent.child(a).marks],t,n);)l+=e.parent.child(a).nodeSize,a+=1;return{from:i,to:l}}function getMarkType(e,t){if("string"==typeof e){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const extendMarkRange=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const s=getMarkType(e,r.schema),{doc:i,selection:a}=n,{$from:l,from:c,to:d}=a;if(o){const e=getMarkRange(l,s,t);if(e&&e.from<=c&&e.to>=d){const t=TextSelection.create(i,e.from,e.to);n.setSelection(t)}}return!0},first=e=>t=>{const n="function"==typeof e?e(t):e;for(let e=0;e<n.length;e+=1)if(n[e](t))return!0;return!1};function isTextSelection(e){return e instanceof TextSelection}function minMax(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function resolveFocusPosition(e,t=null){if(!t)return null;const n=Selection.atStart(e),r=Selection.atEnd(e);if("start"===t||!0===t)return n;if("end"===t)return r;const o=n.from,s=r.to;return"all"===t?TextSelection.create(e,minMax(0,o,s),minMax(e.content.size,o,s)):TextSelection.create(e,minMax(t,o,s),minMax(t,o,s))}function isiOS(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const focus=(e=null,t={})=>({editor:n,view:r,tr:o,dispatch:s})=>{t={scrollIntoView:!0,...t};const i=()=>{isiOS()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),(null==t?void 0:t.scrollIntoView)&&n.commands.scrollIntoView())})};if(r.hasFocus()&&null===e||!1===e)return!0;if(s&&null===e&&!isTextSelection(n.state.selection))return i(),!0;const a=resolveFocusPosition(o.doc,e)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||o.setSelection(a),l&&o.storedMarks&&o.setStoredMarks(o.storedMarks),i()),!0},forEach$1=(e,t)=>n=>e.every((e,r)=>t(e,{...n,index:r})),insertContent=(e,t)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},e,t);function elementFromString(e){const t=`<body>${e}</body>`;return(new window.DOMParser).parseFromString(t,"text/html").body}function createNodeFromContent(e,t,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof e&&null!==e)try{return Array.isArray(e)?Fragment.fromArray(e.map(e=>t.nodeFromJSON(e))):t.nodeFromJSON(e)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",r),createNodeFromContent("",t,n)}if("string"==typeof e){const r=DOMParser.fromSchema(t);return n.slice?r.parseSlice(elementFromString(e),n.parseOptions).content:r.parse(elementFromString(e),n.parseOptions)}return createNodeFromContent("",t,n)}function selectionToInsertionEnd$1(e,t,n){const r=e.steps.length-1;if(r<t)return;const o=e.steps[r];if(!(o instanceof ReplaceStep||o instanceof ReplaceAroundStep))return;const s=e.mapping.maps[r];let i=0;s.forEach((e,t,n,r)=>{0===i&&(i=r)}),e.setSelection(Selection.near(e.doc.resolve(i),n))}const isFragment=e=>e.toString().startsWith("<"),insertContentAt=(e,t,n)=>({tr:r,dispatch:o,editor:s})=>{if(o){n={parseOptions:{},updateSelection:!0,...n};const o=createNodeFromContent(t,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if("<>"===o.toString())return!0;let{from:i,to:a}="number"==typeof e?{from:e,to:e}:e,l=!0,c=!0;if((isFragment(o)?o:[o]).forEach(e=>{e.check(),l=!!l&&(e.isText&&0===e.marks.length),c=!!c&&e.isBlock}),i===a&&c){const{parent:e}=r.doc.resolve(i);e.isTextblock&&!e.type.spec.code&&!e.childCount&&(i-=1,a+=1)}l?r.insertText(t,i,a):r.replaceWith(i,a,o),n.updateSelection&&selectionToInsertionEnd$1(r,r.steps.length-1,-1)}return!0},joinBackward$1=()=>({state:e,dispatch:t})=>joinBackward(e,t),joinForward$1=()=>({state:e,dispatch:t})=>joinForward(e,t);function isMacOS(){return"undefined"!=typeof navigator&&/Mac/.test(navigator.platform)}function normalizeKeyName$1(e){const t=e.split(/-(?!$)/);let n,r,o,s,i=t[t.length-1];"Space"===i&&(i=" ");for(let e=0;e<t.length-1;e+=1){const i=t[e];if(/^(cmd|meta|m)$/i.test(i))s=!0;else if(/^a(lt)?$/i.test(i))n=!0;else if(/^(c|ctrl|control)$/i.test(i))r=!0;else if(/^s(hift)?$/i.test(i))o=!0;else{if(!/^mod$/i.test(i))throw new Error(`Unrecognized modifier name: ${i}`);isiOS()||isMacOS()?s=!0:r=!0}}return n&&(i=`Alt-${i}`),r&&(i=`Ctrl-${i}`),s&&(i=`Meta-${i}`),o&&(i=`Shift-${i}`),i}const keyboardShortcut=e=>({editor:t,view:n,tr:r,dispatch:o})=>{const s=normalizeKeyName$1(e).split(/-(?!$)/),i=s.find(e=>!["Alt","Ctrl","Meta","Shift"].includes(e)),a=new KeyboardEvent("keydown",{key:"Space"===i?" ":i,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",e=>e(n,a))});return null==l||l.steps.forEach(e=>{const t=e.map(r.mapping);t&&o&&r.maybeStep(t)}),!0};function isNodeActive(e,t,n={}){const{from:r,to:o,empty:s}=e.selection,i=t?getNodeType(t,e.schema):null,a=[];e.doc.nodesBetween(r,o,(e,t)=>{if(e.isText)return;const n=Math.max(r,t),s=Math.min(o,t+e.nodeSize);a.push({node:e,from:n,to:s})});const l=o-r,c=a.filter(e=>!i||i.name===e.node.type.name).filter(e=>objectIncludes(e.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((e,t)=>e+t.to-t.from,0)>=l}const lift$2=(e,t={})=>({state:n,dispatch:r})=>{return!!isNodeActive(n,getNodeType(e,n.schema),t)&&lift$1(n,r)},liftEmptyBlock$1=()=>({state:e,dispatch:t})=>liftEmptyBlock(e,t),liftListItem$1=e=>({state:t,dispatch:n})=>{return liftListItem(getNodeType(e,t.schema))(t,n)},newlineInCode$1=()=>({state:e,dispatch:t})=>newlineInCode(e,t);function getSchemaTypeNameByName(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function deleteProps(e,t){const n="string"==typeof t?[t]:t;return Object.keys(e).reduce((t,r)=>(n.includes(r)||(t[r]=e[r]),t),{})}const resetAttributes=(e,t)=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=getSchemaTypeNameByName("string"==typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(s=getNodeType(e,r.schema)),"mark"===a&&(i=getMarkType(e,r.schema)),o&&n.selection.ranges.forEach(e=>{r.doc.nodesBetween(e.$from.pos,e.$to.pos,(e,r)=>{s&&s===e.type&&n.setNodeMarkup(r,void 0,deleteProps(e.attrs,t)),i&&e.marks.length&&e.marks.forEach(o=>{i===o.type&&n.addMark(r,r+e.nodeSize,i.create(deleteProps(o.attrs,t)))})})}),!0)},scrollIntoView=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),selectAll$1=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size}),selectNodeBackward$1=()=>({state:e,dispatch:t})=>selectNodeBackward(e,t),selectNodeForward$1=()=>({state:e,dispatch:t})=>selectNodeForward(e,t),selectParentNode$1=()=>({state:e,dispatch:t})=>selectParentNode(e,t),selectTextblockEnd$1=()=>({state:e,dispatch:t})=>selectTextblockEnd(e,t),selectTextblockStart$1=()=>({state:e,dispatch:t})=>selectTextblockStart(e,t);function createDocument(e,t,n={}){return createNodeFromContent(e,t,{slice:!1,parseOptions:n})}const setContent=(e,t=!1,n={})=>({tr:r,editor:o,dispatch:s})=>{const{doc:i}=r,a=createDocument(e,o.schema,n);return s&&r.replaceWith(0,i.content.size,a).setMeta("preventUpdate",!t),!0};function defaultBlockAt$1(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function findParentNodeClosestToPos(e,t){for(let n=e.depth;n>0;n-=1){const r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}}function findParentNode(e){return t=>findParentNodeClosestToPos(t.$from,e)}function getHTMLFromFragment(e,t){const n=DOMSerializer.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function getText(e,t){return getTextBetween(e,{from:0,to:e.content.size},t)}function getMarkAttributes(e,t){const n=getMarkType(t,e.schema),{from:r,to:o,empty:s}=e.selection,i=[];s?(e.storedMarks&&i.push(...e.storedMarks),i.push(...e.selection.$head.marks())):e.doc.nodesBetween(r,o,e=>{i.push(...e.marks)});const a=i.find(e=>e.type.name===n.name);return a?{...a.attrs}:{}}function getNodeAttributes(e,t){const n=getNodeType(t,e.schema),{from:r,to:o}=e.selection,s=[];e.doc.nodesBetween(r,o,e=>{s.push(e)});const i=s.reverse().find(e=>e.type.name===n.name);return i?{...i.attrs}:{}}function getAttributes(e,t){const n=getSchemaTypeNameByName("string"==typeof t?t:t.name,e.schema);return"node"===n?getNodeAttributes(e,t):"mark"===n?getMarkAttributes(e,t):{}}function getMarksBetween(e,t,n){const r=[];return e===t?n.resolve(e).marks().forEach(t=>{const o=getMarkRange(n.resolve(e-1),t.type);o&&r.push({mark:t,...o})}):n.nodesBetween(e,t,(e,t)=>{r.push(...e.marks.map(n=>({from:t,to:t+e.nodeSize,mark:n})))}),r}function isMarkActive(e,t,n={}){const{empty:r,ranges:o}=e.selection,s=t?getMarkType(t,e.schema):null;if(r)return!!(e.storedMarks||e.selection.$from.marks()).filter(e=>!s||s.name===e.type.name).find(e=>objectIncludes(e.attrs,n,{strict:!1}));let i=0;const a=[];if(o.forEach(({$from:t,$to:n})=>{const r=t.pos,o=n.pos;e.doc.nodesBetween(r,o,(e,t)=>{if(!e.isText&&!e.marks.length)return;const n=Math.max(r,t),s=Math.min(o,t+e.nodeSize);i+=s-n,a.push(...e.marks.map(e=>({mark:e,from:n,to:s})))})}),0===i)return!1;const l=a.filter(e=>!s||s.name===e.mark.type.name).filter(e=>objectIncludes(e.mark.attrs,n,{strict:!1})).reduce((e,t)=>e+t.to-t.from,0),c=a.filter(e=>!s||e.mark.type!==s&&e.mark.type.excludes(s)).reduce((e,t)=>e+t.to-t.from,0);return(l>0?l+c:l)>=i}function isActive(e,t,n={}){if(!t)return isNodeActive(e,null,n)||isMarkActive(e,null,n);const r=getSchemaTypeNameByName(t,e.schema);return"node"===r?isNodeActive(e,t,n):"mark"===r&&isMarkActive(e,t,n)}function isList(e,t){const{nodeExtensions:n}=splitExtensions(t),r=n.find(t=>t.name===e);if(!r)return!1;const o=callOrReturn(getExtensionField(r,"group",{name:r.name,options:r.options,storage:r.storage}));return"string"==typeof o&&o.split(" ").includes("list")}function isNodeEmpty(e){var t;const n=null===(t=e.type.createAndFill())||void 0===t?void 0:t.toJSON(),r=e.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function canSetMark(e,t,n){var r;const{selection:o}=t;let s=null;if(isTextSelection(o)&&(s=o.$cursor),s){const t=null!==(r=e.storedMarks)&&void 0!==r?r:s.marks();return!!n.isInSet(t)||!t.some(e=>e.type.excludes(n))}const{ranges:i}=o;return i.some(({$from:t,$to:r})=>{let o=0===t.depth&&(e.doc.inlineContent&&e.doc.type.allowsMarkType(n));return e.doc.nodesBetween(t.pos,r.pos,(e,t,r)=>{if(o)return!1;if(e.isInline){const t=!r||r.type.allowsMarkType(n),s=!!n.isInSet(e.marks)||!e.marks.some(e=>e.type.excludes(n));o=t&&s}return!o}),o})}const setMark=(e,t={})=>({tr:n,state:r,dispatch:o})=>{const{selection:s}=n,{empty:i,ranges:a}=s,l=getMarkType(e,r.schema);if(o)if(i){const e=getMarkAttributes(r,l);n.addStoredMark(l.create({...e,...t}))}else a.forEach(e=>{const o=e.$from.pos,s=e.$to.pos;r.doc.nodesBetween(o,s,(e,r)=>{const i=Math.max(r,o),a=Math.min(r+e.nodeSize,s);e.marks.find(e=>e.type===l)?e.marks.forEach(e=>{l===e.type&&n.addMark(i,a,l.create({...e.attrs,...t}))}):n.addMark(i,a,l.create(t))})});return canSetMark(r,n,l)},setMeta=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),setNode=(e,t={})=>({state:n,dispatch:r,chain:o})=>{const s=getNodeType(e,n.schema);return s.isTextblock?o().command(({commands:e})=>{return!!setBlockType$1(s,t)(n)||e.clearNodes()}).command(({state:e})=>setBlockType$1(s,t)(e,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},setNodeSelection=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,r=minMax(e,0,n.content.size),o=NodeSelection.create(n,r);t.setSelection(o)}return!0},setTextSelection=e=>({tr:t,dispatch:n})=>{if(n){const{doc:n}=t,{from:r,to:o}="number"==typeof e?{from:e,to:e}:e,s=TextSelection.atStart(n).from,i=TextSelection.atEnd(n).to,a=minMax(r,s,i),l=minMax(o,s,i),c=TextSelection.create(n,a,l);t.setSelection(c)}return!0},sinkListItem$1=e=>({state:t,dispatch:n})=>{return sinkListItem(getNodeType(e,t.schema))(t,n)};function getSplittedAttributes(e,t,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=e.find(e=>e.type===t&&e.name===n);return!!r&&r.attribute.keepOnSplit}))}function ensureMarks(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const r=n.filter(e=>null==t?void 0:t.includes(e.type.name));e.tr.ensureMarks(r)}}const splitBlock$1=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:r,editor:o})=>{const{selection:s,doc:i}=t,{$from:a,$to:l}=s,c=getSplittedAttributes(o.extensionManager.attributes,a.node().type.name,a.node().attrs);if(s instanceof NodeSelection&&s.node.isBlock)return!(!a.parentOffset||!canSplit(i,a.pos))&&(r&&(e&&ensureMarks(n,o.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const r=l.parentOffset===l.parent.content.size;s instanceof TextSelection&&t.deleteSelection();const i=0===a.depth?void 0:defaultBlockAt$1(a.node(-1).contentMatchAt(a.indexAfter(-1)));let d=r&&i?[{type:i,attrs:c}]:void 0,p=canSplit(t.doc,t.mapping.map(a.pos),1,d);if(d||p||!canSplit(t.doc,t.mapping.map(a.pos),1,i?[{type:i}]:void 0)||(p=!0,d=i?[{type:i,attrs:c}]:void 0),p&&(t.split(t.mapping.map(a.pos),1,d),i&&!r&&!a.parentOffset&&a.parent.type!==i)){const e=t.mapping.map(a.before()),n=t.doc.resolve(e);a.node(-1).canReplaceWith(n.index(),n.index()+1,i)&&t.setNodeMarkup(t.mapping.map(a.before()),i)}e&&ensureMarks(n,o.extensionManager.splittableMarks),t.scrollIntoView()}return!0},splitListItem=e=>({tr:t,state:n,dispatch:r,editor:o})=>{var s;const i=getNodeType(e,n.schema),{$from:a,$to:l}=n.selection,c=n.selection.node;if(c&&c.isBlock||a.depth<2||!a.sameParent(l))return!1;const d=a.node(-1);if(d.type!==i)return!1;const p=o.extensionManager.attributes;if(0===a.parent.content.size&&a.node(-1).childCount===a.indexAfter(-1)){if(2===a.depth||a.node(-3).type!==i||a.index(-2)!==a.node(-2).childCount-1)return!1;if(r){let e=Fragment.empty;const n=a.index(-1)?1:a.index(-2)?2:3;for(let t=a.depth-n;t>=a.depth-3;t-=1)e=Fragment.from(a.node(t).copy(e));const r=a.indexAfter(-1)<a.node(-2).childCount?1:a.indexAfter(-2)<a.node(-3).childCount?2:3,o=getSplittedAttributes(p,a.node().type.name,a.node().attrs),l=(null===(s=i.contentMatch.defaultType)||void 0===s?void 0:s.createAndFill(o))||void 0;e=e.append(Fragment.from(i.createAndFill(null,l)||void 0));const c=a.before(a.depth-(n-1));t.replace(c,a.after(-r),new Slice(e,4-n,0));let d=-1;t.doc.nodesBetween(c,t.doc.content.size,(e,t)=>{if(d>-1)return!1;e.isTextblock&&0===e.content.size&&(d=t+1)}),d>-1&&t.setSelection(TextSelection.near(t.doc.resolve(d))),t.scrollIntoView()}return!0}const u=l.pos===a.end()?d.contentMatchAt(0).defaultType:null,h=getSplittedAttributes(p,d.type.name,d.attrs),m=getSplittedAttributes(p,a.node().type.name,a.node().attrs);t.delete(a.pos,l.pos);const f=u?[{type:i,attrs:h},{type:u,attrs:m}]:[{type:i,attrs:h}];return!!canSplit(t.doc,a.pos,2)&&(r&&t.split(a.pos,2,f).scrollIntoView(),!0)},joinListBackwards=(e,t)=>{const n=findParentNode(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!canJoin(e.doc,n.pos)||(e.join(n.pos),!0)},joinListForwards=(e,t)=>{const n=findParentNode(e=>e.type===t)(e.selection);if(!n)return!0;const r=e.doc.resolve(n.start).after(n.depth);if(void 0===r)return!0;const o=e.doc.nodeAt(r);return n.node.type!==(null==o?void 0:o.type)||!canJoin(e.doc,r)||(e.join(r),!0)},toggleList=(e,t)=>({editor:n,tr:r,state:o,dispatch:s,chain:i,commands:a,can:l})=>{const{extensions:c}=n.extensionManager,d=getNodeType(e,o.schema),p=getNodeType(t,o.schema),{selection:u}=o,{$from:h,$to:m}=u,f=h.blockRange(m);if(!f)return!1;const g=findParentNode(e=>isList(e.type.name,c))(u);if(f.depth>=1&&g&&f.depth-g.depth<=1){if(g.node.type===d)return a.liftListItem(p);if(isList(g.node.type.name,c)&&d.validContent(g.node.content)&&s)return i().command(()=>(r.setNodeMarkup(g.pos,d),!0)).command(()=>joinListBackwards(r,d)).command(()=>joinListForwards(r,d)).run()}return i().command(()=>{return!!l().wrapInList(d)||a.clearNodes()}).wrapInList(d).command(()=>joinListBackwards(r,d)).command(()=>joinListForwards(r,d)).run()},toggleMark=(e,t={},n={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=n,i=getMarkType(e,r.schema);return isMarkActive(r,i,t)?o.unsetMark(i,{extendEmptyMarkRange:s}):o.setMark(i,t)},toggleNode=(e,t,n={})=>({state:r,commands:o})=>{const s=getNodeType(e,r.schema),i=getNodeType(t,r.schema);return isNodeActive(r,s,n)?o.setNode(i):o.setNode(s,n)},toggleWrap=(e,t={})=>({state:n,commands:r})=>{const o=getNodeType(e,n.schema);return isNodeActive(n,o,t)?r.lift(o):r.wrapIn(o,t)},undoInputRule=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let r=0;r<n.length;r+=1){const o=n[r];let s;if(o.spec.isInputRules&&(s=o.getState(e))){if(t){const t=e.tr,n=s.transform;for(let e=n.steps.length-1;e>=0;e-=1)t.step(n.steps[e].invert(n.docs[e]));if(s.text){const n=t.doc.resolve(s.from).marks();t.replaceWith(s.from,s.to,e.schema.text(s.text,n))}else t.delete(s.from,s.to)}return!0}}return!1},unsetAllMarks=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:r,ranges:o}=n;return!!r||(t&&o.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos)}),!0)},unsetMark=(e,t={})=>({tr:n,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:i=!1}=t,{selection:a}=n,l=getMarkType(e,r.schema),{$from:c,empty:d,ranges:p}=a;if(!o)return!0;if(d&&i){let{from:e,to:t}=a;const r=null===(s=c.marks().find(e=>e.type===l))||void 0===s?void 0:s.attrs,o=getMarkRange(c,l,r);o&&(e=o.from,t=o.to),n.removeMark(e,t,l)}else p.forEach(e=>{n.removeMark(e.$from.pos,e.$to.pos,l)});return n.removeStoredMark(l),!0},updateAttributes=(e,t={})=>({tr:n,state:r,dispatch:o})=>{let s=null,i=null;const a=getSchemaTypeNameByName("string"==typeof e?e:e.name,r.schema);return!!a&&("node"===a&&(s=getNodeType(e,r.schema)),"mark"===a&&(i=getMarkType(e,r.schema)),o&&n.selection.ranges.forEach(e=>{const o=e.$from.pos,a=e.$to.pos;r.doc.nodesBetween(o,a,(e,r)=>{s&&s===e.type&&n.setNodeMarkup(r,void 0,{...e.attrs,...t}),i&&e.marks.length&&e.marks.forEach(s=>{if(i===s.type){const l=Math.max(r,o),c=Math.min(r+e.nodeSize,a);n.addMark(l,c,i.create({...s.attrs,...t}))}})})}),!0)},wrapIn$1=(e,t={})=>({state:n,dispatch:r})=>{return wrapIn(getNodeType(e,n.schema),t)(n,r)},wrapInList$1=(e,t={})=>({state:n,dispatch:r})=>{return wrapInList(getNodeType(e,n.schema),t)(n,r)};var commands=Object.freeze({__proto__:null,blur:blur,clearContent:clearContent,clearNodes:clearNodes,command:command,createParagraphNear:createParagraphNear$1,deleteNode:deleteNode,deleteRange:deleteRange$1,deleteSelection:deleteSelection$1,enter:enter,exitCode:exitCode$1,extendMarkRange:extendMarkRange,first:first,focus:focus,forEach:forEach$1,insertContent:insertContent,insertContentAt:insertContentAt,joinBackward:joinBackward$1,joinForward:joinForward$1,keyboardShortcut:keyboardShortcut,lift:lift$2,liftEmptyBlock:liftEmptyBlock$1,liftListItem:liftListItem$1,newlineInCode:newlineInCode$1,resetAttributes:resetAttributes,scrollIntoView:scrollIntoView,selectAll:selectAll$1,selectNodeBackward:selectNodeBackward$1,selectNodeForward:selectNodeForward$1,selectParentNode:selectParentNode$1,selectTextblockEnd:selectTextblockEnd$1,selectTextblockStart:selectTextblockStart$1,setContent:setContent,setMark:setMark,setMeta:setMeta,setNode:setNode,setNodeSelection:setNodeSelection,setTextSelection:setTextSelection,sinkListItem:sinkListItem$1,splitBlock:splitBlock$1,splitListItem:splitListItem,toggleList:toggleList,toggleMark:toggleMark,toggleNode:toggleNode,toggleWrap:toggleWrap,undoInputRule:undoInputRule,unsetAllMarks:unsetAllMarks,unsetMark:unsetMark,updateAttributes:updateAttributes,wrapIn:wrapIn$1,wrapInList:wrapInList$1});const Commands=Extension.create({name:"commands",addCommands:()=>({...commands})}),Editable=Extension.create({name:"editable",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("editable"),props:{editable:()=>this.editor.options.editable}})]}}),FocusEvents=Extension.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Plugin({key:new PluginKey("focusEvents"),props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const r=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1},blur:(t,n)=>{e.isFocused=!1;const r=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(r),!1}}}})]}}),Keymap=Extension.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:e})=>[()=>e.undoInputRule(),()=>e.command(({tr:t})=>{const{selection:n,doc:r}=t,{empty:o,$anchor:s}=n,{pos:i,parent:a}=s,l=Selection.atStart(r).from===i;return!(!(o&&l&&a.type.isTextblock)||a.textContent.length)&&e.clearNodes()}),()=>e.deleteSelection(),()=>e.joinBackward(),()=>e.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:e})=>[()=>e.deleteSelection(),()=>e.joinForward(),()=>e.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:e})=>[()=>e.newlineInCode(),()=>e.createParagraphNear(),()=>e.liftEmptyBlock(),()=>e.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},o={...n,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return isiOS()||isMacOS()?o:r},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("clearDocument"),appendTransaction:(e,t,n)=>{if(!(e.some(e=>e.docChanged)&&!t.doc.eq(n.doc)))return;const{empty:r,from:o,to:s}=t.selection,i=Selection.atStart(t.doc).from,a=Selection.atEnd(t.doc).to,l=o===i&&s===a,c=0===n.doc.textBetween(0,n.doc.content.size," "," ").length;if(r||!l||!c)return;const d=n.tr,p=createChainableState({state:n,transaction:d}),{commands:u}=new CommandManager({editor:this.editor,state:p});return u.clearNodes(),d.steps.length?d:void 0}})]}}),Tabindex=Extension.create({name:"tabindex",addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var extensions=Object.freeze({__proto__:null,ClipboardTextSerializer:ClipboardTextSerializer,Commands:Commands,Editable:Editable,FocusEvents:FocusEvents,Keymap:Keymap,Tabindex:Tabindex});const style='.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  white-space: break-spaces;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n  font-feature-settings: "liga" 0; /* the above doesn\'t seem to work in Edge */\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\nimg.ProseMirror-separator {\n  display: inline !important;\n  border: none !important;\n  margin: 0 !important;\n  width: 1px !important;\n  height: 1px !important;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n  margin: 0;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}';function createStyleTag(e,t){const n=document.querySelector("style[data-tiptap-style]");if(null!==n)return n;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}class Editor extends EventEmitter{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=createStyleTag(style,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e){this.setOptions({editable:e}),this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const n=isFunction$1(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(e){if(this.isDestroyed)return;const t="string"==typeof e?`${e}$`:e.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(e=>!e.key.startsWith(t))});this.view.updateState(n)}createExtensionManager(){const e=[...this.options.enableCoreExtensions?Object.values(extensions):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(null==e?void 0:e.type));this.extensionManager=new ExtensionManager(e,this)}createCommandManager(){this.commandManager=new CommandManager({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=createDocument(this.options.content,this.schema,this.options.parseOptions),t=resolveFocusPosition(e,this.options.autofocus);this.view=new EditorView(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:EditorState.create({doc:e,selection:t||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.isCapturingTransaction)return this.capturedTransaction?void e.steps.forEach(e=>{var t;return null===(t=this.capturedTransaction)||void 0===t?void 0:t.step(e)}):void(this.capturedTransaction=e);const t=this.state.apply(e),n=!this.state.selection.eq(t.selection);this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),n&&this.emit("selectionUpdate",{editor:this,transaction:e});const r=e.getMeta("focus"),o=e.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),e.docChanged&&!e.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return getAttributes(this.state,e)}isActive(e,t){const n="string"==typeof e?e:null,r="string"==typeof e?t:e;return isActive(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return getHTMLFromFragment(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t="\n\n",textSerializers:n={}}=e||{};return getText(this.state.doc,{blockSeparator:t,textSerializers:{...n,...getTextSerializersFromSchema(this.schema)}})}get isEmpty(){return isNodeEmpty(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(null===(e=this.view)||void 0===e?void 0:e.docView)}}function markInputRule(e){return new InputRule({find:e.find,handler:({state:t,range:n,match:r})=>{const o=callOrReturn(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:s}=t,i=r[r.length-1],a=r[0];let l=n.to;if(i){const r=a.search(/\S/),c=n.from+a.indexOf(i),d=c+i.length;if(getMarksBetween(n.from,n.to,t.doc).filter(t=>{return t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)}).filter(e=>e.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+r,c),l=n.from+r+i.length,s.addMark(n.from+r,l,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function nodeInputRule(e){return new InputRule({find:e.find,handler:({state:t,range:n,match:r})=>{const o=callOrReturn(e.getAttributes,void 0,r)||{},{tr:s}=t,i=n.from;let a=n.to;if(r[1]){let t=i+r[0].lastIndexOf(r[1]);t>a?t=a:a=t+r[1].length;const n=r[0][r[0].length-1];s.insertText(n,i+r[0].length-1),s.replaceWith(t,a,e.type.create(o))}else r[0]&&s.replaceWith(i,a,e.type.create(o))}})}function textblockTypeInputRule(e){return new InputRule({find:e.find,handler:({state:t,range:n,match:r})=>{const o=t.doc.resolve(n.from),s=callOrReturn(e.getAttributes,void 0,r)||{};if(!o.node(-1).canReplaceWith(o.index(-1),o.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,s)}})}function wrappingInputRule(e){return new InputRule({find:e.find,handler:({state:t,range:n,match:r})=>{const o=callOrReturn(e.getAttributes,void 0,r)||{},s=t.tr.delete(n.from,n.to),i=s.doc.resolve(n.from).blockRange(),a=i&&findWrapping(i,e.type,o);if(!a)return null;s.wrap(i,a);const l=s.doc.resolve(n.from-1).nodeBefore;l&&l.type===e.type&&canJoin(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(r,l))&&s.join(n.from-1)}})}class Mark$1{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Mark$1(e)}configure(e={}){const t=this.extend();return t.options=mergeDeep(this.options,e),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Mark$1(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:n}=e.state,r=e.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(e=>(null==e?void 0:e.type.name)===t.name))return!1;const s=o.find(e=>(null==e?void 0:e.type.name)===t.name);return s&&n.removeStoredMark(s),n.insertText(" ",r.pos),e.view.dispatch(n),!0}return!1}}class Node$1{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=callOrReturn(getExtensionField(this,"addOptions",{name:this.name}))),this.storage=callOrReturn(getExtensionField(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Node$1(e)}configure(e={}){const t=this.extend();return t.options=mergeDeep(this.options,e),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}extend(e={}){const t=new Node$1(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=callOrReturn(getExtensionField(t,"addOptions",{name:t.name})),t.storage=callOrReturn(getExtensionField(t,"addStorage",{name:t.name,options:t.options})),t}}function markPasteRule(e){return new PasteRule({find:e.find,handler:({state:t,range:n,match:r})=>{const o=callOrReturn(e.getAttributes,void 0,r);if(!1===o||null===o)return null;const{tr:s}=t,i=r[r.length-1],a=r[0];let l=n.to;if(i){const r=a.search(/\S/),c=n.from+a.indexOf(i),d=c+i.length;if(getMarksBetween(n.from,n.to,t.doc).filter(t=>{return t.mark.type.excluded.find(n=>n===e.type&&n!==t.mark.type)}).filter(e=>e.to>c).length)return null;d<n.to&&s.delete(d,n.to),c>n.from&&s.delete(n.from+r,c),l=n.from+r+i.length,s.addMark(n.from+r,l,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}const inputRegex=/^\s*>\s$/,Blockquote=Node$1.create({name:"blockquote",addOptions:()=>({HTMLAttributes:{}}),content:"block+",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:e}){return["blockquote",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[wrappingInputRule({find:inputRegex,type:this.type})]}}),starInputRegex=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,starPasteRegex=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,underscoreInputRegex=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,underscorePasteRegex=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,Bold=Mark$1.create({name:"bold",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:e=>"normal"!==e.style.fontWeight&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],renderHTML({HTMLAttributes:e}){return["strong",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[markInputRule({find:starInputRegex,type:this.type}),markInputRule({find:underscoreInputRegex,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex,type:this.type}),markPasteRule({find:underscorePasteRegex,type:this.type})]}}),inputRegex$1=/^\s*([-+*])\s$/,BulletList=Node$1.create({name:"bulletList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:e}){return["ul",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[wrappingInputRule({find:inputRegex$1,type:this.type})]}}),inputRegex$2=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,pasteRegex=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,Code=Mark$1.create({name:"code",addOptions:()=>({HTMLAttributes:{}}),excludes:"_",code:!0,exitable:!0,parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:e}){return["code",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[markInputRule({find:inputRegex$2,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex,type:this.type})]}}),backtickInputRegex=/^```([a-z]+)?[\s\n]$/,tildeInputRegex=/^~~~([a-z]+)?[\s\n]$/,CodeBlock=Node$1.create({name:"codeBlock",addOptions:()=>({languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}),content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,r=[...(null===(t=e.firstElementChild)||void 0===t?void 0:t.classList)||[]].filter(e=>e.startsWith(n)).map(e=>e.replace(n,""))[0];return r||null},rendered:!1}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({node:e,HTMLAttributes:t}){return["pre",mergeAttributes(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=1===t.pos;return!(!e||t.parent.type.name!==this.name)&&(!(!n&&t.parent.textContent.length)&&this.editor.commands.clearNodes())},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,i=r.parent.textContent.endsWith("\n\n");return!(!s||!i)&&e.chain().command(({tr:e})=>(e.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:r}=t,{$from:o,empty:s}=n;if(!s||o.parent.type!==this.type)return!1;if(!(o.parentOffset===o.parent.nodeSize-2))return!1;const i=o.after();return void 0!==i&&(!r.nodeAt(i)&&e.commands.exitCode())}}},addInputRules(){return[textblockTypeInputRule({find:backtickInputRegex,type:this.type,getAttributes:e=>({language:e[1]})}),textblockTypeInputRule({find:tildeInputRegex,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Plugin({key:new PluginKey("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData)return!1;if(this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),r=t.clipboardData.getData("vscode-editor-data"),o=r?JSON.parse(r):void 0,s=null==o?void 0:o.mode;if(!n||!s)return!1;const{tr:i}=e.state;return i.replaceSelectionWith(this.type.create({language:s})),i.setSelection(TextSelection.near(i.doc.resolve(Math.max(0,i.selection.from-2)))),i.insertText(n.replace(/\r\n?/g,"\n")),i.setMeta("paste",!0),e.dispatch(i),!0}}})]}}),Document=Node$1.create({name:"doc",topNode:!0,content:"block+"});function dropCursor(e={}){return new Plugin({view:t=>new DropCursorView(t,e)})}class DropCursorView{constructor(e,t){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=t.width||1,this.color=t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(t=>{let n=e=>{this[t](e)};return e.dom.addEventListener(t,n),{name:t,handler:n}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){null!=this.cursorPos&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,null==e?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e,t=this.editorView.state.doc.resolve(this.cursorPos);if(!t.parent.inlineContent){let n=t.nodeBefore,r=t.nodeAfter;if(n||r){let t=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),o=n?t.bottom:t.top;n&&r&&(o=(o+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),e={left:t.left,right:t.right,top:o-this.width/2,bottom:o+this.width/2}}}if(!e){let t=this.editorView.coordsAtPos(this.cursorPos);e={left:t.left-this.width/2,right:t.left+this.width/2,top:t.top,bottom:t.bottom}}let n,r,o=this.editorView.dom.offsetParent;if(this.element||(this.element=o.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!o||o==document.body&&"static"==getComputedStyle(o).position)n=-pageXOffset,r=-pageYOffset;else{let e=o.getBoundingClientRect();n=e.left-o.scrollLeft,r=e.top-o.scrollTop}this.element.style.left=e.left-n+"px",this.element.style.top=e.top-r+"px",this.element.style.width=e.right-e.left+"px",this.element.style.height=e.bottom-e.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),r=n&&n.type.spec.disableDropCursor,o="function"==typeof r?r(this.editorView,t):r;if(t&&!o){let e=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(e=dropPoint(this.editorView.state.doc,e,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(e),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){e.target!=this.editorView.dom&&this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}const Dropcursor=Extension.create({name:"dropCursor",addOptions:()=>({color:"currentColor",width:1,class:void 0}),addProseMirrorPlugins(){return[dropCursor(this.options)]}});class GapCursor extends Selection{constructor(e){super(e,e)}map(e,t){let n=e.resolve(t.map(this.head));return GapCursor.valid(n)?new GapCursor(n):Selection.near(n)}content(){return Slice.empty}eq(e){return e instanceof GapCursor&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if("number"!=typeof t.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new GapCursor(e.resolve(t.pos))}getBookmark(){return new GapBookmark(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!closedBefore(e)||!closedAfter(e))return!1;let n=t.type.spec.allowGapCursor;if(null!=n)return n;let r=t.contentMatchAt(e.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(e,t,n=!1){e:for(;;){if(!n&&GapCursor.valid(e))return e;let r=e.pos,o=null;for(let n=e.depth;;n--){let s=e.node(n);if(t>0?e.indexAfter(n)<s.childCount:e.index(n)>0){o=s.child(t>0?e.indexAfter(n):e.index(n)-1);break}if(0==n)return null;r+=t;let i=e.doc.resolve(r);if(GapCursor.valid(i))return i}for(;;){let s=t>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!NodeSelection.isSelectable(o)){e=e.doc.resolve(r+o.nodeSize*t),n=!1;continue e}break}o=s,r+=t;let i=e.doc.resolve(r);if(GapCursor.valid(i))return i}return null}}}GapCursor.prototype.visible=!1,GapCursor.findFrom=GapCursor.findGapCursorFrom,Selection.jsonID("gapcursor",GapCursor);class GapBookmark{constructor(e){this.pos=e}map(e){return new GapBookmark(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return GapCursor.valid(t)?new GapCursor(t):Selection.near(t)}}function closedBefore(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),r=e.node(t);if(0!=n)for(let e=r.child(n-1);;e=e.lastChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function closedAfter(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),r=e.node(t);if(n!=r.childCount)for(let e=r.child(n);;e=e.firstChild){if(0==e.childCount&&!e.inlineContent||e.isAtom||e.type.spec.isolating)return!0;if(e.inlineContent)return!1}else if(r.type.spec.isolating)return!0}return!0}function gapCursor(){return new Plugin({props:{decorations:drawGapCursor,createSelectionBetween:(e,t,n)=>t.pos==n.pos&&GapCursor.valid(n)?new GapCursor(n):null,handleClick:handleClick,handleKeyDown:handleKeyDown,handleDOMEvents:{beforeinput:beforeinput}}})}const handleKeyDown=keydownHandler({ArrowLeft:arrow("horiz",-1),ArrowRight:arrow("horiz",1),ArrowUp:arrow("vert",-1),ArrowDown:arrow("vert",1)});function arrow(e,t){const n="vert"==e?t>0?"down":"up":t>0?"right":"left";return function(e,r,o){let s=e.selection,i=t>0?s.$to:s.$from,a=s.empty;if(s instanceof TextSelection){if(!o.endOfTextblock(n)||0==i.depth)return!1;a=!1,i=e.doc.resolve(t>0?i.after():i.before())}let l=GapCursor.findGapCursorFrom(i,t,a);return!!l&&(r&&r(e.tr.setSelection(new GapCursor(l))),!0)}}function handleClick(e,t,n){if(!e||!e.editable)return!1;let r=e.state.doc.resolve(t);if(!GapCursor.valid(r))return!1;let o=e.posAtCoords({left:n.clientX,top:n.clientY});return!(o&&o.inside>-1&&NodeSelection.isSelectable(e.state.doc.nodeAt(o.inside)))&&(e.dispatch(e.state.tr.setSelection(new GapCursor(r))),!0)}function beforeinput(e,t){if("insertCompositionText"!=t.inputType||!(e.state.selection instanceof GapCursor))return!1;let{$from:n}=e.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!r)return!1;let o=Fragment.empty;for(let e=r.length-1;e>=0;e--)o=Fragment.from(r[e].createAndFill(null,o));let s=e.state.tr.replace(n.pos,n.pos,new Slice(o,0,0));return s.setSelection(TextSelection.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function drawGapCursor(e){if(!(e.selection instanceof GapCursor))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",DecorationSet.create(e.doc,[Decoration.widget(e.selection.head,t,{key:"gapcursor"})])}const Gapcursor=Extension.create({name:"gapCursor",addProseMirrorPlugins:()=>[gapCursor()],extendNodeSchema(e){var t;return{allowGapCursor:null!==(t=callOrReturn(getExtensionField(e,"allowGapCursor",{name:e.name,options:e.options,storage:e.storage})))&&void 0!==t?t:null}}}),HardBreak=Node$1.create({name:"hardBreak",addOptions:()=>({keepMarks:!0,HTMLAttributes:{}}),inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:e}){return["br",mergeAttributes(this.options.HTMLAttributes,e)]},renderText:()=>"\n",addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:r})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:e,storedMarks:o}=n;if(e.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:i}=r.extensionManager,a=o||e.$to.parentOffset&&e.$from.marks();return t().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{if(t&&a&&s){const t=a.filter(e=>i.includes(e.type.name));e.ensureMarks(t)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Heading=Node$1.create({name:"heading",addOptions:()=>({levels:[1,2,3,4,5,6],HTMLAttributes:{}}),content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,mergeAttributes(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.setNode(this.name,e),toggleHeading:e=>({commands:t})=>!!this.options.levels.includes(e.level)&&t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>textblockTypeInputRule({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var GOOD_LEAF_SIZE=200,RopeSequence=function(){};RopeSequence.prototype.append=function(e){return e.length?(e=RopeSequence.from(e),!this.length&&e||e.length<GOOD_LEAF_SIZE&&this.leafAppend(e)||this.length<GOOD_LEAF_SIZE&&e.leafPrepend(this)||this.appendInner(e)):this},RopeSequence.prototype.prepend=function(e){return e.length?RopeSequence.from(e).append(this):this},RopeSequence.prototype.appendInner=function(e){return new Append(this,e)},RopeSequence.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?RopeSequence.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},RopeSequence.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},RopeSequence.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},RopeSequence.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach(function(t,n){return r.push(e(t,n))},t,n),r},RopeSequence.from=function(e){return e instanceof RopeSequence?e:e&&e.length?new Leaf(e):RopeSequence.empty};var Leaf=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=GOOD_LEAF_SIZE)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=GOOD_LEAF_SIZE)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(RopeSequence);RopeSequence.empty=new Leaf([]);var Append=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(RopeSequence),ropeSequence=RopeSequence;const max_empty_items=500;class Branch{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(0==this.eventCount)return null;let n,r,o=this.items.length;for(;;o--){if(this.items.get(o-1).selection){--o;break}}t&&(n=this.remapping(o,this.items.length),r=n.maps.length);let s,i,a=e.tr,l=[],c=[];return this.items.forEach((e,t)=>{if(!e.step)return n||(n=this.remapping(o,t+1),r=n.maps.length),r--,void c.push(e);if(n){c.push(new Item(e.map));let t,o=e.step.map(n.slice(r));o&&a.maybeStep(o).doc&&(t=a.mapping.maps[a.mapping.maps.length-1],l.push(new Item(t,void 0,void 0,l.length+c.length))),r--,t&&n.appendMap(t,r)}else a.maybeStep(e.step);return e.selection?(s=n?e.selection.map(n.slice(r)):e.selection,i=new Branch(this.items.slice(0,o).append(c.reverse().concat(l)),this.eventCount-1),!1):void 0},this.items.length,0),{remaining:i,transform:a,selection:s}}addTransform(e,t,n,r){let o=[],s=this.eventCount,i=this.items,a=!r&&i.length?i.get(i.length-1):null;for(let n=0;n<e.steps.length;n++){let l,c=e.steps[n].invert(e.docs[n]),d=new Item(e.mapping.maps[n],c,t);(l=a&&a.merge(d))&&(d=l,n?o.pop():i=i.slice(0,i.length-1)),o.push(d),t&&(s++,t=void 0),r||(a=d)}let l=s-n.depth;return l>DEPTH_OVERFLOW&&(i=cutOffEvents(i,l),s-=l),new Branch(i.append(o),s)}remapping(e,t){let n=new Mapping;return this.items.forEach((t,r)=>{let o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:void 0;n.appendMap(t.map,o)},e,t),n}addMaps(e){return 0==this.eventCount?this:new Branch(this.items.append(e.map(e=>new Item(e))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let n=[],r=Math.max(0,this.items.length-t),o=e.mapping,s=e.steps.length,i=this.eventCount;this.items.forEach(e=>{e.selection&&i--},r);let a=t;this.items.forEach(t=>{let r=o.getMirror(--a);if(null==r)return;s=Math.min(s,r);let l=o.maps[r];if(t.step){let s=e.steps[r].invert(e.docs[r]),c=t.selection&&t.selection.map(o.slice(a+1,r));c&&i++,n.push(new Item(l,s,c))}else n.push(new Item(l))},r);let l=[];for(let e=t;e<s;e++)l.push(new Item(o.maps[e]));let c=this.items.slice(0,r).append(l).append(n),d=new Branch(c,i);return d.emptyItemCount()>max_empty_items&&(d=d.compress(this.items.length-n.length)),d}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),n=t.maps.length,r=[],o=0;return this.items.forEach((s,i)=>{if(i>=e)r.push(s),s.selection&&o++;else if(s.step){let e=s.step.map(t.slice(n)),i=e&&e.getMap();if(n--,i&&t.appendMap(i,n),e){let a=s.selection&&s.selection.map(t.slice(n));a&&o++;let l,c=new Item(i.invert(),e,a),d=r.length-1;(l=r.length&&r[d].merge(c))?r[d]=l:r.push(c)}}else s.map&&n--},this.items.length,0),new Branch(ropeSequence.from(r.reverse()),o)}}function cutOffEvents(e,t){let n;return e.forEach((e,r)=>{if(e.selection&&0==t--)return n=r,!1}),e.slice(n)}Branch.empty=new Branch(ropeSequence.empty,0);class Item{constructor(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new Item(t.getMap().invert(),t,this.selection)}}}class HistoryState{constructor(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r}}const DEPTH_OVERFLOW=20;function applyTransaction(e,t,n,r){let o,s=n.getMeta(historyKey);if(s)return s.historyState;n.getMeta(closeHistoryKey)&&(e=new HistoryState(e.done,e.undone,null,0));let i=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(i&&i.getMeta(historyKey))return i.getMeta(historyKey).redo?new HistoryState(e.done.addTransform(n,void 0,r,mustPreserveItems(t)),e.undone,rangesFor(n.mapping.maps[n.steps.length-1]),e.prevTime):new HistoryState(e.done,e.undone.addTransform(n,void 0,r,mustPreserveItems(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||i&&!1===i.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new HistoryState(e.done.rebased(n,o),e.undone.rebased(n,o),mapRanges(e.prevRanges,n.mapping),e.prevTime):new HistoryState(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),mapRanges(e.prevRanges,n.mapping),e.prevTime);{let o=0==e.prevTime||!i&&(e.prevTime<(n.time||0)-r.newGroupDelay||!isAdjacentTo(n,e.prevRanges)),s=i?mapRanges(e.prevRanges,n.mapping):rangesFor(n.mapping.maps[n.steps.length-1]);return new HistoryState(e.done.addTransform(n,o?t.selection.getBookmark():void 0,r,mustPreserveItems(t)),Branch.empty,s,n.time)}}function isAdjacentTo(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((e,r)=>{for(let o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)}),n}function rangesFor(e){let t=[];return e.forEach((e,n,r,o)=>t.push(r,o)),t}function mapRanges(e,t){if(!e)return null;let n=[];for(let r=0;r<e.length;r+=2){let o=t.map(e[r],1),s=t.map(e[r+1],-1);o<=s&&n.push(o,s)}return n}function histTransaction(e,t,n,r){let o=mustPreserveItems(t),s=historyKey.get(t).spec.config,i=(r?e.undone:e.done).popEvent(t,o);if(!i)return;let a=i.selection.resolve(i.transform.doc),l=(r?e.done:e.undone).addTransform(i.transform,t.selection.getBookmark(),s,o),c=new HistoryState(r?l:i.remaining,r?i.remaining:l,null,0);n(i.transform.setSelection(a).setMeta(historyKey,{redo:r,historyState:c}).scrollIntoView())}let cachedPreserveItems=!1,cachedPreserveItemsPlugins=null;function mustPreserveItems(e){let t=e.plugins;if(cachedPreserveItemsPlugins!=t){cachedPreserveItems=!1,cachedPreserveItemsPlugins=t;for(let e=0;e<t.length;e++)if(t[e].spec.historyPreserveItems){cachedPreserveItems=!0;break}}return cachedPreserveItems}const historyKey=new PluginKey("history"),closeHistoryKey=new PluginKey("closeHistory");function history$1(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Plugin({key:historyKey,state:{init:()=>new HistoryState(Branch.empty,Branch.empty,null,0),apply:(t,n,r)=>applyTransaction(n,r,t,e)},config:e,props:{handleDOMEvents:{beforeinput(e,t){let n=t.inputType,r="historyUndo"==n?undo:"historyRedo"==n?redo:null;return!!r&&(t.preventDefault(),r(e.state,e.dispatch))}}}})}const undo=(e,t)=>{let n=historyKey.getState(e);return!(!n||0==n.done.eventCount)&&(t&&histTransaction(n,e,t,!1),!0)},redo=(e,t)=>{let n=historyKey.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&histTransaction(n,e,t,!0),!0)},History=Extension.create({name:"history",addOptions:()=>({depth:100,newGroupDelay:500}),addCommands:()=>({undo:()=>({state:e,dispatch:t})=>undo(e,t),redo:()=>({state:e,dispatch:t})=>redo(e,t)}),addProseMirrorPlugins(){return[history$1(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),HorizontalRule=Node$1.create({name:"horizontalRule",addOptions:()=>({HTMLAttributes:{}}),group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:e}){return["hr",mergeAttributes(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:e,dispatch:t})=>{var n;if(t){const{$to:t}=e.selection,r=t.end();if(t.nodeAfter)e.setSelection(TextSelection.create(e.doc,t.pos));else{const o=null===(n=t.parent.type.contentMatch.defaultType)||void 0===n?void 0:n.create();o&&(e.insert(r,o),e.setSelection(TextSelection.create(e.doc,r)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[nodeInputRule({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),starInputRegex$1=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,starPasteRegex$1=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,underscoreInputRegex$1=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,underscorePasteRegex$1=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,Italic=Mark$1.create({name:"italic",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:e=>"normal"!==e.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:e}){return["em",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[markInputRule({find:starInputRegex$1,type:this.type}),markInputRule({find:underscoreInputRegex$1,type:this.type})]},addPasteRules(){return[markPasteRule({find:starPasteRegex$1,type:this.type}),markPasteRule({find:underscorePasteRegex$1,type:this.type})]}}),ListItem=Node$1.create({name:"listItem",addOptions:()=>({HTMLAttributes:{}}),content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:e}){return["li",mergeAttributes(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),inputRegex$3=/^(\d+)\.\s$/,OrderedList=Node$1.create({name:"orderedList",addOptions:()=>({itemTypeName:"listItem",HTMLAttributes:{}}),group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes:()=>({start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return 1===t?["ol",mergeAttributes(this.options.HTMLAttributes,n),0]:["ol",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[wrappingInputRule({find:inputRegex$3,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),Paragraph=Node$1.create({name:"paragraph",priority:1e3,addOptions:()=>({HTMLAttributes:{}}),group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:e}){return["p",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),inputRegex$4=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,pasteRegex$1=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,Strike=Mark$1.create({name:"strike",addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>!!e.includes("line-through")&&{}}],renderHTML({HTMLAttributes:e}){return["s",mergeAttributes(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[markInputRule({find:inputRegex$4,type:this.type})]},addPasteRules(){return[markPasteRule({find:pasteRegex$1,type:this.type})]}}),Text=Node$1.create({name:"text",group:"inline"}),StarterKit=Extension.create({name:"starterKit",addExtensions(){var e,t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v;const _=[];return!1!==this.options.blockquote&&_.push(Blockquote.configure(null===(e=this.options)||void 0===e?void 0:e.blockquote)),!1!==this.options.bold&&_.push(Bold.configure(null===(t=this.options)||void 0===t?void 0:t.bold)),!1!==this.options.bulletList&&_.push(BulletList.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&_.push(Code.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&_.push(CodeBlock.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&_.push(Document.configure(null===(s=this.options)||void 0===s?void 0:s.document)),!1!==this.options.dropcursor&&_.push(Dropcursor.configure(null===(i=this.options)||void 0===i?void 0:i.dropcursor)),!1!==this.options.gapcursor&&_.push(Gapcursor.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&_.push(HardBreak.configure(null===(l=this.options)||void 0===l?void 0:l.hardBreak)),!1!==this.options.heading&&_.push(Heading.configure(null===(c=this.options)||void 0===c?void 0:c.heading)),!1!==this.options.history&&_.push(History.configure(null===(d=this.options)||void 0===d?void 0:d.history)),!1!==this.options.horizontalRule&&_.push(HorizontalRule.configure(null===(p=this.options)||void 0===p?void 0:p.horizontalRule)),!1!==this.options.italic&&_.push(Italic.configure(null===(u=this.options)||void 0===u?void 0:u.italic)),!1!==this.options.listItem&&_.push(ListItem.configure(null===(h=this.options)||void 0===h?void 0:h.listItem)),!1!==this.options.orderedList&&_.push(OrderedList.configure(null===(m=this.options)||void 0===m?void 0:m.orderedList)),!1!==this.options.paragraph&&_.push(Paragraph.configure(null===(f=this.options)||void 0===f?void 0:f.paragraph)),!1!==this.options.strike&&_.push(Strike.configure(null===(g=this.options)||void 0===g?void 0:g.strike)),!1!==this.options.text&&_.push(Text.configure(null===(v=this.options)||void 0===v?void 0:v.text)),_}}),toggleFunctions=[],chainer=(e,t)=>e.chain().focus()[t]().run();function create_if_block$e(e){let t;function n(e,t){return"h-1"==e[2]?create_if_block_1$9:"h-2"==e[2]?create_if_block_2$4:"h-3"==e[2]?create_if_block_3$1:"paragraph"==e[2]?create_if_block_4$1:create_else_block$b}let r=n(e),o=r(e);return{c(){o.c(),t=empty()},m(e,n){o.m(e,n),insert(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),(o=r(e))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&detach(t)}}}function create_else_block$b(e){let t,n,r,o;return{c(){t=element("div"),attr(n=element("div"),"contenteditable","true"),void 0===e[0]&&add_render_callback(()=>e[12].call(n)),attr(t,"id","tool-item"),attr(t,"class","svelte-2me4fi"),toggle_class(t,"active",e[1].isActive({name:e[2]}))},m(s,i){insert(s,t,i),append(t,n),void 0!==e[0]&&(n.innerHTML=e[0]),r||(o=[listen(n,"input",e[12]),listen(t,"click",e[13])],r=!0)},p(e,r){1&r&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),6&r&&toggle_class(t,"active",e[1].isActive({name:e[2]}))},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_if_block_4$1(e){let t,n,r,o;return{c(){t=element("div"),attr(n=element("div"),"contenteditable","true"),void 0===e[0]&&add_render_callback(()=>e[10].call(n)),attr(t,"id","tool-item"),attr(t,"class","svelte-2me4fi")},m(s,i){insert(s,t,i),append(t,n),void 0!==e[0]&&(n.innerHTML=e[0]),r||(o=[listen(n,"input",e[10]),listen(t,"click",e[11])],r=!0)},p(e,t){1&t&&e[0]!==n.innerHTML&&(n.innerHTML=e[0])},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_if_block_3$1(e){let t,n,r,o;return{c(){t=element("div"),attr(n=element("div"),"contenteditable","true"),void 0===e[0]&&add_render_callback(()=>e[8].call(n)),attr(t,"id","tool-item"),attr(t,"class","svelte-2me4fi"),toggle_class(t,"active",e[1].isActive("heading",{level:3}))},m(s,i){insert(s,t,i),append(t,n),void 0!==e[0]&&(n.innerHTML=e[0]),r||(o=[listen(n,"input",e[8]),listen(t,"click",e[9])],r=!0)},p(e,r){1&r&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),2&r&&toggle_class(t,"active",e[1].isActive("heading",{level:3}))},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_if_block_2$4(e){let t,n,r,o;return{c(){t=element("div"),attr(n=element("div"),"contenteditable","true"),void 0===e[0]&&add_render_callback(()=>e[6].call(n)),attr(t,"id","tool-item"),attr(t,"class","svelte-2me4fi"),toggle_class(t,"active",e[1].isActive("heading",{level:2}))},m(s,i){insert(s,t,i),append(t,n),void 0!==e[0]&&(n.innerHTML=e[0]),r||(o=[listen(n,"input",e[6]),listen(t,"click",e[7])],r=!0)},p(e,r){1&r&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),2&r&&toggle_class(t,"active",e[1].isActive("heading",{level:2}))},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_if_block_1$9(e){let t,n,r,o;return{c(){t=element("div"),attr(n=element("div"),"contenteditable","true"),void 0===e[0]&&add_render_callback(()=>e[4].call(n)),attr(t,"id","tool-item"),attr(t,"class","svelte-2me4fi"),toggle_class(t,"active",e[1].isActive("heading",{level:1}))},m(s,i){insert(s,t,i),append(t,n),void 0!==e[0]&&(n.innerHTML=e[0]),r||(o=[listen(n,"input",e[4]),listen(t,"click",e[5])],r=!0)},p(e,r){1&r&&e[0]!==n.innerHTML&&(n.innerHTML=e[0]),2&r&&toggle_class(t,"active",e[1].isActive("heading",{level:1}))},d(e){e&&detach(t),r=!1,run_all(o)}}}function create_fragment$r(e){let t,n=e[1]&&create_if_block$e(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,[r]){e[1]?n?n.p(e,r):((n=create_if_block$e(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:noop,o:noop,d(e){n&&n.d(e),e&&detach(t)}}}function instance$m(e,t,n){let{editor:r}=t,{name:o}=t,{toggleFunction:s}=t,{svg:i}=t;return e.$$set=(e=>{"editor"in e&&n(1,r=e.editor),"name"in e&&n(2,o=e.name),"toggleFunction"in e&&n(3,s=e.toggleFunction),"svg"in e&&n(0,i=e.svg)}),[i,r,o,s,function(){i=this.innerHTML,n(0,i)},()=>s(r),function(){i=this.innerHTML,n(0,i)},()=>s(r),function(){i=this.innerHTML,n(0,i)},()=>s(r),function(){i=this.innerHTML,n(0,i)},()=>s(r),function(){i=this.innerHTML,n(0,i)},()=>s(r)]}toggleFunctions.push({function:e=>chainer(e,"toggleBold"),name:"bold",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8 11h4.5a2.5 2.5 0 1 0 0-5H8v5zm10 4.5a4.5 4.5 0 0 1-4.5 4.5H6V4h6.5a4.5 4.5 0 0 1 3.256 7.606A4.498 4.498 0 0 1 18 15.5zM8 13v5h5.5a2.5 2.5 0 1 0 0-5H8z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleItalic().run(),name:"italic",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M15 20H7v-2h2.927l2.116-12H9V4h8v2h-2.927l-2.116 12H15z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleStrike().run(),name:"strike",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" ><path fill="none" d="M0 0h24v24H0z"/><path d="M17.154 14c.23.516.346 1.09.346 1.72 0 1.342-.524 2.392-1.571 3.147C14.88 19.622 13.433 20 11.586 20c-1.64 0-3.263-.381-4.87-1.144V16.6c1.52.877 3.075 1.316 4.666 1.316 2.551 0 3.83-.732 3.839-2.197a2.21 2.21 0 0 0-.648-1.603l-.12-.117H3v-2h18v2h-3.846zm-4.078-3H7.629a4.086 4.086 0 0 1-.481-.522C6.716 9.92 6.5 9.246 6.5 8.452c0-1.236.466-2.287 1.397-3.153C8.83 4.433 10.271 4 12.222 4c1.471 0 2.879.328 4.222.984v2.152c-1.2-.687-2.515-1.03-3.946-1.03-2.48 0-3.719.782-3.719 2.346 0 .42.218.786.654 1.099.436.313.974.562 1.613.75.62.18 1.297.414 2.03.699z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleHeading({level:1}).run(),name:"h-1",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" ><path fill="none" d="M0 0H24V24H0z"/><path d="M13 20h-2v-7H4v7H2V4h2v7h7V4h2v16zm8-12v12h-2v-9.796l-2 .536V8.67L19.5 8H21z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleHeading({level:2}).run(),name:"h-2",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0H24V24H0z"/><path d="M4 4v7h7V4h2v16h-2v-7H4v7H2V4h2zm14.5 4c2.071 0 3.75 1.679 3.75 3.75 0 .857-.288 1.648-.772 2.28l-.148.18L18.034 18H22v2h-7v-1.556l4.82-5.546c.268-.307.43-.709.43-1.148 0-.966-.784-1.75-1.75-1.75-.918 0-1.671.707-1.744 1.606l-.006.144h-2C14.75 9.679 16.429 8 18.5 8z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleHeading({level:3}).run(),name:"h-3",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0H24V24H0z"/><path d="M22 8l-.002 2-2.505 2.883c1.59.435 2.757 1.89 2.757 3.617 0 2.071-1.679 3.75-3.75 3.75-1.826 0-3.347-1.305-3.682-3.033l1.964-.382c.156.806.866 1.415 1.718 1.415.966 0 1.75-.784 1.75-1.75s-.784-1.75-1.75-1.75c-.286 0-.556.069-.794.19l-1.307-1.547L19.35 10H15V8h7zM4 4v7h7V4h2v16h-2v-7H4v7H2V4h2z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleOrderedList().run(),name:"orderedList",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8 4h13v2H8V4zM5 3v3h1v1H3V6h1V4H3V3h2zM3 14v-2.5h2V11H3v-1h3v2.5H4v.5h2v1H3zm2 5.5H3v-1h2V18H3v-1h3v4H3v-1h2v-.5zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"/></svg>'}),toggleFunctions.push({function:e=>e.chain().focus().toggleBulletList().run(),name:"bulletList",svg:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><path fill="none" d="M0 0h24v24H0z"/><path d="M8 4h13v2H8V4zM4.5 6.5a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 7a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm0 6.9a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM8 11h13v2H8v-2zm0 7h13v2H8v-2z"/></svg>'});class Button extends SvelteComponent{constructor(e){super(),init(this,e,instance$m,create_fragment$r,safe_not_equal,{editor:1,name:2,toggleFunction:3,svg:0})}}function get_each_context$9(e,t,n){const r=e.slice();return r[1]=t[n],r[3]=n,r}function create_if_block$f(e){let t,n,r,o=toggleFunctions,s=[];for(let t=0;t<o.length;t+=1)s[t]=create_each_block$9(get_each_context$9(e,o,t));const i=e=>transition_out(s[e],1,1,()=>{s[e]=null});return{c(){t=element("div"),n=element("div");for(let e=0;e<s.length;e+=1)s[e].c();attr(n,"class","btn-wrap svelte-16lorjj"),attr(t,"class","fixed-menu svelte-16lorjj")},m(e,o){insert(e,t,o),append(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r=!0},p(e,t){if(1&t){let r;for(o=toggleFunctions,r=0;r<o.length;r+=1){const i=get_each_context$9(e,o,r);s[r]?(s[r].p(i,t),transition_in(s[r],1)):(s[r]=create_each_block$9(i),s[r].c(),transition_in(s[r],1),s[r].m(n,null))}for(group_outros(),r=o.length;r<s.length;r+=1)i(r);check_outros()}},i(e){if(!r){for(let e=0;e<o.length;e+=1)transition_in(s[e]);r=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)transition_out(s[e]);r=!1},d(e){e&&detach(t),destroy_each(s,e)}}}function create_each_block$9(e){let t,n;return t=new Button({props:{editor:e[0],toggleFunction:e[1].function,name:e[1].name,svg:e[1].svg}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.editor=e[0]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$s(e){let t,n,r=e[0]&&create_if_block$f(e);return{c(){r&&r.c(),t=empty()},m(e,o){r&&r.m(e,o),insert(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&transition_in(r,1)):((r=create_if_block$f(e)).c(),transition_in(r,1),r.m(t.parentNode,t)):r&&(group_outros(),transition_out(r,1,1,()=>{r=null}),check_outros())},i(e){n||(transition_in(r),n=!0)},o(e){transition_out(r),n=!1},d(e){r&&r.d(e),e&&detach(t)}}}function instance$n(e,t,n){let{editor:r}=t;return e.$$set=(e=>{"editor"in e&&n(0,r=e.editor)}),[r]}class FixedMenu extends SvelteComponent{constructor(e){super(),init(this,e,instance$n,create_fragment$s,safe_not_equal,{editor:0})}}function create_fragment$t(e){let t,n,r,o,s,i;return n=new FixedMenu({props:{editor:e[1]}}),{c(){t=element("div"),create_component(n.$$.fragment),r=space(),o=element("div"),attr(s=element("div"),"class","element-wrapper svelte-3d9wul"),attr(o,"class","element-view svelte-3d9wul"),attr(t,"class","wrapper svelte-3d9wul")},m(a,l){insert(a,t,l),mount_component(n,t,null),append(t,r),append(t,o),append(o,s),e[3](s),i=!0},p(e,[t]){const r={};2&t&&(r.editor=e[1]),n.$set(r)},i(e){i||(transition_in(n.$$.fragment,e),i=!0)},o(e){transition_out(n.$$.fragment,e),i=!1},d(r){r&&detach(t),destroy_component(n),e[3](null)}}}function instance$o(e,t,n){let r,o,{content:s=""}=t,i=createEventDispatcher();return onMount(()=>{n(1,o=new Editor({element:r,extensions:[StarterKit,Document,Paragraph,Text],content:s,onTransaction:()=>{n(1,o)}})),o.on("update",({editor:e})=>{console.log("editor html",e.getHTML()),i("change",{html:e.getHTML()})})}),onDestroy(()=>{o.destroy()}),e.$$set=(e=>{"content"in e&&n(2,s=e.content)}),[r,o,s,function(e){binding_callbacks[e?"unshift":"push"](()=>{n(0,r=e)})}]}class Tiptap extends SvelteComponent{constructor(e){super(),init(this,e,instance$o,create_fragment$t,safe_not_equal,{content:2})}}function create_if_block_2$5(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","17"),attr(t,"width","17")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_else_block$c(e){let t;return{c(){(t=element("h4")).textContent="미리보기를 지원하지 않습니다"},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_1$a(e){let t,n,r;return{c(){t=element("video"),src_url_equal((n=element("source")).src,r=e[1])||attr(n,"src",r),attr(n,"type","video/mp4"),attr(t,"height","85px"),t.controls=!0},m(e,r){insert(e,t,r),append(t,n)},p(e,t){2&t&&!src_url_equal(n.src,r=e[1])&&attr(n,"src",r)},d(e){e&&detach(t)}}}function create_if_block$g(e){let t,n;return{c(){src_url_equal((t=element("img")).src,n=e[1])||attr(t,"src",n),attr(t,"height","85px"),attr(t,"alt","test-img")},m(e,n){insert(e,t,n)},p(e,r){2&r&&!src_url_equal(t.src,n=e[1])&&attr(t,"src",n)},d(e){e&&detach(t)}}}function create_fragment$u(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x=e[0]&&create_if_block_2$5();function S(e,t){return 0==e[2]?create_if_block$g:1==e[2]?create_if_block_1$a:create_else_block$c}let M=S(e),C=M(e);return{c(){t=element("div"),n=element("div"),r=element("div"),o=element("button"),x&&x.c(),i=space(),a=element("div"),l=element("div"),C.c(),c=space(),d=element("div"),p=element("div"),u=element("h3"),h=text(e[3]),m=space(),f=element("div"),g=element("div"),(v=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg>',_=space(),w=element("div"),b=element("div"),(y=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',attr(o,"class",s=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-ayax6a"),attr(r,"class","check-container container svelte-ayax6a"),attr(n,"class","check-wrap wrap svelte-ayax6a"),attr(l,"class","snapshot-container container svelte-ayax6a"),attr(a,"class","snapshot-wrap svelte-ayax6a"),attr(u,"class","svelte-ayax6a"),attr(p,"class","title-container container svelte-ayax6a"),attr(d,"class","title-wrap svelte-ayax6a"),attr(v,"class","svelte-ayax6a"),attr(g,"class","download-container container svelte-ayax6a"),attr(f,"class","download-wrap svelte-ayax6a"),attr(y,"class","svelte-ayax6a"),attr(b,"class","delete-container container svelte-ayax6a"),attr(w,"class","delete-wrap svelte-ayax6a"),attr(t,"class","table-content svelte-ayax6a")},m(s,S){insert(s,t,S),append(t,n),append(n,r),append(r,o),x&&x.m(o,null),append(t,i),append(t,a),append(a,l),C.m(l,null),append(t,c),append(t,d),append(d,p),append(p,u),append(u,h),append(t,m),append(t,f),append(f,g),append(g,v),append(t,_),append(t,w),append(w,b),append(b,y),k||($=[listen(o,"click",e[4]),listen(v,"click",e[5]),listen(y,"click",e[6])],k=!0)},p(e,[t]){e[0]?x||((x=create_if_block_2$5()).c(),x.m(o,null)):x&&(x.d(1),x=null),1&t&&s!==(s=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-ayax6a")&&attr(o,"class",s),M===(M=S(e))&&C?C.p(e,t):(C.d(1),(C=M(e))&&(C.c(),C.m(l,null))),8&t&&set_data(h,e[3])},i:noop,o:noop,d(e){e&&detach(t),x&&x.d(),C.d(),k=!1,run_all($)}}}function instance$p(e,t,n){let{checked:r=!1}=t,{src:o="/public/main_page_bg.JPG"}=t,{file:s}=t,{index:i=0}=t,{type:a=0}=t,l="unknown";var c=createEventDispatcher();return e.$$set=(e=>{"checked"in e&&n(0,r=e.checked),"src"in e&&n(1,o=e.src),"file"in e&&n(7,s=e.file),"index"in e&&n(8,i=e.index),"type"in e&&n(2,a=e.type)}),e.$$.update=(()=>{130&e.$$.dirty&&n(3,l=o?s.name:"알 수 없는 이름")}),[r,o,a,l,function(){n(0,r=!r),c("check",{index:i,checked:r})},function(){c("download",{index:i})},function(){c("delete",{index:i})},s,i]}class ManageCreateItem extends SvelteComponent{constructor(e){super(),init(this,e,instance$p,create_fragment$u,safe_not_equal,{checked:0,src:1,file:7,index:8,type:2})}}function get_each_context$a(e,t,n){const r=e.slice();return r[28]=t[n],r[30]=n,r}function create_if_block_8$1(e){let t,n,r,o,s,i;return{c(){t=element("div"),(n=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="60" width="60"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',r=space(),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="white" height="60" width="60"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',attr(n,"class","left-arrow-wrap svelte-bz6slt"),attr(o,"class","right-arrow-wrap svelte-bz6slt"),attr(t,"class","facad svelte-bz6slt")},m(a,l){insert(a,t,l),append(t,n),append(t,r),append(t,o),s||(i=[listen(n,"click",e[14]),listen(o,"click",e[15])],s=!0)},p:noop,d(e){e&&detach(t),s=!1,run_all(i)}}}function create_if_block_4$2(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$4,then:create_then_block$4,catch:create_catch_block$4,value:31,error:32};return handle_promise(n=e[16](),r),{c(){t=empty(),r.block.c()},m(e,n){insert(e,t,n),r.block.m(e,r.anchor=n),r.mount=(()=>t.parentNode),r.anchor=t},p(t,n){update_await_block_branch(r,e=t,n)},d(e){e&&detach(t),r.block.d(e),r.token=null,r=null}}}function create_if_block_1$b(e){let t;function n(e,t){return e[8]?create_if_block_2$6:create_else_block_3$1}let r=n(e),o=r(e);return{c(){o.c(),t=empty()},m(e,n){o.m(e,n),insert(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),(o=r(e))&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&detach(t)}}}function create_catch_block$4(e){let t;return{c(){(t=element("h1")).textContent="연결이 끊겼습니다",attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_then_block$4(e){let t;let n=function(e,t){return e[31]?create_if_block_5$1:create_else_block_6}(e)(e);return{c(){n.c(),t=empty()},m(e,r){n.m(e,r),insert(e,t,r)},p(e,t){n.p(e,t)},d(e){n.d(e),e&&detach(t)}}}function create_else_block_6(e){let t;return{c(){(t=element("h1")).textContent="영상이 없습니다",attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_5$1(ctx){let if_block_anchor;function select_block_type_4(ctx,dirty){return codecCheck(eval(ctx[31].data.data))?create_if_block_6$1:create_else_block_5}let current_block_type=select_block_type_4(ctx),if_block=current_block_type(ctx);return{c(){if_block.c(),if_block_anchor=empty()},m(e,t){if_block.m(e,t),insert(e,if_block_anchor,t)},p(e,t){if_block.p(e,t)},d(e){if_block.d(e),e&&detach(if_block_anchor)}}}function create_else_block_5(e){let t,n,r;return{c(){(t=element("h1")).textContent="코덱 변환이 필요합니다",n=space(),(r=element("h2")).textContent="변환하려면 저장해주세요",attr(t,"class","svelte-bz6slt"),attr(r,"class","svelte-bz6slt")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_if_block_6$1(e){let t,n,r=e[8].src,o=create_key_block$1(e);function s(e,t){return e[12]?create_if_block_7$1:create_else_block_4$1}let i=s(e),a=i(e);return{c(){o.c(),t=space(),a.c(),n=empty()},m(e,r){o.m(e,r),insert(e,t,r),a.m(e,r),insert(e,n,r)},p(e,l){256&l[0]&&safe_not_equal(r,r=e[8].src)?(o.d(1),(o=create_key_block$1(e)).c(),o.m(t.parentNode,t)):o.p(e,l),i===(i=s(e))&&a?a.p(e,l):(a.d(1),(a=i(e))&&(a.c(),a.m(n.parentNode,n)))},d(e){o.d(e),e&&detach(t),a.d(e),e&&detach(n)}}}function create_key_block$1(e){let t,n,r,o,s;return{c(){t=element("video"),src_url_equal((n=element("source")).src,r=e[8].src)||attr(n,"src",r),attr(n,"type","video/mp4"),t.controls=!0},m(r,i){insert(r,t,i),append(t,n),e[20](t),o||(s=listen(t,"mouseover",e[13]),o=!0)},p(e,t){256&t[0]&&!src_url_equal(n.src,r=e[8].src)&&attr(n,"src",r)},d(n){n&&detach(t),e[20](null),o=!1,s()}}}function create_else_block_4$1(e){let t;return{c(){attr(t=element("div"),"class","caption-placeholder svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_7$1(e){let t,n,r;return{c(){t=element("div"),n=element("h4"),r=text(e[11]),attr(n,"class","svelte-bz6slt"),attr(t,"class","caption svelte-bz6slt")},m(e,o){insert(e,t,o),append(t,n),append(n,r)},p(e,t){2048&t[0]&&set_data(r,e[11])},d(e){e&&detach(t)}}}function create_pending_block$4(e){let t;return{c(){(t=element("h1")).textContent="코덱 확인중...",attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_else_block_3$1(e){let t;return{c(){(t=element("h1")).textContent="이미지가 없습니다",attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_2$6(e){let t,n,r,o,s,i;function a(e,t){return e[12]?create_if_block_3$2:create_else_block_2$1}let l=a(e),c=l(e);return{c(){t=element("img"),r=space(),c.c(),o=empty(),src_url_equal(t.src,n=e[8].src)||attr(t,"src",n),attr(t,"alt","main_pg_bg")},m(n,a){insert(n,t,a),e[19](t),insert(n,r,a),c.m(n,a),insert(n,o,a),s||(i=listen(t,"mouseover",e[13]),s=!0)},p(e,r){256&r[0]&&!src_url_equal(t.src,n=e[8].src)&&attr(t,"src",n),l===(l=a(e))&&c?c.p(e,r):(c.d(1),(c=l(e))&&(c.c(),c.m(o.parentNode,o)))},d(n){n&&detach(t),e[19](null),n&&detach(r),c.d(n),n&&detach(o),s=!1,i()}}}function create_else_block_2$1(e){let t;return{c(){attr(t=element("div"),"class","caption-placeholder svelte-bz6slt")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block_3$2(e){let t,n,r;return{c(){t=element("div"),n=element("h4"),r=text(e[11]),attr(n,"class","svelte-bz6slt"),attr(t,"class","caption svelte-bz6slt")},m(e,o){insert(e,t,o),append(t,n),append(n,r)},p(e,t){2048&t[0]&&set_data(r,e[11])},d(e){e&&detach(t)}}}function create_else_block_1$1(e){let t;return{c(){(t=element("h5")).textContent="주요 참석자가 없습니다."},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_each_block$a(e){let t,n,r,o=e[28]+"";return{c(){t=element("h5"),n=text("#"),r=text(o)},m(e,o){insert(e,t,o),append(t,n),append(t,r)},p(e,t){16&t[0]&&o!==(o=e[28]+"")&&set_data(r,o)},d(e){e&&detach(t)}}}function create_else_block$d(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-bz6slt"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 생산되었습니다.',attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block$h(e){let t;return{c(){(t=element("h5")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-bz6slt"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 수집되었습니다.',attr(t,"class","svelte-bz6slt")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_fragment$v(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F,q,B,P,j,H,V,W,U,K,J,G,Y,X,Z,Q,ee,te,ne,re,oe,se,ie,ae,le,ce,de,pe,ue,he,me,fe,ge,ve,_e=e[12]&&create_if_block_8$1(e);function we(e,t){return 0==e[7]?create_if_block_1$b:1==e[7]?create_if_block_4$2:void 0}let be=we(e),ye=be&&be(e),ke=e[4],$e=[];for(let t=0;t<ke.length;t+=1)$e[t]=create_each_block$a(get_each_context$a(e,ke,t));let xe=null;function Se(e,t){return e[6]?create_if_block$h:create_else_block$d}ke.length||(xe=create_else_block_1$1());let Me=Se(e),Ce=Me(e);return{c(){t=element("div"),n=element("div"),r=element("div"),o=svg_element("svg"),s=svg_element("path"),a=space(),l=element("h3"),c=text(e[1]),d=space(),p=element("div"),u=element("div"),h=svg_element("svg"),m=svg_element("path"),f=space(),g=element("div"),v=space(),_=element("h3"),w=text(e[3]),b=space(),y=element("div"),k=svg_element("svg"),$=svg_element("path"),x=space(),S=element("div"),M=space(),C=element("h3"),T=text(e[5]),O=space(),(E=element("div")).innerHTML='<div class="fix-wrap icon svelte-bz6slt"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg></div> \n                <div class="bell-wrap icon svelte-bz6slt"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 005.454-1.31A8.967 8.967 0 0118 9.75v-.7V9A6 6 0 006 9v.75a8.967 8.967 0 01-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 01-5.714 0m5.714 0a3 3 0 11-5.714 0"></path></svg></div> \n                <div class="download-wrap icon svelte-bz6slt"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></div>',N=space(),A=element("div"),R=element("div"),D=element("div"),I=element("div"),_e&&_e.c(),z=space(),ye&&ye.c(),L=space(),F=element("div"),(q=element("div")).innerHTML='<h5 class="svelte-bz6slt">세부사항</h5>',B=space(),P=element("div"),j=element("div"),(H=element("div")).innerHTML="<h5>대표장소:</h5>",V=space(),W=element("div"),U=element("h5"),K=text("@"),J=text(e[2]),G=space(),Y=element("div"),(X=element("div")).innerHTML="<h5>촬영자:</h5>",Z=space(),Q=element("div"),ee=element("h5"),te=text("#"),ne=text(e[3]),re=space(),oe=element("div"),(se=element("div")).innerHTML="<h5>주요참석자:</h5>",ie=space(),ae=element("div");for(let e=0;e<$e.length;e+=1)$e[e].c();xe&&xe.c(),le=space(),ce=element("div"),Ce.c(),de=space(),(pe=element("div")).innerHTML='<h5 class="svelte-bz6slt"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="black" width="14" height="14" class="svelte-bz6slt"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"></path></svg>\n                                    본 기록물은 또한 공개 기록물입니다.</h5>',ue=space(),(he=element("div")).innerHTML='<h5 class="svelte-bz6slt">설명</h5>',me=space(),fe=element("div"),attr(s,"stroke-linecap","round"),attr(s,"stroke-linejoin","round"),attr(s,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),attr(o,"xmlns","http://www.w3.org/2000/svg"),attr(o,"fill","none"),attr(o,"viewBox","0 0 24 24"),attr(o,"stroke-width","2"),attr(o,"stroke","rgb(99, 228, 99)"),attr(o,"height","18"),attr(o,"width","18"),attr(r,"class","approved-mark-wrap svelte-bz6slt"),attr(l,"class","svelte-bz6slt"),attr(m,"stroke-linecap","round"),attr(m,"stroke-linejoin","round"),attr(m,"d","M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"),attr(h,"xmlns","http://www.w3.org/2000/svg"),attr(h,"fill","none"),attr(h,"viewBox","0 0 24 24"),attr(h,"stroke-width","2"),attr(h,"stroke","currentColor"),attr(h,"height","11"),attr(h,"width","11"),attr(g,"class","space svelte-bz6slt"),attr(_,"class","svelte-bz6slt"),attr(u,"class","name-wrap svelte-bz6slt"),attr($,"stroke-linecap","round"),attr($,"stroke-linejoin","round"),attr($,"d","M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"),attr(k,"xmlns","http://www.w3.org/2000/svg"),attr(k,"fill","none"),attr(k,"viewBox","0 0 24 24"),attr(k,"stroke-width","2"),attr(k,"stroke","currentColor"),attr(k,"height","11"),attr(k,"width","11"),attr(S,"class","space svelte-bz6slt"),attr(C,"class","svelte-bz6slt"),attr(y,"class","date-wrap svelte-bz6slt"),attr(p,"class","info-wrap svelte-bz6slt"),attr(E,"class","icons-wrap svelte-bz6slt"),attr(n,"class","header svelte-bz6slt"),attr(I,"class","photo-container svelte-bz6slt"),attr(D,"class","media-wrap svelte-bz6slt"),attr(q,"class","info-header svelte-bz6slt"),attr(H,"class","label"),attr(W,"class","location info-item-content svelte-bz6slt"),attr(j,"class","location-wrap info-item svelte-bz6slt"),attr(X,"class","label"),attr(Q,"class","associate info-item-content svelte-bz6slt"),attr(Y,"class","assosiate-wrap info-item svelte-bz6slt"),attr(se,"class","label"),attr(ae,"class","attendees info-item-content svelte-bz6slt"),attr(oe,"class","attendee-wrap info-item svelte-bz6slt"),attr(ce,"class","collected-wrap info-item svelte-bz6slt"),attr(pe,"class","private-wrap info-item svelte-bz6slt"),attr(P,"class","detail-wrap-info svelte-bz6slt"),attr(he,"class","content-header svelte-bz6slt"),attr(fe,"class","detail-wrap-content svelte-bz6slt"),attr(fe,"contenteditable","false"),void 0===e[0]&&add_render_callback(()=>e[21].call(fe)),attr(F,"class","details-wrap svelte-bz6slt"),attr(R,"class","body-content-wrap svelte-bz6slt"),attr(A,"class","body svelte-bz6slt"),attr(t,"class","focus svelte-bz6slt")},m(i,we){insert(i,t,we),append(t,n),append(n,r),append(r,o),append(o,s),append(n,a),append(n,l),append(l,c),append(n,d),append(n,p),append(p,u),append(u,h),append(h,m),append(u,f),append(u,g),append(u,v),append(u,_),append(_,w),append(p,b),append(p,y),append(y,k),append(k,$),append(y,x),append(y,S),append(y,M),append(y,C),append(C,T),append(n,O),append(n,E),append(t,N),append(t,A),append(A,R),append(R,D),append(D,I),_e&&_e.m(I,null),append(I,z),ye&&ye.m(I,null),append(R,L),append(R,F),append(F,q),append(F,B),append(F,P),append(P,j),append(j,H),append(j,V),append(j,W),append(W,U),append(U,K),append(U,J),append(P,G),append(P,Y),append(Y,X),append(Y,Z),append(Y,Q),append(Q,ee),append(ee,te),append(ee,ne),append(P,re),append(P,oe),append(oe,se),append(oe,ie),append(oe,ae);for(let e=0;e<$e.length;e+=1)$e[e].m(ae,null);xe&&xe.m(ae,null),append(P,le),append(P,ce),Ce.m(ce,null),append(P,de),append(P,pe),append(F,ue),append(F,he),append(F,me),append(F,fe),void 0!==e[0]&&(fe.innerHTML=e[0]),ge||(ve=listen(fe,"input",e[21]),ge=!0)},p(e,t){if(2&t[0]&&set_data(c,e[1]),8&t[0]&&set_data(w,e[3]),32&t[0]&&set_data(T,e[5]),e[12]?_e?_e.p(e,t):((_e=create_if_block_8$1(e)).c(),_e.m(I,z)):_e&&(_e.d(1),_e=null),be===(be=we(e))&&ye?ye.p(e,t):(ye&&ye.d(1),(ye=be&&be(e))&&(ye.c(),ye.m(I,null))),4&t[0]&&set_data(J,e[2]),8&t[0]&&set_data(ne,e[3]),16&t[0]){let n;for(ke=e[4],n=0;n<ke.length;n+=1){const r=get_each_context$a(e,ke,n);$e[n]?$e[n].p(r,t):($e[n]=create_each_block$a(r),$e[n].c(),$e[n].m(ae,null))}for(;n<$e.length;n+=1)$e[n].d(1);$e.length=ke.length,!ke.length&&xe?xe.p(e,t):ke.length?xe&&(xe.d(1),xe=null):((xe=create_else_block_1$1()).c(),xe.m(ae,null))}Me!==(Me=Se(e))&&(Ce.d(1),(Ce=Me(e))&&(Ce.c(),Ce.m(ce,null))),1&t[0]&&e[0]!==fe.innerHTML&&(fe.innerHTML=e[0])},i(e){i||add_render_callback(()=>{(i=create_in_transition(s,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),_e&&_e.d(),ye&&ye.d(),destroy_each($e,e),xe&&xe.d(),Ce.d(),ge=!1,ve()}}}let changed=!0;function codecCheck(e){let t=!1;return e&&(t=!0,e.forEach(e=>{"h264"!=e&&(t=!1,console.log(e))})),t}function instance$q(e,t,n){let r,{item_objs:o}=t,{title:s}=t,{location:i}=t,{affiliation:a}=t,{associate:l}=t,{attendee:c}=t,{date:d}=t,{produced:p}=t,{type:u}=t,{content:h}=t,m=!1,f=[...o];r=g(),console.log(r);createEventDispatcher();function g(){if(console.log(f.length),f){let e=f.shift();return f=[...f,e],e}console.log("No file object detected")}let v,_,w;return e.$$set=(e=>{"item_objs"in e&&n(17,o=e.item_objs),"title"in e&&n(1,s=e.title),"location"in e&&n(2,i=e.location),"affiliation"in e&&n(18,a=e.affiliation),"associate"in e&&n(3,l=e.associate),"attendee"in e&&n(4,c=e.attendee),"date"in e&&n(5,d=e.date),"produced"in e&&n(6,p=e.produced),"type"in e&&n(7,u=e.type),"content"in e&&n(0,h=e.content)}),e.$$.update=(()=>{2816&e.$$.dirty[0]&&v&&(n(11,w=r.file.name),console.log(w),v.offsetHeight>v.offsetWidth?n(9,v.height=450,v):n(9,v.width=450,v)),3328&e.$$.dirty[0]&&_&&(n(11,w=r.file.name),console.log(w),console.log(changed),_.offsetHeight>_.offsetWidth?vedio.height=450:n(10,_.width=450,_))}),[h,s,i,l,c,d,p,u,r,v,_,w,m,function(){n(12,m=!0),console.log("hover"),setTimeout(()=>{m&&n(12,m=!1)},4e3)},function(){n(8,r=function(){if(f){let e=f.pop();return f=[e,...f],e}console.log("No file object detected")}())},function(){n(8,r=g())},async function(){if(o){let e=null,t=new FormData;t.append("file_index",o.length-1);let n=0;return o.forEach(e=>{t.append(`${n}`,e.file),n+=1}),e=await axios$1({headers:{"Content-Type":"multipart/form-data"},url:"http://localhost:8000/drf/cases/codec",method:"POST",data:t})}return null},o,a,function(e){binding_callbacks[e?"unshift":"push"](()=>{n(9,v=e),n(8,r),n(11,w),n(10,_)})},function(e){binding_callbacks[e?"unshift":"push"](()=>{n(10,_=e),n(8,r),n(11,w),n(9,v)})},function(){h=this.innerHTML,n(0,h)}]}class Preview extends SvelteComponent{constructor(e){super(),init(this,e,instance$q,create_fragment$v,safe_not_equal,{item_objs:17,title:1,location:2,affiliation:18,associate:3,attendee:4,date:5,produced:6,type:7,content:0},null,[-1,-1])}}function get_each_context$b(e,t,n){const r=e.slice();return r[49]=t[n],r[51]=n,r}function create_if_block_8$2(e){let t,n,r,o,s,i;function a(e,t){return 1==e[2]?create_if_block_9:create_else_block_1$2}let l=a(e),c=l(e);return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),c.c(),attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(31, 32, 88)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(t,"class","user-fetch-spinner-page svelte-6hm0s4")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),c.m(t,null)},p(e,n){l!==(l=a(e))&&(c.d(1),(c=l(e))&&(c.c(),c.m(t,null)))},i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),c.d()}}}function create_if_block_7$2(e){let t,n;return t=new Preview({props:{item_objs:e[3],title:e[4],location:e[5],affiliation:e[6],associate:e[7],attendee:e[8],date:e[9],produced:e[10],type:e[2],content:e[13]}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.item_objs=e[3]),16&n[0]&&(r.title=e[4]),32&n[0]&&(r.location=e[5]),64&n[0]&&(r.affiliation=e[6]),128&n[0]&&(r.associate=e[7]),256&n[0]&&(r.attendee=e[8]),512&n[0]&&(r.date=e[9]),1024&n[0]&&(r.produced=e[10]),4&n[0]&&(r.type=e[2]),8192&n[0]&&(r.content=e[13]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_if_block_6$2(e){let t,n;return(t=new Tiptap({props:{content:e[13]}})).$on("change",e[21]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8192&n[0]&&(r.content=e[13]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_if_block_1$c(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E;function N(e,t){return 0==e[2]?create_if_block_3$3:1==e[2]?create_if_block_4$3:2==e[2]?create_if_block_5$2:create_else_block$e}let A=N(e),R=A(e),D=e[11]&&create_if_block_2$7(),I=e[3],z=[];for(let t=0;t<I.length;t+=1)z[t]=create_each_block$b(get_each_context$b(e,I,t));const L=e=>transition_out(z[e],1,1,()=>{z[e]=null});return{c(){t=element("div"),n=element("div"),R.c(),r=space(),o=element("div"),(s=element("label")).innerHTML='<h3 class="svelte-6hm0s4">업로드</h3>',i=space(),a=element("input"),l=space(),(c=element("button")).innerHTML='<h3 class="svelte-6hm0s4">저장</h3>',d=space(),(p=element("button")).innerHTML='<h3 class="svelte-6hm0s4">삭제</h3>',u=space(),h=element("div"),m=element("div"),f=element("button"),D&&D.c(),v=space(),(_=element("div")).innerHTML='<div class="header-container svelte-6hm0s4"><h3 class="svelte-6hm0s4">스냅샷</h3></div>',w=space(),(b=element("div")).innerHTML='<div class="header-container svelte-6hm0s4"><h3 class="svelte-6hm0s4">파일명</h3></div>',y=space(),(k=element("div")).innerHTML='<div class="header-container svelte-6hm0s4"><div class="svg-wrap"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"></path></svg></div></div>',$=space(),(x=element("div")).innerHTML='<div class="header-container svelte-6hm0s4"><div class="svg-wrap"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg></div></div>',S=space(),M=element("div"),C=element("div");for(let e=0;e<z.length;e+=1)z[e].c();attr(s,"for","file-input"),attr(s,"class","file-input-label svelte-6hm0s4"),attr(a,"id","file-input"),attr(a,"name","file-input"),attr(a,"class","file-input svelte-6hm0s4"),attr(a,"type","file"),attr(a,"accept",e[14]),attr(c,"class","svelte-6hm0s4"),attr(p,"class","svelte-6hm0s4"),attr(o,"class","control-panel svelte-6hm0s4"),attr(n,"class","header svelte-6hm0s4"),attr(f,"class",g=null_to_empty(e[11]?"check-btn-clicked":"check-btn")+" svelte-6hm0s4"),attr(m,"class","header-checkbox-container svelte-6hm0s4"),attr(_,"class","header-snapshot-container svelte-6hm0s4"),attr(b,"class","header-title-container svelte-6hm0s4"),attr(k,"class","header-download-container svelte-6hm0s4"),attr(x,"class","header-delete-container svelte-6hm0s4"),attr(h,"class","table-header svelte-6hm0s4"),attr(C,"class","table svelte-6hm0s4"),attr(M,"class","body svelte-6hm0s4"),attr(t,"class","upload-view svelte-6hm0s4")},m(g,N){insert(g,t,N),append(t,n),R.m(n,null),append(n,r),append(n,o),append(o,s),append(o,i),append(o,a),append(o,l),append(o,c),append(o,d),append(o,p),append(t,u),append(t,h),append(h,m),append(m,f),D&&D.m(f,null),append(h,v),append(h,_),append(h,w),append(h,b),append(h,y),append(h,k),append(h,$),append(h,x),append(t,S),append(t,M),append(M,C);for(let e=0;e<z.length;e+=1)z[e].m(C,null);T=!0,O||(E=[listen(s,"click",e[24]),listen(a,"change",e[35]),listen(c,"click",e[22]),listen(p,"click",e[23]),listen(f,"click",e[17])],O=!0)},p(e,t){if(A!==(A=N(e))&&(R.d(1),(R=A(e))&&(R.c(),R.m(n,r))),(!T||16384&t[0])&&attr(a,"accept",e[14]),e[11]?D||((D=create_if_block_2$7()).c(),D.m(f,null)):D&&(D.d(1),D=null),(!T||2048&t[0]&&g!==(g=null_to_empty(e[11]?"check-btn-clicked":"check-btn")+" svelte-6hm0s4"))&&attr(f,"class",g),1835020&t[0]){let n;for(I=e[3],n=0;n<I.length;n+=1){const r=get_each_context$b(e,I,n);z[n]?(z[n].p(r,t),transition_in(z[n],1)):(z[n]=create_each_block$b(r),z[n].c(),transition_in(z[n],1),z[n].m(C,null))}for(group_outros(),n=I.length;n<z.length;n+=1)L(n);check_outros()}},i(e){if(!T){for(let e=0;e<I.length;e+=1)transition_in(z[e]);T=!0}},o(e){z=z.filter(Boolean);for(let e=0;e<z.length;e+=1)transition_out(z[e]);T=!1},d(e){e&&detach(t),R.d(),D&&D.d(),destroy_each(z,e),O=!1,run_all(E)}}}function create_if_block$i(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E;return(o=new InputSingleValue({props:{placeholder:"제목을 입력해주세요",init:e[4],conditions:condition_set.default_conditions}})).$on("change",e[27]),(i=new InputMultiValue({props:{placeholder:"주요 참석자들을 입력해주세요",init:e[1],conditions:condition_set.attendee_conditions}})).$on("change",e[28]),(p=new InputSingleValue({props:{placeholder:"행사 장소를 입력해주세요",init:e[5],conditions:condition_set.default_conditions}})).$on("change",e[29]),(h=new InputSelectValue({props:{placeholder:"기록 유형을 선택해주세요",init:e[2],conditions:condition_set.select_conditions,option_list:["사진","영상","문서"]}})).$on("change",e[30]),(_=new InputSelectValue({props:{placeholder:"생산물 여부를 선택해주세요",init:e[10],conditions:condition_set.select_conditions,option_list:["생산","수집"]}})).$on("change",e[31]),(b=new InputSingleValue({props:{placeholder:"생산 부대를 입력해주세요",init:e[6],conditions:condition_set.default_conditions}})).$on("change",e[32]),(C=new InputSingleValue({props:{placeholder:"촬영자를 입력해주세요",init:e[7],conditions:condition_set.default_conditions}})).$on("change",e[33]),(O=new InputSingleValue({props:{placeholder:"생산연도를 입력해주세요",init:e[9],conditions:condition_set.default_conditions}})).$on("change",e[34]),{c(){t=element("div"),(n=element("div")).innerHTML='<h3 class="svelte-6hm0s4">기본 등록 정보</h3>',r=space(),create_component(o.$$.fragment),s=space(),create_component(i.$$.fragment),a=space(),l=element("div"),c=element("div"),d=space(),create_component(p.$$.fragment),u=space(),create_component(h.$$.fragment),m=space(),f=element("div"),g=element("div"),v=space(),create_component(_.$$.fragment),w=space(),create_component(b.$$.fragment),y=space(),k=element("div"),$=space(),x=element("div"),(S=element("div")).innerHTML='<h3 class="svelte-6hm0s4">생산 정보</h3>',M=space(),create_component(C.$$.fragment),T=space(),create_component(O.$$.fragment),attr(n,"class","input-category-title svelte-6hm0s4"),attr(t,"class","single-input-wrap svelte-6hm0s4"),attr(c,"class","padding svelte-6hm0s4"),attr(l,"class","single-input-wrap svelte-6hm0s4"),attr(g,"class","padding svelte-6hm0s4"),attr(f,"class","single-input-wrap svelte-6hm0s4"),attr(k,"class","buffer svelte-6hm0s4"),attr(S,"class","input-category-title svelte-6hm0s4"),attr(x,"class","single-input-wrap svelte-6hm0s4")},m(e,N){insert(e,t,N),append(t,n),append(t,r),mount_component(o,t,null),append(t,s),mount_component(i,t,null),insert(e,a,N),insert(e,l,N),append(l,c),append(l,d),mount_component(p,l,null),append(l,u),mount_component(h,l,null),insert(e,m,N),insert(e,f,N),append(f,g),append(f,v),mount_component(_,f,null),append(f,w),mount_component(b,f,null),insert(e,y,N),insert(e,k,N),insert(e,$,N),insert(e,x,N),append(x,S),append(x,M),mount_component(C,x,null),append(x,T),mount_component(O,x,null),E=!0},p(e,t){const n={};16&t[0]&&(n.init=e[4]),o.$set(n);const r={};2&t[0]&&(r.init=e[1]),i.$set(r);const s={};32&t[0]&&(s.init=e[5]),p.$set(s);const a={};4&t[0]&&(a.init=e[2]),h.$set(a);const l={};1024&t[0]&&(l.init=e[10]),_.$set(l);const c={};64&t[0]&&(c.init=e[6]),b.$set(c);const d={};128&t[0]&&(d.init=e[7]),C.$set(d);const u={};512&t[0]&&(u.init=e[9]),O.$set(u)},i(e){E||(transition_in(o.$$.fragment,e),transition_in(i.$$.fragment,e),transition_in(p.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(_.$$.fragment,e),transition_in(b.$$.fragment,e),transition_in(C.$$.fragment,e),transition_in(O.$$.fragment,e),E=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(i.$$.fragment,e),transition_out(p.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(_.$$.fragment,e),transition_out(b.$$.fragment,e),transition_out(C.$$.fragment,e),transition_out(O.$$.fragment,e),E=!1},d(e){e&&detach(t),destroy_component(o),destroy_component(i),e&&detach(a),e&&detach(l),destroy_component(p),destroy_component(h),e&&detach(m),e&&detach(f),destroy_component(_),destroy_component(b),e&&detach(y),e&&detach(k),e&&detach($),e&&detach(x),destroy_component(C),destroy_component(O)}}}function create_else_block_1$2(e){let t;return{c(){(t=element("h4")).textContent="업로드가 성공적으로 끝났습니다!",attr(t,"class","svelte-6hm0s4")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_9(e){let t,n,r;return{c(){(t=element("h4")).textContent="영상을 인코딩 중입니다",n=space(),(r=element("h5")).textContent="페이지를 나가면 다시 시작해야 합니다",attr(t,"class","svelte-6hm0s4"),attr(r,"class","svelte-6hm0s4")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_else_block$e(e){let t;return{c(){(t=element("h3")).textContent="다시 시도해 주세요",attr(t,"class","svelte-6hm0s4")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_5$2(e){let t;return{c(){(t=element("h3")).textContent="문서 업로드",attr(t,"class","svelte-6hm0s4")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_4$3(e){let t;return{c(){(t=element("h3")).textContent="영상 업로드",attr(t,"class","svelte-6hm0s4")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_3$3(e){let t;return{c(){(t=element("h3")).textContent="사진 업로드",attr(t,"class","svelte-6hm0s4")},m(e,n){insert(e,t,n)},d(e){e&&detach(t)}}}function create_if_block_2$7(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","17"),attr(t,"width","17")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_each_block$b(e){let t,n;return(t=new ManageCreateItem({props:{checked:e[49].checked,src:e[49].src,file:e[49].file,index:e[51],type:e[2]}})).$on("delete",e[19]),t.$on("download",e[18]),t.$on("check",e[20]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8&n[0]&&(r.checked=e[49].checked),8&n[0]&&(r.src=e[49].src),8&n[0]&&(r.file=e[49].file),4&n[0]&&(r.type=e[2]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_header_slot$1(e){let t;return{c(){(t=element("h3")).textContent="권한이 없습니다",attr(t,"class","modal-header"),attr(t,"slot","header")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_content_slot$1(e){let t;return{c(){(t=element("h3")).textContent="관리자 권한이 필요합니다",attr(t,"class","modal-content"),attr(t,"slot","content")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_fragment$w(e){let t,n,r,o,s,i;const a=[create_if_block$i,create_if_block_1$c,create_if_block_6$2,create_if_block_7$2,create_if_block_8$2],l=[];function c(e,t){return 1==e[0]?0:2==e[0]?1:3==e[0]?2:4==e[0]?3:5==e[0]?4:-1}return~(n=c(e))&&(r=l[n]=a[n](e)),(s=new DefaultModal({props:{modalActive:e[15],$$slots:{content:[create_content_slot$1],header:[create_header_slot$1]},$$scope:{ctx:e}}})).$on("close",e[36]),{c(){t=element("div"),r&&r.c(),o=space(),create_component(s.$$.fragment),attr(t,"class","browse-content-container svelte-6hm0s4")},m(e,r){insert(e,t,r),~n&&l[n].m(t,null),insert(e,o,r),mount_component(s,e,r),i=!0},p(e,o){let i=n;(n=c(e))===i?~n&&l[n].p(e,o):(r&&(group_outros(),transition_out(l[i],1,1,()=>{l[i]=null}),check_outros()),~n?((r=l[n])?r.p(e,o):(r=l[n]=a[n](e)).c(),transition_in(r,1),r.m(t,null)):r=null);const d={};32768&o[0]&&(d.modalActive=e[15]),2097152&o[1]&&(d.$$scope={dirty:o,ctx:e}),s.$set(d)},i(e){i||(transition_in(r),transition_in(s.$$.fragment,e),i=!0)},o(e){transition_out(r),transition_out(s.$$.fragment,e),i=!1},d(e){e&&detach(t),~n&&l[n].d(),e&&detach(o),destroy_component(s,e)}}}function downloader(e){e||console.log("cannot find item"),console.log("downloading from...",e.src)}function parseToList(e){let t=e.split(" "),n=[];return t.forEach(e=>{n.push(e.replace(/['#']*/,""))}),n}function passCheck(e){if(1==e.length())return!1;for(var t in e)if(console.log(t,":",e[t]),!e[t])return!1;return!0}function instance$r(e,t,n){let r;component_subscribe(e,token,e=>n(38,r=e));let o,s,i,a,l,c,{stage:d=1}=t,p=[],u=-1,h=-1,m={length:()=>{let e=0;for(var t in this)e+=1;return e},title:!1,location:!1,affiliation:!1,associate:!1,attendee:!1,date:!1,produced:!1,type:!1},g=!1,v=!1,_=!1,w="",b=[],y="",k=!1;var $=createEventDispatcher();function x(e,t){"title"==t?(n(4,o=e.detail.value),n(26,m.title=e.detail.pass,m),n(26,m)):"attendee"==t?(n(1,l=e.detail.value),n(26,m.attendee=e.detail.pass,m),n(26,m)):"location"==t?(n(5,s=e.detail.value),n(26,m.location=e.detail.pass,m),n(26,m)):"associate"==t?(n(7,a=e.detail.value),n(26,m.associate=e.detail.pass,m),n(26,m)):"date"==t?(n(9,c=e.detail.value),n(26,m.date=e.detail.pass,m),n(26,m)):"affiliation"==t?(n(6,i=e.detail.value),n(26,m.affiliation=e.detail.pass,m),n(26,m)):"produced"==t?(console.log(e.detail.key),n(10,u=e.detail.key),n(26,m.produced=e.detail.pass,m),n(26,m)):"type"==t?(console.log(e.detail.key),n(2,h=e.detail.key),n(26,m.type=e.detail.pass,m),n(26,m)):console.log("Change Error Occurred")}async function S(){!async function(e){200==e.response.status?f.goto("/manage/cases/browse"):n(15,k=!0)}(await async function(){if(b&&!g){let e=null,t=new FormData;g=!0;try{let n=0;t.append("title",o),t.append("file_index",b.length-1),t.append("content",w),t.append("attendee",p),t.append("location",s),t.append("affiliation",i),t.append("associate",a),t.append("produced",u),t.append("private",1),t.append("type",h),b.forEach(e=>{t.append(`${n}`,e.file),n+=1}),e=await axios$1({headers:{Authorization:`Token ${r}`,"Content-Type":"multipart/form-data"},url:`http://127.0.0.1:8000/drf/cases/create/${h}`,method:"POST",data:t}),console.log(e.data)}catch(t){e=t,console.log(t)}return g=!1,console.log("file_uploading procedure ended"),e}}())}function M(e,t){0==t&&(n(15,k=e.detail.modalActive),f.goto("/manage/cases/browse"))}return e.$$set=(e=>{"stage"in e&&n(0,d=e.stage)}),e.$$.update=(()=>{67108875&e.$$.dirty[0]&&(1==d?b&&(b.forEach(e=>{URL.revokeObjectURL(e.src)}),n(3,b=[])):2==d?l&&(passCheck(m),n(8,p=parseToList(l))):3==d||(4==d?$("data",{uncleared:[]}):5==d&&($("data",{uncleared:[1,2,3,4]}),S()))),67108864&e.$$.dirty[0]&&(passCheck(m)?$("data",{uncleared:[5]}):$("data",{uncleared:[2,3,4,5]})),4&e.$$.dirty[0]&&(0==h?n(14,y=".png, .jpg, .jpeg, .svg, .JPEG, .JPG"):1==h?n(14,y=".wmv, .mp4, .mpg, .mpeg4, .mp3, .mov"):2==h&&n(14,y=".hwp, .pdf, .doc, .txt, .ai"))}),[d,l,h,b,o,s,i,a,p,c,u,v,_,w,y,k,x,function(e){v?(n(11,v=!1),b.forEach(e=>{e.checked=!1})):(n(11,v=!0),b.forEach(e=>{e.checked=!0})),n(3,b),n(0,d),n(1,l),n(26,m),n(42,$)},function(e){let t=e.detail.index;downloader(b[t])},function(e){let t=e.detail.index;if(b[t]){let e=b.splice(t,1);console.log(e[0].src),console.log(b),e[0].src?(console.log("revoking Url"),URL.revokeObjectURL(e[0].src)):console.log("Url revoking error"),n(3,b),n(0,d),n(1,l),n(26,m),n(42,$)}else console.log(`item_objs[${t}] doesn't exist`)},function(e){let t=e.detail.index,r=e.detail.checked;b[t]?n(3,b[t].checked=r,b):console.log(`item_objs[${t}] doesn't exist`),n(3,b),n(0,d),n(1,l),n(26,m),n(42,$)},function(e){n(13,w=e.detail.html)},function(){b.forEach(e=>{e.checked&&(downloader(e),e.checked=!1)}),n(3,b),n(0,d),n(1,l),n(26,m),n(42,$)},function(){let e=[...b];console.log(e.length);for(let t=0;t<e.length;t++)if(console.log(t),e[t].checked){let n=e.splice(t,1);n[0].src?(console.log("revoking Url"),URL.revokeObjectURL(n[0].src)):console.log("Url revoking error"),t-=1}n(3,b=e)},function(){console.log("uploading call received"),function e(t){if(_){console.log("waitfile fired");let e=URL.createObjectURL(_[0]),t=_[0];console.log("received the file:",_,e);let r={checked:!1,src:e,file:t};n(3,b=[...b,r]),n(12,_=!1)}else setTimeout(()=>e(),1e3)}()},M,m,e=>x(e,"title"),e=>x(e,"attendee"),e=>x(e,"location"),e=>x(e,"type"),e=>x(e,"produced"),e=>x(e,"affiliation"),e=>x(e,"associate"),e=>x(e,"date"),function(){_=this.files,n(12,_)},e=>M(e,0)]}class ManageCreateContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$r,create_fragment$w,safe_not_equal,{stage:0},null,[-1,-1])}}function create_if_block$j(e){let t,n,r,o;return{c(){t=element("div"),(n=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="left-svg svelte-1crfji7" width="19" height="19"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5"></path></svg>',attr(n,"class","go-back svelte-1crfji7"),attr(t,"class","go-back-wrap svelte-1crfji7")},m(s,i){insert(s,t,i),append(t,n),r||(o=listen(n,"click",e[2]),r=!0)},p:noop,d(e){e&&detach(t),r=!1,o()}}}function create_fragment$x(e){let t,n,r,o,s,i,a=1!=e[0]&&create_if_block$j(e);return{c(){t=element("div"),a&&a.c(),n=space(),r=element("div"),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="white" class="right-svg svelte-1crfji7" width="19" height="19"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',attr(o,"class","go-forth svelte-1crfji7"),attr(r,"class","go-forth-wrap svelte-1crfji7"),attr(t,"class","browse-navbar-wrap svelte-1crfji7")},m(l,c){insert(l,t,c),a&&a.m(t,null),append(t,n),append(t,r),append(r,o),s||(i=listen(o,"click",e[1]),s=!0)},p(e,[r]){1!=e[0]?a?a.p(e,r):((a=create_if_block$j(e)).c(),a.m(t,n)):a&&(a.d(1),a=null)},i:noop,o:noop,d(e){e&&detach(t),a&&a.d(),s=!1,i()}}}function instance$s(e,t,n){var r=createEventDispatcher();let{stage:o=1}=t;return e.$$set=(e=>{"stage"in e&&n(0,o=e.stage)}),[o,function(){n(0,o+=1),r("stageChange",{stage:o})},function(){1!=o&&(n(0,o-=1),r("stageChange",{stage:o}))}]}class ManageCreateNavbar extends SvelteComponent{constructor(e){super(),init(this,e,instance$s,create_fragment$x,safe_not_equal,{stage:0})}}function get_each_context$c(e,t,n){const r=e.slice();return r[9]=t[n],r[11]=n,r}function create_if_block$k(e){let t,n=e[1].stages,r=[];for(let t=0;t<n.length;t+=1)r[t]=create_each_block$c(get_each_context$c(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=empty()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);insert(e,t,n)},p(e,o){if(11&o){let s;for(n=e[1].stages,s=0;s<n.length;s+=1){const i=get_each_context$c(e,n,s);r[s]?r[s].p(i,o):(r[s]=create_each_block$c(i),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(e){destroy_each(r,e),e&&detach(t)}}}function create_else_block$f(e){let t,n,r,o,s,i,a=e[9].stage+"";function l(){return e[7](e[9])}return{c(){t=element("button"),n=element("h2"),r=text(a),attr(n,"class","svelte-ci32og"),attr(t,"class",o=null_to_empty(e[1].unclear_list.includes(e[9].stage)?"unclear-stage-btn":"stage-btn")+" svelte-ci32og")},m(e,o){insert(e,t,o),append(t,n),append(n,r),s||(i=listen(t,"click",l),s=!0)},p(n,s){e=n,2&s&&a!==(a=e[9].stage+"")&&set_data(r,a),2&s&&o!==(o=null_to_empty(e[1].unclear_list.includes(e[9].stage)?"unclear-stage-btn":"stage-btn")+" svelte-ci32og")&&attr(t,"class",o)},d(e){e&&detach(t),s=!1,i()}}}function create_if_block_3$4(e){let t,n,r,o,s;function i(){return e[6](e[9])}return{c(){t=element("button"),(n=element("h2")).textContent="저장하기",attr(n,"class","svelte-ci32og"),attr(t,"class",r=null_to_empty(e[1].unclear_list.includes(e[9].stage)?"unclear-save-btn":"save-btn")+" svelte-ci32og")},m(e,r){insert(e,t,r),append(t,n),o||(s=listen(t,"click",i),o=!0)},p(n,o){e=n,2&o&&r!==(r=null_to_empty(e[1].unclear_list.includes(e[9].stage)?"unclear-save-btn":"save-btn")+" svelte-ci32og")&&attr(t,"class",r)},d(e){e&&detach(t),o=!1,s()}}}function create_if_block_2$8(e){let t,n,r,o,s,i=e[9].stage+"";function a(){return e[5](e[9])}return{c(){t=element("button"),n=element("h2"),r=text(i),attr(n,"class","svelte-ci32og"),attr(t,"class","curr-stage-btn svelte-ci32og")},m(e,i){insert(e,t,i),append(t,n),append(n,r),o||(s=listen(t,"click",a),o=!0)},p(t,n){e=t,2&n&&i!==(i=e[9].stage+"")&&set_data(r,i)},d(e){e&&detach(t),o=!1,s()}}}function create_if_block_1$d(e){let t,n,r;function o(){return e[4](e[9])}return{c(){(t=element("button")).innerHTML='<h2 class="svelte-ci32og">저장하기</h2>',attr(t,"class","curr-save-btn svelte-ci32og")},m(e,s){insert(e,t,s),n||(r=listen(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&detach(t),n=!1,r()}}}function create_each_block$c(e){let t,n;function r(e,t){return e[0]==e[9].stage&&e[11]==e[1].stages.length-1?create_if_block_1$d:e[0]==e[9].stage?create_if_block_2$8:e[11]==e[1].stages.length-1?create_if_block_3$4:create_else_block$f}let o=r(e),s=o(e);return{c(){t=element("div"),s.c(),n=space(),attr(t,"class","stage-btn-wrap svelte-ci32og")},m(e,r){insert(e,t,r),s.m(t,null),append(t,n)},p(e,i){o===(o=r(e))&&s?s.p(e,i):(s.d(1),(s=o(e))&&(s.c(),s.m(t,n)))},d(e){e&&detach(t),s.d()}}}function create_fragment$y(e){let t,n=!e[2]&&create_if_block$k(e);return{c(){t=element("div"),n&&n.c(),attr(t,"class","browse-navbar-wrap svelte-ci32og")},m(e,r){insert(e,t,r),n&&n.m(t,null)},p(e,[r]){e[2]?n&&(n.d(1),n=null):n?n.p(e,r):((n=create_if_block$k(e)).c(),n.m(t,null))},i:noop,o:noop,d(e){e&&detach(t),n&&n.d()}}}function instance$t(e,t,n){var r=createEventDispatcher();let{stage:o=1}=t,{data:s}=t,{focus:i=!1}=t;function a(e){s.unclear_list.includes(e)?console.log("pass modal... not available"):r("stageChange",{stage:e})}return e.$$set=(e=>{"stage"in e&&n(0,o=e.stage),"data"in e&&n(1,s=e.data),"focus"in e&&n(2,i=e.focus)}),[o,s,i,a,e=>a(e.stage),e=>a(e.stage),e=>a(e.stage),e=>a(e.stage)]}class StageManageBtn extends SvelteComponent{constructor(e){super(),init(this,e,instance$t,create_fragment$y,safe_not_equal,{stage:0,data:1,focus:2})}}function create_fragment$z(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),(n=element("h3")).textContent="기록물 생성",r=space(),o=element("div"),s=element("div"),i=element("h3"),a=text(e[0]),attr(n,"class","svelte-1wpj7h6"),attr(i,"class","svelte-1wpj7h6"),attr(s,"class","keyword-holder-label svelte-1wpj7h6"),attr(o,"class","keyword-holder-wrap svelte-1wpj7h6"),attr(t,"class","browse-content-title svelte-1wpj7h6")},m(e,l){insert(e,t,l),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),append(i,a)},p(e,[t]){1&t&&set_data(a,e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$u(e,t,n){let{subtitle:r=""}=t;return e.$$set=(e=>{"subtitle"in e&&n(0,r=e.subtitle)}),[r]}class ManageCreateTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$u,create_fragment$z,safe_not_equal,{subtitle:0})}}function create_fragment$A(e){let t,n,r,o,s,i,a;return t=new ManageCreateTitle({props:{subtitle:e[1]}}),(r=new ManageCreateContainer({props:{stage:e[0]}})).$on("data",e[4]),(i=new StageManageBtn({props:{stage:e[0],data:e[2]}})).$on("stageChange",e[3]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(s,"class","bottom-bar svelte-f8j4m1")},m(e,l){mount_component(t,e,l),insert(e,n,l),mount_component(r,e,l),insert(e,o,l),insert(e,s,l),mount_component(i,s,null),a=!0},p(e,[n]){const o={};2&n&&(o.subtitle=e[1]),t.$set(o);const s={};1&n&&(s.stage=e[0]),r.$set(s);const a={};1&n&&(a.stage=e[0]),4&n&&(a.data=e[2]),i.$set(a)},i(e){a||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s),destroy_component(i)}}}function titleChange(e){return 1==e?"메타데이터 등록":2==e?"기록물 파일 등록":3==e?"내용 등록":4==e?"미리보기":5==e?"저장하기":"허가되지 않은 창"}function instance$v(e,t,n){let r="",o=1,s={stages:[{stage:1,name:"메타데이터 등록"},{stage:2,name:"기록물 파일 등록"},{stage:3,name:"내용 등록"},{stage:4,name:"미리보기"},{stage:5,name:"저장하기"}],unclear_list:[2,3,4,5]};return e.$$.update=(()=>{1&e.$$.dirty&&n(1,r=titleChange(o))}),[o,r,s,function(e){n(0,o=e.detail.stage)},function(e){n(2,s.unclear_list=e.detail.uncleared,s)}]}class ManageCreateView extends SvelteComponent{constructor(e){super(),init(this,e,instance$v,create_fragment$A,safe_not_equal,{})}}function create_fragment$B(e){let t,n,r;return{c(){(t=element("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="rgb(247, 247, 247)" width="17" height="17" class="svelte-1sadpxu"><path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"></path></svg> \n    <h3 class="svelte-1sadpxu">회원정보</h3>',n=space(),(r=element("div")).innerHTML='<div class="user-name-wrap svelte-1sadpxu"><h3 class="svelte-1sadpxu">안상철</h3> \n        <h4 class="svelte-1sadpxu">님</h4></div> \n    <div class="user-affiliation-wrap item svelte-1sadpxu"><h4 class="svelte-1sadpxu">소속</h4> \n        <h3 class="svelte-1sadpxu">학술정보원 멀티미디어교실</h3></div> \n    <div class="user-ip-wrap item svelte-1sadpxu"><h4 class="svelte-1sadpxu">접속 주소</h4> \n        <h3 class="svelte-1sadpxu">192.168.0.10</h3></div> \n    <div class="user-recent-wrap item svelte-1sadpxu"><h4 class="svelte-1sadpxu">최근접속</h4> \n        <h3 class="svelte-1sadpxu">4시간 전</h3></div> \n    <div class="user-btn-control-wrap svelte-1sadpxu"><a class="logout-btn-wrap svelte-1sadpxu" href="/logout"><h3 href="/logout" class="svelte-1sadpxu">로그아웃</h3></a> \n        <a class="change-account-btn-wrap svelte-1sadpxu" href="/user/change"><h3 href="/user/change" class="svelte-1sadpxu">정보수정</h3></a></div>',attr(t,"class","user-info-title svelte-1sadpxu"),attr(r,"class","user-info-container svelte-1sadpxu")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,i:noop,o:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}class UserInfo extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$B,safe_not_equal,{})}}function create_fragment$C(e){let t;return{c(){(t=element("div")).innerHTML='<div class="icon-wrap svelte-1wxqcy9"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="0.8" stroke="rgb(31, 32, 88)" height="200" width="200"><path stroke-linecap="round" stroke-linejoin="round" d="M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"></path></svg></div> \n    <div class="notification-wrap svelte-1wxqcy9"><h1 class="svelte-1wxqcy9">준비중입니다!</h1> \n        <h2 class="details-1 svelte-1wxqcy9">찾아오신 페이지는 아직 준비중입니다.</h2> \n        <h2 class="details-2 svelte-1wxqcy9">곧 좋은 서비스로 뵙겠습니다!</h2></div>',attr(t,"class","not-ready-page svelte-1wxqcy9")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}class NotReadyView extends SvelteComponent{constructor(e){super(),init(this,e,null,create_fragment$C,safe_not_equal,{})}}function create_default_slot_3(e){let t,n,r,o,s,i,a;return(t=new BrowseTitle({props:{form:e[1],view:e[3]}})).$on("viewChange",e[7]),t.$on("formChange",e[8]),(r=new ContentContainer({props:{page:e[0],view:e[3],type:e[1]}})).$on("pageChange",e[5]),r.$on("focus",e[6]),(i=new BrowseNavbar({props:{page:e[0],focus:e[2]}})).$on("pageChange",e[5]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(s,"class","bottom-bar svelte-1sg9ilg")},m(e,l){mount_component(t,e,l),insert(e,n,l),mount_component(r,e,l),insert(e,o,l),insert(e,s,l),mount_component(i,s,null),a=!0},p(e,n){const o={};2&n&&(o.form=e[1]),8&n&&(o.view=e[3]),t.$set(o);const s={};1&n&&(s.page=e[0]),8&n&&(s.view=e[3]),2&n&&(s.type=e[1]),r.$set(s);const a={};1&n&&(a.page=e[0]),4&n&&(a.focus=e[2]),i.$set(a)},i(e){a||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s),destroy_component(i)}}}function create_default_slot_2(e){let t,n;return t=new ManageCreateView({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1$1(e){let t,n,r;return n=new NotReadyView({}),{c(){t=element("div"),create_component(n.$$.fragment),attr(t,"class","stats-content-wrap svelte-1sg9ilg")},m(e,o){insert(e,t,o),mount_component(n,t,null),r=!0},p:noop,i(e){r||(transition_in(n.$$.fragment,e),r=!0)},o(e){transition_out(n.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_default_slot$1(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b;return n=new ManageSidebar({props:{categories:e[4]}}),l=new Route({props:{path:"/",redirect:"/manage/cases/browse"}}),d=new Route({props:{path:"/browse/*",$$slots:{default:[create_default_slot_3]},$$scope:{ctx:e}}}),u=new Route({props:{path:"/create",$$slots:{default:[create_default_slot_2]},$$scope:{ctx:e}}}),m=new Route({props:{path:"/stats/*",$$slots:{default:[create_default_slot_1$1]},$$scope:{ctx:e}}}),v=new UserInfo({}),{c(){t=element("div"),create_component(n.$$.fragment),s=space(),i=element("div"),a=element("div"),create_component(l.$$.fragment),c=space(),create_component(d.$$.fragment),p=space(),create_component(u.$$.fragment),h=space(),create_component(m.$$.fragment),f=space(),g=element("div"),create_component(v.$$.fragment),attr(t,"class","sidebar-wrap"),attr(a,"class","browse-content-wrap svelte-1sg9ilg"),attr(i,"class","manage-content-main svelte-1sg9ilg"),attr(g,"class","user-info-wrap")},m(e,r){insert(e,t,r),mount_component(n,t,null),insert(e,s,r),insert(e,i,r),append(i,a),mount_component(l,a,null),append(a,c),mount_component(d,a,null),append(a,p),mount_component(u,a,null),append(a,h),mount_component(m,a,null),insert(e,f,r),insert(e,g,r),mount_component(v,g,null),b=!0},p(e,t){const n={};2063&t&&(n.$$scope={dirty:t,ctx:e}),d.$set(n);const r={};2048&t&&(r.$$scope={dirty:t,ctx:e}),u.$set(r);const o={};2048&t&&(o.$$scope={dirty:t,ctx:e}),m.$set(o)},i(e){b||(transition_in(n.$$.fragment,e),add_render_callback(()=>{o&&o.end(1),(r=create_in_transition(t,fly,{duration:200,x:-400,y:0})).start()}),transition_in(l.$$.fragment,e),transition_in(d.$$.fragment,e),transition_in(u.$$.fragment,e),transition_in(m.$$.fragment,e),transition_in(v.$$.fragment,e),add_render_callback(()=>{w&&w.end(1),(_=create_in_transition(g,fly,{duration:200,x:400,y:0})).start()}),b=!0)},o(e){transition_out(n.$$.fragment,e),r&&r.invalidate(),o=create_out_transition(t,fade,{duration:10}),transition_out(l.$$.fragment,e),transition_out(d.$$.fragment,e),transition_out(u.$$.fragment,e),transition_out(m.$$.fragment,e),transition_out(v.$$.fragment,e),_&&_.invalidate(),w=create_out_transition(g,fade,{duration:10}),b=!1},d(e){e&&detach(t),destroy_component(n),e&&o&&o.end(),e&&detach(s),e&&detach(i),destroy_component(l),destroy_component(d),destroy_component(u),destroy_component(m),e&&detach(f),e&&detach(g),destroy_component(v),e&&w&&w.end()}}}function create_fragment$D(e){let t,n;return t=new Route({props:{path:"/*",$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,[n]){const r={};2063&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function instance$w(e,t,n){let r=1,o=0,s=!1,i="box";return[r,o,s,i,[{name:"기록물 관리",sub_category:[{name:"기록물 관리",path:"/manage/cases/browse"},{name:"기록물 생성",path:"/manage/cases/create"}]},{name:"홈페이지",sub_category:[{name:"관리자 메인",path:"/manage"},{name:"유저 메인",path:"/user"}]},{name:"통계",sub_category:[{name:"나의 통계",path:"/manage/cases/stats/user"},{name:"기록물 생성",path:"/manage/cases/stats/"}]}],function(e){n(0,r=e.detail.page)},function(e){n(2,s=e.detail.focus)},function(e){n(3,i=e.detail.view)},function(e){o!=e.detail.form&&(n(1,o=e.detail.form),n(0,r=1))}]}class ManageBrowse extends SvelteComponent{constructor(e){super(),init(this,e,instance$w,create_fragment$D,safe_not_equal,{})}}function create_else_block$g(e){let t,n,r,o,s,i,a,l;return{c(){t=element("label"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-1fzukvj"),attr(t,"for","search-input"),attr(t,"class","search-label svelte-1fzukvj")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0,a||(l=listen(t,"click",labelHandle$1),a=!0)},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[4],{key:"unfocused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[3],{key:"focused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end(),a=!1,l()}}}function create_if_block$l(e){let t,n,r,o,s,i;return{c(){t=element("label"),n=element("h3"),r=text(e[0]),attr(n,"class","svelte-1fzukvj"),attr(t,"for","search-input"),attr(t,"class","search-label-focused svelte-1fzukvj")},m(e,o){insert(e,t,o),append(t,n),append(n,r),i=!0},p(e,t){(!i||1&t)&&set_data(r,e[0])},i(n){i||(add_render_callback(()=>{s&&s.end(1),(o=create_in_transition(t,e[4],{key:"focused"})).start()}),i=!0)},o(n){o&&o.invalidate(),s=create_out_transition(t,e[3],{key:"unfocused"}),i=!1},d(e){e&&detach(t),e&&s&&s.end()}}}function create_fragment$E(e){let t,n,r,o,s,i,a,l,c,d;const p=[create_if_block$l,create_else_block$g],u=[];function h(e,t){return e[1]||e[2]?0:1}return i=h(e),a=u[i]=p[i](e),{c(){t=element("div"),n=element("div"),r=element("form"),o=element("input"),s=space(),a.c(),attr(o,"class","search-input-small svelte-1fzukvj"),attr(o,"type","text"),attr(r,"class","search-form svelte-1fzukvj"),attr(n,"class","user-search-container svelte-1fzukvj"),attr(t,"class","user-search-wrap svelte-1fzukvj")},m(a,p){insert(a,t,p),append(t,n),append(n,r),append(r,o),set_input_value(o,e[2]),append(r,s),u[i].m(r,null),l=!0,c||(d=[listen(o,"focus",e[5]),listen(o,"blur",e[6]),listen(o,"input",e[7])],c=!0)},p(e,[t]){4&t&&o.value!==e[2]&&set_input_value(o,e[2]);let n=i;(i=h(e))===n?u[i].p(e,t):(group_outros(),transition_out(u[n],1,1,()=>{u[n]=null}),check_outros(),(a=u[i])?a.p(e,t):(a=u[i]=p[i](e)).c(),transition_in(a,1),a.m(r,null))},i(e){l||(transition_in(a),l=!0)},o(e){transition_out(a),l=!1},d(e){e&&detach(t),u[i].d(),c=!1,run_all(d)}}}function labelHandle$1(){document.querySelector(".search-input-small").focus=!0}function tagSplice$1(e){let t=[...e];for(let e=0;e<=t.length;e++)","==t[e]&&(e+1==t.length?(t[e]=" ",t=[...t,"#"]):(t[e]=" ",t.splice(e+1,0,"#")));return t}function instance$x(e,t,n){const[r,o]=crossfade({}),s=createEventDispatcher();let i=!1,a="",{placeholder:l="검색해주세요"}=t;return e.$$set=(e=>{"placeholder"in e&&n(0,l=e.placeholder)}),e.$$.update=(()=>{if(6&e.$$.dirty&&(i?a||n(2,a="#"):1==a.length&&n(2,a="")),4&e.$$.dirty){let e="",t=a.split("");(t=tagSplice$1(t))&&(t.forEach(t=>{e+=t}),n(2,a=e)),n(2,a=a.replace(/\s+[^#]/,"_"))}4&e.$$.dirty&&s("change",{value:a})}),[l,i,a,r,o,function(){n(1,i=!0),console.log("focused",i)},function(){n(1,i=!1),console.log("blurred",i)},function(){a=this.value,n(2,a),n(1,i)}]}class UserSearchSmall extends SvelteComponent{constructor(e){super(),init(this,e,instance$x,create_fragment$E,safe_not_equal,{placeholder:0})}}function get_each_context$d(e,t,n){const r=e.slice();return r[4]=t[n],r[6]=n,r}function create_else_block$h(e){let t;return{c(){(t=element("h5")).textContent="키워드를 입력해주세요.",attr(t,"class","svelte-e6h8sd")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_if_block$m(e){let t,n,r,o=e[4]+"";return{c(){t=element("div"),n=element("h3"),r=text(o),attr(n,"class","svelte-e6h8sd"),attr(t,"class","keyword svelte-e6h8sd")},m(e,o){insert(e,t,o),append(t,n),append(n,r)},p(e,t){1&t&&o!==(o=e[4]+"")&&set_data(r,o)},d(e){e&&detach(t)}}}function create_each_block$d(e){let t,n=""!=e[4]&&create_if_block$m(e);return{c(){n&&n.c(),t=empty()},m(e,r){n&&n.m(e,r),insert(e,t,r)},p(e,r){""!=e[4]?n?n.p(e,r):((n=create_if_block$m(e)).c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&detach(t)}}}function create_fragment$F(e){let t,n,r,o,s,i,a,l,c,d,p,u=e[0],h=[];for(let t=0;t<u.length;t+=1)h[t]=create_each_block$d(get_each_context$d(e,u,t));let m=null;return u.length||(m=create_else_block$h()),(d=new UserSearchSmall({props:{placeholder:"키워드 검색"}})).$on("change",e[1]),{c(){t=element("div"),(n=element("h3")).textContent="회원 조회",r=space(),o=element("div"),(s=element("div")).innerHTML='<h3 class="svelte-e6h8sd">키워드:</h3>',i=space(),a=element("div");for(let e=0;e<h.length;e+=1)h[e].c();m&&m.c(),l=space(),c=element("div"),create_component(d.$$.fragment),attr(n,"class","svelte-e6h8sd"),attr(s,"class","keyword-holder-label svelte-e6h8sd"),attr(a,"class","keyword-holder svelte-e6h8sd"),attr(o,"class","keyword-holder-wrap svelte-e6h8sd"),attr(c,"class","search-field svelte-e6h8sd"),attr(t,"class","browse-content-title svelte-e6h8sd")},m(e,u){insert(e,t,u),append(t,n),append(t,r),append(t,o),append(o,s),append(o,i),append(o,a);for(let e=0;e<h.length;e+=1)h[e].m(a,null);m&&m.m(a,null),append(t,l),append(t,c),mount_component(d,c,null),p=!0},p(e,[t]){if(1&t){let n;for(u=e[0],n=0;n<u.length;n+=1){const r=get_each_context$d(e,u,n);h[n]?h[n].p(r,t):(h[n]=create_each_block$d(r),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=u.length,!u.length&&m?m.p(e,t):u.length?m&&(m.d(1),m=null):((m=create_else_block$h()).c(),m.m(a,null))}},i(e){p||(transition_in(d.$$.fragment,e),p=!0)},o(e){transition_out(d.$$.fragment,e),p=!1},d(e){e&&detach(t),destroy_each(h,e),m&&m.d(),destroy_component(d)}}}function instance$y(e,t,n){let r=["#사용자_전체"];var o=createEventDispatcher();return e.$$.update=(()=>{1&e.$$.dirty&&function(e){o("keyword",{keywords:e})}(r)}),[r,function(e){let t=e.detail.value;n(0,r=t.split(" "))}]}class BrowseAccountTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$y,create_fragment$F,safe_not_equal,{})}}function create_fragment$G(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F=e[0]._id+"",q=e[0].authority+"",B=e[0].name+"",P=e[0].standing+"",j=e[0].created_at+"",H=e[0].affiliation+"",V=e[0].position+"";return{c(){t=element("div"),n=element("div"),r=element("div"),o=element("h3"),s=text(F),i=space(),a=element("div"),l=element("div"),c=element("h3"),d=text(q),p=space(),u=element("div"),h=element("div"),m=element("h3"),f=text(B),g=space(),v=element("div"),_=element("div"),w=element("h3"),b=text(P),y=space(),k=element("div"),$=element("div"),x=element("h3"),S=text(j),M=space(),C=element("div"),T=element("div"),O=element("h3"),E=text(H),N=space(),A=element("div"),R=element("div"),D=element("h3"),I=text(V),attr(o,"class","svelte-cobv41"),attr(r,"class","id-container container svelte-cobv41"),attr(n,"class","id-wrap wrap svelte-cobv41"),attr(c,"class","svelte-cobv41"),attr(l,"class","authority-container container svelte-cobv41"),attr(a,"class","authority-wrap svelte-cobv41"),attr(m,"class","svelte-cobv41"),attr(h,"class","name-container container svelte-cobv41"),attr(u,"class","name-wrap svelte-cobv41"),attr(w,"class","svelte-cobv41"),attr(_,"class","standing-container container svelte-cobv41"),attr(v,"class","standing-wrap svelte-cobv41"),attr(x,"class","svelte-cobv41"),attr($,"class","date-container container svelte-cobv41"),attr(k,"class","date-wrap svelte-cobv41"),attr(O,"class","svelte-cobv41"),attr(T,"class","affiliation-container container svelte-cobv41"),attr(C,"class","affiliation-wrap svelte-cobv41"),attr(D,"class","svelte-cobv41"),attr(R,"class","position-container container svelte-cobv41"),attr(A,"class","position-wrap svelte-cobv41"),attr(t,"class","table-content svelte-cobv41")},m(F,q){insert(F,t,q),append(t,n),append(n,r),append(r,o),append(o,s),append(t,i),append(t,a),append(a,l),append(l,c),append(c,d),append(t,p),append(t,u),append(u,h),append(h,m),append(m,f),append(t,g),append(t,v),append(v,_),append(_,w),append(w,b),append(t,y),append(t,k),append(k,$),append($,x),append(x,S),append(t,M),append(t,C),append(C,T),append(T,O),append(O,E),append(t,N),append(t,A),append(A,R),append(R,D),append(D,I),z||(L=listen(t,"click",e[1]),z=!0)},p(e,[t]){1&t&&F!==(F=e[0]._id+"")&&set_data(s,F),1&t&&q!==(q=e[0].authority+"")&&set_data(d,q),1&t&&B!==(B=e[0].name+"")&&set_data(f,B),1&t&&P!==(P=e[0].standing+"")&&set_data(b,P),1&t&&j!==(j=e[0].created_at+"")&&set_data(S,j),1&t&&H!==(H=e[0].affiliation+"")&&set_data(E,H),1&t&&V!==(V=e[0].position+"")&&set_data(I,V)},i:noop,o:noop,d(e){e&&detach(t),z=!1,L()}}}function instance$z(e,t,n){let{item:r=r}=t;var o=createEventDispatcher();return e.$$set=(e=>{"item"in e&&n(0,r=e.item)}),[r,function(){o("click",{item:r})}]}class UserListItem extends SvelteComponent{constructor(e){super(),init(this,e,instance$z,create_fragment$G,safe_not_equal,{item:0})}}function create_catch_block$5(e){let t,n,r;return{c(){(t=element("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="rgb(226, 41, 41)" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg>',n=space(),(r=element("h3")).textContent="다시 시도 바랍니다",attr(t,"class","approved-mark-wrap svelte-1vv01jw"),attr(r,"class","svelte-1vv01jw")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,i:noop,o:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_then_block$5(e){let t,n,r,o,s,i,a,l=e[27].name+"";return{c(){t=element("div"),n=svg_element("svg"),r=svg_element("path"),s=space(),i=element("h3"),a=text(l),attr(r,"stroke-linecap","round"),attr(r,"stroke-linejoin","round"),attr(r,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke-width","2"),attr(n,"stroke","rgb(99, 228, 99)"),attr(n,"height","18"),attr(n,"width","18"),attr(t,"class","approved-mark-wrap svelte-1vv01jw"),attr(i,"class","svelte-1vv01jw")},m(e,o){insert(e,t,o),append(t,n),append(n,r),insert(e,s,o),insert(e,i,o),append(i,a)},p:noop,i(e){o||add_render_callback(()=>{(o=create_in_transition(r,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),e&&detach(s),e&&detach(i)}}}function create_pending_block$5(e){let t,n,r;return{c(){t=element("div"),n=space(),(r=element("h3")).textContent="파일을 받아오는 중입니다",attr(t,"class","approved-mark-wrap svelte-1vv01jw"),attr(r,"class","svelte-1vv01jw")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,i:noop,o:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_else_block$i(e){let t;return{c(){attr(t=element("div"),"class","body-content-wrap-unauthorized")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block$n(e){let t,n,r,o;const s=[create_if_block_1$e,create_if_block_2$9],i=[];return~(n=0)&&(r=i[0]=s[0](e)),{c(){t=element("div"),r&&r.c(),attr(t,"class","body-content-wrap svelte-1vv01jw")},m(e,n){insert(e,t,n),i[0].m(t,null),o=!0},p(e,t){r&&r.p(e,t)},i(e){o||(transition_in(r),o=!0)},o(e){transition_out(r),o=!1},d(e){e&&detach(t),i[0].d()}}}function create_if_block_2$9(e){let t;return{c(){t=text("Error!")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block_1$e(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L;return(o=new InputSingleValue({props:{placeholder:"이름",init:e[1],conditions:condition_set.default_conditions}})).$on("change",e[14]),o.$on("pass",passHandle$1),(i=new InputSingleValue({props:{placeholder:"아이디",init:e[3],conditions:condition_set.registered_id_conditions}})).$on("change",e[15]),i.$on("pass",passHandle$1),(p=new InputSingleValue({props:{placeholder:"계급",init:e[8],conditions:condition_set.default_conditions}})).$on("change",e[16]),p.$on("pass",passHandle$1),(h=new InputSingleValue({props:{placeholder:"직별 혹은 직책",init:e[9],conditions:condition_set.default_conditions}})).$on("change",e[17]),h.$on("pass",passHandle$1),(_=new InputSingleValue({props:{placeholder:"소속",init:e[4],conditions:condition_set.default_conditions}})).$on("change",e[18]),_.$on("pass",passHandle$1),(b=new InputSingleValue({props:{placeholder:"등록 번호",init:e[13],conditions:condition_set.unchangable_conditions("등록 번호를"),immutable:!0}})).$on("change",e[19]),b.$on("pass",passHandle$1),(S=new InputSingleValue({props:{placeholder:"등록 일자",init:e[6],conditions:condition_set.unchangable_conditions("등록 일자를"),immutable:!0}})).$on("change",e[20]),S.$on("pass",passHandle$1),(C=new InputSingleValue({props:{placeholder:"등록 IP",init:e[5],conditions:condition_set.unchangable_conditions("등록 IP를"),immutable:!0}})).$on("change",e[21]),C.$on("pass",passHandle$1),(D=new InputSelectValue({props:{placeholder:"권한 종류",init:e[7],conditions:condition_set.default_conditions,option_list:["비인가","일반 유저","관리자"]}})).$on("change",e[22]),D.$on("pass",passHandle$1),(z=new InputSingleValue({props:{placeholder:"권한 부여자",init:e[2],conditions:condition_set.unchangable_conditions("권한 부여자를"),immutable:!0}})).$on("change",e[23]),z.$on("pass",passHandle$1),{c(){t=element("div"),(n=element("div")).innerHTML='<h3 class="svelte-1vv01jw">기본 등록 정보</h3>',r=space(),create_component(o.$$.fragment),s=space(),create_component(i.$$.fragment),a=space(),l=element("div"),c=element("div"),d=space(),create_component(p.$$.fragment),u=space(),create_component(h.$$.fragment),m=space(),f=element("div"),g=element("div"),v=space(),create_component(_.$$.fragment),w=space(),create_component(b.$$.fragment),y=space(),k=element("div"),$=element("div"),x=space(),create_component(S.$$.fragment),M=space(),create_component(C.$$.fragment),T=space(),O=element("div"),E=space(),N=element("div"),(A=element("div")).innerHTML='<h3 class="svelte-1vv01jw">권한 정보</h3>',R=space(),create_component(D.$$.fragment),I=space(),create_component(z.$$.fragment),attr(n,"class","input-category-title svelte-1vv01jw"),attr(t,"class","single-input-wrap svelte-1vv01jw"),attr(c,"class","padding svelte-1vv01jw"),attr(l,"class","single-input-wrap svelte-1vv01jw"),attr(g,"class","padding svelte-1vv01jw"),attr(f,"class","single-input-wrap svelte-1vv01jw"),attr($,"class","padding svelte-1vv01jw"),attr(k,"class","single-input-wrap svelte-1vv01jw"),attr(O,"class","buffer svelte-1vv01jw"),attr(A,"class","input-category-title svelte-1vv01jw"),attr(N,"class","single-input-wrap svelte-1vv01jw")},m(e,F){insert(e,t,F),append(t,n),append(t,r),mount_component(o,t,null),append(t,s),mount_component(i,t,null),insert(e,a,F),insert(e,l,F),append(l,c),append(l,d),mount_component(p,l,null),append(l,u),mount_component(h,l,null),insert(e,m,F),insert(e,f,F),append(f,g),append(f,v),mount_component(_,f,null),append(f,w),mount_component(b,f,null),insert(e,y,F),insert(e,k,F),append(k,$),append(k,x),mount_component(S,k,null),append(k,M),mount_component(C,k,null),insert(e,T,F),insert(e,O,F),insert(e,E,F),insert(e,N,F),append(N,A),append(N,R),mount_component(D,N,null),append(N,I),mount_component(z,N,null),L=!0},p(e,t){const n={};2&t&&(n.init=e[1]),o.$set(n);const r={};8&t&&(r.init=e[3]),i.$set(r);const s={};256&t&&(s.init=e[8]),p.$set(s);const a={};512&t&&(a.init=e[9]),h.$set(a);const l={};16&t&&(l.init=e[4]),_.$set(l);const c={};64&t&&(c.init=e[6]),S.$set(c);const d={};32&t&&(d.init=e[5]),C.$set(d);const u={};128&t&&(u.init=e[7]),D.$set(u);const m={};4&t&&(m.init=e[2]),z.$set(m)},i(e){L||(transition_in(o.$$.fragment,e),transition_in(i.$$.fragment,e),transition_in(p.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(_.$$.fragment,e),transition_in(b.$$.fragment,e),transition_in(S.$$.fragment,e),transition_in(C.$$.fragment,e),transition_in(D.$$.fragment,e),transition_in(z.$$.fragment,e),L=!0)},o(e){transition_out(o.$$.fragment,e),transition_out(i.$$.fragment,e),transition_out(p.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(_.$$.fragment,e),transition_out(b.$$.fragment,e),transition_out(S.$$.fragment,e),transition_out(C.$$.fragment,e),transition_out(D.$$.fragment,e),transition_out(z.$$.fragment,e),L=!1},d(e){e&&detach(t),destroy_component(o),destroy_component(i),e&&detach(a),e&&detach(l),destroy_component(p),destroy_component(h),e&&detach(m),e&&detach(f),destroy_component(_),destroy_component(b),e&&detach(y),e&&detach(k),destroy_component(S),destroy_component(C),e&&detach(T),e&&detach(O),e&&detach(E),e&&detach(N),destroy_component(D),destroy_component(z)}}}function create_fragment$H(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$5,then:create_then_block$5,catch:create_catch_block$5,value:27,error:28};handle_promise(i=e[12](e[10]),f);const g=[create_if_block$n,create_else_block$i],v=[];function _(e,t){return e[0].authority?0:1}return d=_(e),p=v[d]=g[d](e),{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"></path></svg>',s=space(),f.block.c(),a=space(),l=space(),c=element("div"),p.c(),attr(o,"class","back-btn svelte-1vv01jw"),attr(r,"class","back-btn-wrap svelte-1vv01jw"),attr(n,"class","header svelte-1vv01jw"),attr(c,"class","body svelte-1vv01jw"),attr(t,"class","focus svelte-1vv01jw")},m(i,p){insert(i,t,p),append(t,n),append(n,r),append(r,o),append(n,s),f.block.m(n,f.anchor=null),f.mount=(()=>n),f.anchor=a,append(n,a),append(t,l),append(t,c),v[d].m(c,null),u=!0,h||(m=listen(o,"click",e[11]),h=!0)},p(t,[n]){update_await_block_branch(f,e=t,n);let r=d;(d=_(e))===r?v[d].p(e,n):(group_outros(),transition_out(v[r],1,1,()=>{v[r]=null}),check_outros(),(p=v[d])?p.p(e,n):(p=v[d]=g[d](e)).c(),transition_in(p,1),p.m(c,null))},i(e){u||(transition_in(f.block),transition_in(p),u=!0)},o(e){transition_out(p),u=!1},d(e){e&&detach(t),f.block.d(),f.token=null,f=null,v[d].d(),h=!1,m()}}}function changeHandle$1(e,t){e.detail.value}function changeOptionHandle$1(e,t){e.detail.key}function passHandle$1(e){let t=e.detail.name;pass_list[t]=e.detail.pass}function instance$A(e,t,n){let{user:r}=t;let o=O().params._id;var s=createEventDispatcher();let i=(r={_id:2,registered_id:"sampleId",name:"김재우",authority:1,standing:"상병",position:"전산병",affiliation:"학술정보원 멀티미디어교실",created_at:"22년 2월 3일",ip_address:"192.168.0.101",registered_by:"김재우",date:"2022년 12월 12일"}).name,a=r.registered_by,l=r.registered_id,c=r.affiliation,d=r._id,p=r.ip_address,u=r.date,h=r.authority,m=r.standing,g=r.position;return e.$$set=(e=>{"user"in e&&n(0,r=e.user)}),[r,i,a,l,c,p,u,h,m,g,o,function(){s("escape",{focus:null}),f.goto("/manage/accounts/browse")},async function(e){return n(0,r=await axios$1.get(`http://localhost:4000/account/${e}`)),n(1,({name:i,registered_by:a,registered_id:l,affiliation:c,id:e,ip_address:p,date:u,authority:h,standing:m,position:g}=r),i,n(2,a),n(3,l),n(4,c),n(5,p),n(6,u),n(7,h),n(8,m),n(9,g)),r},d,e=>changeHandle$1(e,i),e=>changeHandle$1(e,l),e=>changeHandle$1(e,m),e=>changeHandle$1(e,g),e=>changeHandle$1(e,c),e=>changeHandle$1(e,d),e=>changeHandle$1(e,u),e=>changeHandle$1(e,p),e=>changeOptionHandle$1(e,h),e=>changeHandle$1(e,a)]}class AccountView extends SvelteComponent{constructor(e){super(),init(this,e,instance$A,create_fragment$H,safe_not_equal,{user:0})}}function get_each_context_1$2(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function get_each_context$e(e,t,n){const r=e.slice();return r[12]=t[n],r[14]=n,r}function create_if_block_3$5(e){let t,n,r,o,s,i,a,l,c;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="연결이 끊겼습니다",l=space(),(c=element("h5")).textContent="다시 한번 시도해보세요",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(226, 41, 41)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-8jozsi"),attr(c,"class","svelte-8jozsi"),attr(t,"class","user-fetch-error-page svelte-8jozsi")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_if_block_2$a(e){let t,n,r=e[3],o=[];for(let t=0;t<r.length;t+=1)o[t]=create_each_block_1$2(get_each_context_1$2(e,r,t));const s=e=>transition_out(o[e],1,1,()=>{o[e]=null});return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();attr(t,"class","table svelte-8jozsi")},m(e,r){insert(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){if(24&n){let i;for(r=e[3],i=0;i<r.length;i+=1){const s=get_each_context_1$2(e,r,i);o[i]?(o[i].p(s,n),transition_in(o[i],1)):(o[i]=create_each_block_1$2(s),o[i].c(),transition_in(o[i],1),o[i].m(t,null))}for(group_outros(),i=r.length;i<o.length;i+=1)s(i);check_outros()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function create_if_block_1$f(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="정보를 받아오고 있습니다",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(31, 32, 88)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-8jozsi"),attr(t,"class","user-fetch-spinner-page svelte-8jozsi")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_if_block$o(e){let t,n,r=e[3],o=[];for(let t=0;t<r.length;t+=1)o[t]=create_each_block$e(get_each_context$e(e,r,t));const s=e=>transition_out(o[e],1,1,()=>{o[e]=null});return{c(){t=element("div");for(let e=0;e<o.length;e+=1)o[e].c();attr(t,"class","table svelte-8jozsi")},m(e,r){insert(e,t,r);for(let e=0;e<o.length;e+=1)o[e].m(t,null);n=!0},p(e,n){if(24&n){let i;for(r=e[3],i=0;i<r.length;i+=1){const s=get_each_context$e(e,r,i);o[i]?(o[i].p(s,n),transition_in(o[i],1)):(o[i]=create_each_block$e(s),o[i].c(),transition_in(o[i],1),o[i].m(t,null))}for(group_outros(),i=r.length;i<o.length;i+=1)s(i);check_outros()}},i(e){if(!n){for(let e=0;e<r.length;e+=1)transition_in(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)transition_out(o[e]);n=!1},d(e){e&&detach(t),destroy_each(o,e)}}}function create_each_block_1$2(e){let t,n;return(t=new UserListItem({props:{item:e[12]}})).$on("click",e[4]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.item=e[12]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_each_block$e(e){let t,n;return(t=new UserListItem({props:{item:e[12]}})).$on("click",e[4]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};8&n&&(r.item=e[12]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot$2(e){let t,n;return(t=new AccountView({props:{user:e[0]}})).$on("escape",e[5]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.user=e[0]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$I(e){let t,n,r,o,s,i,a,l,c,d;const p=[create_if_block$o,create_if_block_1$f,create_if_block_2$a,create_if_block_3$5],u=[];return~(i=0)&&(a=u[i]=p[i](e)),c=new Route({props:{path:"/:_id",$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),{c(){t=element("div"),n=element("div"),(r=element("div")).innerHTML='<div class="header-id-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">ID</h3></div></div> \n            <div class="header-authority-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">권한</h3></div></div> \n            <div class="header-name-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">실명</h3></div></div> \n            <div class="header-standing-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">계급</h3></div></div> \n            <div class="header-date-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">가입일</h3></div></div> \n            <div class="header-affiliation-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">소속</h3></div></div> \n            <div class="header-position-container svelte-8jozsi"><div class="header-container svelte-8jozsi"><h3 class="svelte-8jozsi">직책</h3></div></div>',o=space(),s=element("div"),a&&a.c(),l=space(),create_component(c.$$.fragment),attr(r,"class","table-header svelte-8jozsi"),attr(s,"class","list-frame svelte-8jozsi"),attr(n,"class","upload-view svelte-8jozsi"),attr(t,"class","browse-content-container svelte-8jozsi")},m(e,a){insert(e,t,a),append(t,n),append(n,r),append(n,o),append(n,s),~i&&u[i].m(s,null),append(t,l),mount_component(c,t,null),d=!0},p(e,[t]){let n=i;(i=0)===n?~i&&u[i].p(e,t):(a&&(group_outros(),transition_out(u[n],1,1,()=>{u[n]=null}),check_outros()),~i?((a=u[i])?a.p(e,t):(a=u[i]=p[i](e)).c(),transition_in(a,1),a.m(s,null)):a=null);const r={};65537&t&&(r.$$scope={dirty:t,ctx:e}),c.$set(r)},i(e){d||(transition_in(a),transition_in(c.$$.fragment,e),d=!0)},o(e){transition_out(a),transition_out(c.$$.fragment,e),d=!1},d(e){e&&detach(t),~i&&u[i].d(),destroy_component(c)}}}function instance$B(e,t,n){let{page:r=1}=t,{keywords:o}=t;var s=createEventDispatcher();let i,a=null,l=!1,c=null,d=[];for(let e=0;e<40;e++)d=[...d,{_id:e,name:"김재우",authority:"관리자",standing:"상병",position:"전산병",affiliation:"학술정보원 멀티미디어교실",created_at:"22년 2월 3일"}];return e.$$set=(e=>{"page"in e&&n(6,r=e.page),"keywords"in e&&n(7,o=e.keywords)}),e.$$.update=(()=>{if(320&e.$$.dirty)try{n(3,i=d.slice(12*(r-1),12*r))}catch(e){n(3,i=null)}128&e.$$.dirty&&async function(e){if(!l){n(8,d=[]),n(2,c=null),n(1,l=!0);try{n(8,d=await axios$1.get("http://localhost:4000")),n(1,l=!1)}catch(e){n(2,c=1),n(1,l=!1)}}console.log("fetch")}()}),[a,l,c,i,function(e){n(0,a=e.detail.item),s("focus",{focus:!0}),f.goto(`/manage/accounts/browse/${a._id}`)},function(){n(0,a=null),s("focus",{focus:!1})},r,o,d]}class AccountListContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$B,create_fragment$I,safe_not_equal,{page:6,keywords:7})}}function create_if_block$p(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","17"),attr(t,"width","17")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_fragment$J(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N=e[0]&&create_if_block$p();return{c(){t=element("div"),n=element("div"),r=element("div"),o=element("button"),N&&N.c(),i=space(),a=element("div"),l=element("div"),c=element("h3"),d=text(e[1]),p=space(),u=element("div"),h=element("div"),m=element("h3"),f=text(e[2]),g=space(),v=element("div"),_=element("div"),w=element("h3"),b=text(e[3]),y=space(),k=element("div"),$=element("div"),(x=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg>',S=space(),M=element("div"),C=element("div"),(T=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>',attr(o,"class",s=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-1oybaxq"),attr(r,"class","check-container container svelte-1oybaxq"),attr(n,"class","check-wrap wrap svelte-1oybaxq"),attr(c,"class","svelte-1oybaxq"),attr(l,"class","container svelte-1oybaxq"),attr(a,"class","id-wrap svelte-1oybaxq"),attr(m,"class","svelte-1oybaxq"),attr(h,"class","container svelte-1oybaxq"),attr(u,"class","name-wrap svelte-1oybaxq"),attr(w,"class","svelte-1oybaxq"),attr(_,"class","container svelte-1oybaxq"),attr(v,"class","detail-wrap svelte-1oybaxq"),attr(x,"class","svelte-1oybaxq"),attr($,"class","accept-container container svelte-1oybaxq"),attr(k,"class","accept-wrap svelte-1oybaxq"),attr(T,"class","svelte-1oybaxq"),attr(C,"class","decline-container container svelte-1oybaxq"),attr(M,"class","decline-wrap svelte-1oybaxq"),attr(t,"class","table-content svelte-1oybaxq")},m(s,A){insert(s,t,A),append(t,n),append(n,r),append(r,o),N&&N.m(o,null),append(t,i),append(t,a),append(a,l),append(l,c),append(c,d),append(t,p),append(t,u),append(u,h),append(h,m),append(m,f),append(t,g),append(t,v),append(v,_),append(_,w),append(w,b),append(t,y),append(t,k),append(k,$),append($,x),append(t,S),append(t,M),append(M,C),append(C,T),O||(E=[listen(o,"click",e[4]),listen(x,"click",e[5]),listen(T,"click",e[6]),listen(t,"click",e[7])],O=!0)},p(e,[t]){e[0]?N||((N=create_if_block$p()).c(),N.m(o,null)):N&&(N.d(1),N=null),1&t&&s!==(s=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-1oybaxq")&&attr(o,"class",s),2&t&&set_data(d,e[1]),4&t&&set_data(f,e[2]),8&t&&set_data(b,e[3])},i:noop,o:noop,d(e){e&&detach(t),N&&N.d(),O=!1,run_all(E)}}}function instance$C(e,t,n){let{checked:r=!1}=t,{data:o}=t,{index:s}=t;var i=createEventDispatcher();let a="",l="",c="";return o&&(0==o.request_form?(a=o.request_form0_requested_by.id,l=o.request_form0_requested_by.name):1==o.request_form&&(a=o.request_form1_requested_by.id,l=o.request_form1_requested_by.name),c=o.title),e.$$set=(e=>{"checked"in e&&n(0,r=e.checked),"data"in e&&n(8,o=e.data),"index"in e&&n(9,s=e.index)}),[r,a,l,c,function(){n(0,r=!r),i("check",{index:s,checked:r})},function(){i("accept",{index:s})},function(){i("decline",{index:s})},function(){i("click",{index:s})},o,s]}class AccessControlItem extends SvelteComponent{constructor(e){super(),init(this,e,instance$C,create_fragment$J,safe_not_equal,{checked:0,data:8,index:9})}}function get_each_context$f(e,t,n){const r=e.slice();return r[24]=t[n],r[26]=n,r}function create_catch_block$6(e){let t,n,r;return{c(){(t=element("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="rgb(226, 41, 41)" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg>',n=space(),(r=element("h3")).textContent="다시 시도 바랍니다",attr(t,"class","approved-mark-wrap svelte-3yq3yt"),attr(r,"class","svelte-3yq3yt")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,i:noop,o:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_then_block$6(e){let t,n,r,o,s,i,a,l=e[27].title+"";return{c(){t=element("div"),n=svg_element("svg"),r=svg_element("path"),s=space(),i=element("h3"),a=text(l),attr(r,"stroke-linecap","round"),attr(r,"stroke-linejoin","round"),attr(r,"d","M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke-width","2"),attr(n,"stroke","rgb(99, 228, 99)"),attr(n,"height","18"),attr(n,"width","18"),attr(t,"class","approved-mark-wrap svelte-3yq3yt"),attr(i,"class","svelte-3yq3yt")},m(e,o){insert(e,t,o),append(t,n),append(n,r),insert(e,s,o),insert(e,i,o),append(i,a)},p(e,t){1&t&&l!==(l=e[27].title+"")&&set_data(a,l)},i(e){o||add_render_callback(()=>{(o=create_in_transition(r,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),e&&detach(s),e&&detach(i)}}}function create_pending_block$6(e){let t,n,r;return{c(){t=element("div"),n=space(),(r=element("h3")).textContent="파일을 받아오는 중입니다",attr(t,"class","approved-mark-wrap svelte-3yq3yt"),attr(r,"class","svelte-3yq3yt")},m(e,o){insert(e,t,o),insert(e,n,o),insert(e,r,o)},p:noop,i:noop,o:noop,d(e){e&&detach(t),e&&detach(n),e&&detach(r)}}}function create_else_block_3$2(e){let t;return{c(){attr(t=element("div"),"class","body-content-wrap-unauthorized")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block$q(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F,q,B,P,j,H,V,W,U,K,J;function G(e,t){return 0==e[0].content.type?create_if_block_1$g:1==e[0].content.type?create_if_block_4$4:void 0}s=new InputSingleValue({props:{placeholder:"이름",init:e[7],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),a=new InputSingleValue({props:{placeholder:"아이디",init:e[9],conditions:condition_set.unchangable_conditions("여기서는")}}),u=new InputSingleValue({props:{placeholder:"계급",init:e[15],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),m=new InputSingleValue({props:{placeholder:"직별 혹은 직책",init:e[16],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),w=new InputSingleValue({props:{placeholder:"소속",init:e[10],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),y=new InputSingleValue({props:{placeholder:"등록 번호",init:e[11],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),M=new InputSingleValue({props:{placeholder:"등록 일자",init:e[13],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),T=new InputSingleValue({props:{placeholder:"등록 IP",init:e[12],conditions:condition_set.unchangable_conditions("여기서는"),immutable:!0}}),R=new InputSelectValue({props:{placeholder:"권한 종류",init:e[14],conditions:condition_set.default_conditions,option_list:["비인가","일반 유저","관리자"],immutable:!0}}),I=new InputSingleValue({props:{placeholder:"권한 부여자",init:e[8],conditions:condition_set.unchangable_conditions("권한 부여자"),immutable:!0}});let Y=G(e),X=Y&&Y(e);return{c(){t=element("div"),n=element("div"),(r=element("div")).innerHTML='<h3 class="svelte-3yq3yt">회원 정보</h3>',o=space(),create_component(s.$$.fragment),i=space(),create_component(a.$$.fragment),l=space(),c=element("div"),d=element("div"),p=space(),create_component(u.$$.fragment),h=space(),create_component(m.$$.fragment),f=space(),g=element("div"),v=element("div"),_=space(),create_component(w.$$.fragment),b=space(),create_component(y.$$.fragment),k=space(),$=element("div"),x=element("div"),S=space(),create_component(M.$$.fragment),C=space(),create_component(T.$$.fragment),O=space(),E=element("div"),N=element("div"),A=space(),create_component(R.$$.fragment),D=space(),create_component(I.$$.fragment),z=space(),L=element("div"),F=space(),q=element("div"),(B=element("div")).innerHTML='<h3 class="svelte-3yq3yt">요청 사항</h3>',P=space(),X&&X.c(),j=space(),H=element("div"),V=space(),(W=element("div")).innerHTML='<div class="input-category-title svelte-3yq3yt"><h3 class="svelte-3yq3yt">사유</h3></div> \n                    <div class="text-wrap svelte-3yq3yt"><h5 class="svelte-3yq3yt">안녕하십니까, 상병 김재우입니다. 다름이 아니라 이번\n                            순항훈련전단에서 지금까지 있었던 순항훈련 기록물을\n                            참고하여 기항지 탐색/조사를 시행하려 합니다. 협조\n                            부탁드립니다</h5></div>',U=space(),(K=element("div")).innerHTML='<div class="btn-container svelte-3yq3yt"><button class="withdraw-btn btn svelte-3yq3yt"><h3 class="svelte-3yq3yt">보류하기</h3></button> \n                        <button class="accept-btn btn svelte-3yq3yt"><h3 class="svelte-3yq3yt">적용하기</h3></button> \n                        <button class="decline-btn btn svelte-3yq3yt"><h3 class="svelte-3yq3yt">거부하기</h3></button></div>',attr(r,"class","input-category-title svelte-3yq3yt"),attr(n,"class","single-input-wrap svelte-3yq3yt"),attr(d,"class","padding svelte-3yq3yt"),attr(c,"class","single-input-wrap svelte-3yq3yt"),attr(v,"class","padding svelte-3yq3yt"),attr(g,"class","single-input-wrap svelte-3yq3yt"),attr(x,"class","padding svelte-3yq3yt"),attr($,"class","single-input-wrap svelte-3yq3yt"),attr(N,"class","padding svelte-3yq3yt"),attr(E,"class","single-input-wrap svelte-3yq3yt"),attr(L,"class","buffer svelte-3yq3yt"),attr(B,"class","input-category-title svelte-3yq3yt"),attr(q,"class","single-input-wrap svelte-3yq3yt"),attr(H,"class","buffer svelte-3yq3yt"),attr(W,"class","single-input-wrap svelte-3yq3yt"),attr(K,"class","btn-control-wrap svelte-3yq3yt"),attr(t,"class","body-content-wrap svelte-3yq3yt")},m(e,G){insert(e,t,G),append(t,n),append(n,r),append(n,o),mount_component(s,n,null),append(n,i),mount_component(a,n,null),append(t,l),append(t,c),append(c,d),append(c,p),mount_component(u,c,null),append(c,h),mount_component(m,c,null),append(t,f),append(t,g),append(g,v),append(g,_),mount_component(w,g,null),append(g,b),mount_component(y,g,null),append(t,k),append(t,$),append($,x),append($,S),mount_component(M,$,null),append($,C),mount_component(T,$,null),append(t,O),append(t,E),append(E,N),append(E,A),mount_component(R,E,null),append(E,D),mount_component(I,E,null),append(t,z),append(t,L),append(t,F),append(t,q),append(q,B),append(q,P),X&&X.m(q,null),append(t,j),append(t,H),append(t,V),append(t,W),append(t,U),append(t,K),J=!0},p(e,t){Y===(Y=G(e))&&X?X.p(e,t):(X&&X.d(1),(X=Y&&Y(e))&&(X.c(),X.m(q,null)))},i(e){J||(transition_in(s.$$.fragment,e),transition_in(a.$$.fragment,e),transition_in(u.$$.fragment,e),transition_in(m.$$.fragment,e),transition_in(w.$$.fragment,e),transition_in(y.$$.fragment,e),transition_in(M.$$.fragment,e),transition_in(T.$$.fragment,e),transition_in(R.$$.fragment,e),transition_in(I.$$.fragment,e),J=!0)},o(e){transition_out(s.$$.fragment,e),transition_out(a.$$.fragment,e),transition_out(u.$$.fragment,e),transition_out(m.$$.fragment,e),transition_out(w.$$.fragment,e),transition_out(y.$$.fragment,e),transition_out(M.$$.fragment,e),transition_out(T.$$.fragment,e),transition_out(R.$$.fragment,e),transition_out(I.$$.fragment,e),J=!1},d(e){e&&detach(t),destroy_component(s),destroy_component(a),destroy_component(u),destroy_component(m),destroy_component(w),destroy_component(y),destroy_component(M),destroy_component(T),destroy_component(R),destroy_component(I),X&&X.d()}}}function create_if_block_4$4(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g=["비인가","일반 유저","관리자"][e[0].content.change_to]+"";return{c(){t=element("div"),n=element("div"),(r=element("h5")).textContent="권한 종류",o=space(),(s=element("h3")).textContent=`${["비인가","일반 유저","관리자"][e[6].authority]}`,i=space(),(a=element("div")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="rgb(26, 26, 128)" height="40" width="40"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>',l=space(),c=element("div"),(d=element("h5")).textContent="권한 종류",p=space(),u=element("h3"),h=text(g),m=space(),(f=element("div")).innerHTML='<h3 class="svelte-3yq3yt">로 수정</h3>',attr(r,"class","label svelte-3yq3yt"),attr(s,"class","svelte-3yq3yt"),attr(n,"class","authority-wrap svelte-3yq3yt"),attr(a,"class","svg-wrap"),attr(d,"class","label svelte-3yq3yt"),attr(u,"class","svelte-3yq3yt"),attr(c,"class","authority-wrap svelte-3yq3yt"),attr(f,"class","rest-text svelte-3yq3yt"),attr(t,"class","authority-request-wrap svelte-3yq3yt")},m(e,g){insert(e,t,g),append(t,n),append(n,r),append(n,o),append(n,s),append(t,i),append(t,a),append(t,l),append(t,c),append(c,d),append(c,p),append(c,u),append(u,h),append(t,m),append(t,f)},p(e,t){1&t&&g!==(g=["비인가","일반 유저","관리자"][e[0].content.change_to]+"")&&set_data(h,g)},d(e){e&&detach(t)}}}function create_if_block_1$g(e){let t,n=e[0].content.access_to,r=[];for(let t=0;t<n.length;t+=1)r[t]=create_each_block$f(get_each_context$f(e,n,t));let o=null;return n.length||(o=create_else_block_2$2()),{c(){t=element("div");for(let e=0;e<r.length;e+=1)r[e].c();o&&o.c(),attr(t,"class","browsing-request-wrap  svelte-3yq3yt")},m(e,n){insert(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);o&&o.m(t,null)},p(e,s){if(39&s){let i;for(n=e[0].content.access_to,i=0;i<n.length;i+=1){const o=get_each_context$f(e,n,i);r[i]?r[i].p(o,s):(r[i]=create_each_block$f(o),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length,!n.length&&o?o.p(e,s):n.length?o&&(o.d(1),o=null):((o=create_else_block_2$2()).c(),o.m(t,null))}},d(e){e&&detach(t),destroy_each(r,e),o&&o.d()}}}function create_else_block_2$2(e){let t;return{c(){(t=element("div")).innerHTML="<h3>요청이 비어있습니다</h3> \n                                ",attr(t,"class","no-case-id")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_else_block_1$3(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","2"),attr(t,"stroke","white"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block_3$6(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","2"),attr(t,"stroke","currentColor"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_else_block$j(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M6 18L18 6M6 6l12 12"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block_2$b(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M6 18L18 6M6 6l12 12"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","currentColor"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_each_block$f(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F,q,B,P,j,H,V,W=e[24]+"";function U(e,t){return 2&t&&(C=null),null==C&&(C=!e[1].includes(e[26])),C?create_if_block_3$6:create_else_block_1$3}let K=U(e,-1),J=K(e);function G(){return e[17](e[26])}function Y(e,t){return 4&t&&(z=null),null==z&&(z=!e[2].includes(e[26])),z?create_if_block_2$b:create_else_block$j}let X=Y(e,-1),Z=X(e);function Q(){return e[18](e[26])}return{c(){t=element("div"),n=element("div"),(r=element("h3")).textContent="등록 번호",o=space(),s=element("div"),i=space(),a=element("h4"),l=text(W),c=space(),d=element("div"),p=space(),(u=element("h3")).textContent="의 기록물",h=space(),m=element("div"),f=space(),(g=element("h4")).textContent="#이인호_동상_앞",v=space(),(_=element("h5")).textContent="(눌러서 이동)",w=space(),b=element("div"),y=space(),(k=element("h3")).textContent="에 대한 열람 권한",$=space(),x=element("div"),S=element("div"),M=element("div"),J.c(),T=space(),O=element("h3"),E=text("수락"),R=space(),D=element("div"),I=element("div"),Z.c(),L=space(),F=element("h3"),q=text("거절"),j=space(),attr(r,"class","svelte-3yq3yt"),attr(s,"class","whitespace svelte-3yq3yt"),attr(a,"class","svelte-3yq3yt"),attr(d,"class","whitespace svelte-3yq3yt"),attr(u,"class","svelte-3yq3yt"),attr(m,"class","whitespace svelte-3yq3yt"),attr(g,"class","svelte-3yq3yt"),attr(_,"class","svelte-3yq3yt"),attr(b,"class","whitespace svelte-3yq3yt"),attr(k,"class","svelte-3yq3yt"),attr(n,"class","request-content-container svelte-3yq3yt"),attr(M,"class","accept-svg"),attr(O,"class",N=null_to_empty(e[1].includes(e[26])?"clicked":"unclicked")+" svelte-3yq3yt"),attr(S,"class",A=null_to_empty(e[1].includes(e[26])?"accept-container-clicked container":"accept-container container")+" svelte-3yq3yt"),attr(I,"class","decline-svg"),attr(F,"class",B=null_to_empty(e[2].includes(e[26])?"clicked":"unclicked")+" svelte-3yq3yt"),attr(D,"class",P=null_to_empty(e[2].includes(e[26])?"decline-container-clicked container":"decline-container container")+" svelte-3yq3yt"),attr(x,"class","select-wrap svelte-3yq3yt"),attr(t,"class","browsing-request-container svelte-3yq3yt")},m(e,C){insert(e,t,C),append(t,n),append(n,r),append(n,o),append(n,s),append(n,i),append(n,a),append(a,l),append(n,c),append(n,d),append(n,p),append(n,u),append(n,h),append(n,m),append(n,f),append(n,g),append(n,v),append(n,_),append(n,w),append(n,b),append(n,y),append(n,k),append(t,$),append(t,x),append(x,S),append(S,M),J.m(M,null),append(S,T),append(S,O),append(O,E),append(x,R),append(x,D),append(D,I),Z.m(I,null),append(D,L),append(D,F),append(F,q),append(t,j),H||(V=[listen(S,"click",G),listen(D,"click",Q)],H=!0)},p(t,n){e=t,1&n&&W!==(W=e[24]+"")&&set_data(l,W),K!==(K=U(e,n))&&(J.d(1),(J=K(e))&&(J.c(),J.m(M,null))),2&n&&N!==(N=null_to_empty(e[1].includes(e[26])?"clicked":"unclicked")+" svelte-3yq3yt")&&attr(O,"class",N),2&n&&A!==(A=null_to_empty(e[1].includes(e[26])?"accept-container-clicked container":"accept-container container")+" svelte-3yq3yt")&&attr(S,"class",A),X!==(X=Y(e,n))&&(Z.d(1),(Z=X(e))&&(Z.c(),Z.m(I,null))),4&n&&B!==(B=null_to_empty(e[2].includes(e[26])?"clicked":"unclicked")+" svelte-3yq3yt")&&attr(F,"class",B),4&n&&P!==(P=null_to_empty(e[2].includes(e[26])?"decline-container-clicked container":"decline-container container")+" svelte-3yq3yt")&&attr(D,"class",P)},d(e){e&&detach(t),J.d(),Z.d(),H=!1,run_all(V)}}}function create_fragment$K(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$6,then:create_then_block$6,catch:create_catch_block$6,value:27,error:28};handle_promise(i=e[4](e[0]._id),f);const g=[create_if_block$q,create_else_block_3$2],v=[];return d=function(e,t){return e[6].authority?0:1}(e),p=v[d]=g[d](e),{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"></path></svg>',s=space(),f.block.c(),a=space(),l=space(),c=element("div"),p.c(),attr(o,"class","back-btn svelte-3yq3yt"),attr(r,"class","back-btn-wrap svelte-3yq3yt"),attr(n,"class","header svelte-3yq3yt"),attr(c,"class","body svelte-3yq3yt"),attr(t,"class","focus svelte-3yq3yt")},m(i,p){insert(i,t,p),append(t,n),append(n,r),append(r,o),append(n,s),f.block.m(n,f.anchor=null),f.mount=(()=>n),f.anchor=a,append(n,a),append(t,l),append(t,c),v[d].m(c,null),u=!0,h||(m=listen(o,"click",e[3]),h=!0)},p(t,[n]){e=t,f.ctx=e,1&n&&i!==(i=e[4](e[0]._id))&&handle_promise(i,f)||update_await_block_branch(f,e,n),p.p(e,n)},i(e){u||(transition_in(f.block),transition_in(p),u=!0)},o(e){transition_out(p),u=!1},d(e){e&&detach(t),f.block.d(),f.token=null,f=null,v[d].d(),h=!1,m()}}}function instance$D(e,t,n){let{request:r}=t,o=[],s=[];var i=createEventDispatcher();function a(e,t){if(1==e&&!l(t)){if(c(t)){let e=s.indexOf(t);s.splice(e,1)}return n(1,o=[...o,t]),n(2,s),console.log(o),o}if(0==e&&!c(t)){if(l(t)){let e=o.indexOf(t);o.splice(e,1)}return n(2,s=[...s,t]),n(1,o),console.log(s),s}}function l(e){return o.includes(e)}function c(e){return s.includes(e)}let d={_id:2,registered_id:"sampleId",name:"김재우",authority:1,standing:"상병",position:"전산병",affiliation:"학술정보원 멀티미디어교실",created_at:"22년 2월 3일",ip_address:"192.168.0.101",registered_by:"김재우",date:"2022년 12월 12일"},p=d.name,u=d.registered_by,h=d.registered_id,m=d.affiliation,f=d._id,g=d.ip_address,v=d.date,_=d.authority,w=d.standing,b=d.position;return e.$$set=(e=>{"request"in e&&n(0,r=e.request)}),[r,o,s,function(){i("escape",{focus:null})},async function(e){return await axios$1.get(`http://localhost:8000/request/${e}`)},a,d,p,u,h,m,f,g,v,_,w,b,e=>a(1,e),e=>a(0,e)]}class AccessControlDetailView extends SvelteComponent{constructor(e){super(),init(this,e,instance$D,create_fragment$K,safe_not_equal,{request:0})}}function get_each_context$g(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function create_catch_block$7(e){let t,n,r=e[22].response.status+"";return{c(){t=element("h3"),n=text(r)},m(e,r){insert(e,t,r),append(t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_then_block$7(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O=e[0]&&create_if_block_1$h(),E=e[2],N=[];for(let t=0;t<E.length;t+=1)N[t]=create_each_block$g(get_each_context$g(e,E,t));const A=e=>transition_out(N[e],1,1,()=>{N[e]=null});return{c(){t=element("div"),(n=element("h3")).textContent="받은 요청",r=space(),o=element("div"),(s=element("button")).innerHTML='<h3 class="svelte-1x48xq9">수락</h3>',i=space(),(a=element("button")).innerHTML='<h3 class="svelte-1x48xq9">거절</h3>',l=space(),c=element("div"),d=element("div"),p=element("button"),O&&O.c(),h=space(),(m=element("div")).innerHTML='<div class="header-container svelte-1x48xq9"><h3 class="svelte-1x48xq9">ID</h3></div>',f=space(),(g=element("div")).innerHTML='<div class="header-container svelte-1x48xq9"><h3 class="svelte-1x48xq9">이름</h3></div>',v=space(),(_=element("div")).innerHTML='<div class="header-container svelte-1x48xq9"><h3 class="svelte-1x48xq9">요청사항</h3></div>',w=space(),(b=element("div")).innerHTML='<div class="header-container svelte-1x48xq9"><h3 class="svelte-1x48xq9">수락</h3></div>',y=space(),(k=element("div")).innerHTML='<div class="header-container svelte-1x48xq9"><h3 class="svelte-1x48xq9">거절</h3></div>',$=space(),x=element("div"),S=element("div");for(let e=0;e<N.length;e+=1)N[e].c();attr(n,"class","svelte-1x48xq9"),attr(s,"class","svelte-1x48xq9"),attr(a,"class","svelte-1x48xq9"),attr(o,"class","control-panel svelte-1x48xq9"),attr(t,"class","header svelte-1x48xq9"),attr(p,"class",u=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-1x48xq9"),attr(d,"class","header-checkbox-container svelte-1x48xq9"),attr(m,"class","header-id-container svelte-1x48xq9"),attr(g,"class","header-name-container svelte-1x48xq9"),attr(_,"class","header-detail-container svelte-1x48xq9"),attr(b,"class","header-accept-container svelte-1x48xq9"),attr(k,"class","header-decline-container svelte-1x48xq9"),attr(c,"class","table-header svelte-1x48xq9"),attr(S,"class","table svelte-1x48xq9"),attr(x,"class","body svelte-1x48xq9")},m(u,E){insert(u,t,E),append(t,n),append(t,r),append(t,o),append(o,s),append(o,i),append(o,a),insert(u,l,E),insert(u,c,E),append(c,d),append(d,p),O&&O.m(p,null),append(c,h),append(c,m),append(c,f),append(c,g),append(c,v),append(c,_),append(c,w),append(c,b),append(c,y),append(c,k),insert(u,$,E),insert(u,x,E),append(x,S);for(let e=0;e<N.length;e+=1)N[e].m(S,null);M=!0,C||(T=[listen(s,"click",e[10]),listen(a,"click",e[9]),listen(p,"click",e[3])],C=!0)},p(e,t){if(e[0]?O||((O=create_if_block_1$h()).c(),O.m(p,null)):O&&(O.d(1),O=null),(!M||1&t&&u!==(u=null_to_empty(e[0]?"check-btn-clicked":"check-btn")+" svelte-1x48xq9"))&&attr(p,"class",u),244&t){let n;for(E=e[2],n=0;n<E.length;n+=1){const r=get_each_context$g(e,E,n);N[n]?(N[n].p(r,t),transition_in(N[n],1)):(N[n]=create_each_block$g(r),N[n].c(),transition_in(N[n],1),N[n].m(S,null))}for(group_outros(),n=E.length;n<N.length;n+=1)A(n);check_outros()}},i(e){if(!M){for(let e=0;e<E.length;e+=1)transition_in(N[e]);M=!0}},o(e){N=N.filter(Boolean);for(let e=0;e<N.length;e+=1)transition_out(N[e]);M=!1},d(e){e&&detach(t),e&&detach(l),e&&detach(c),O&&O.d(),e&&detach($),e&&detach(x),destroy_each(N,e),C=!1,run_all(T)}}}function create_if_block_1$h(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","17"),attr(t,"width","17")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_each_block$g(e){let t,n;return(t=new AccessControlItem({props:{checked:e[19].checked,index:e[21],data:e[19]}})).$on("delete",e[4]),t.$on("accept",e[5]),t.$on("check",e[6]),t.$on("click",e[7]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.checked=e[19].checked),4&n&&(r.data=e[19]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_pending_block$7(e){let t,n,r;return n=new Circle({props:{size:"60",color:"rgb(31, 32, 88)",unit:"px",duration:"1s"}}),{c(){t=element("div"),create_component(n.$$.fragment),attr(t,"class","spinner-wrap svelte-1x48xq9")},m(e,o){insert(e,t,o),mount_component(n,t,null),r=!0},p:noop,i(e){r||(transition_in(n.$$.fragment,e),r=!0)},o(e){transition_out(n.$$.fragment,e),r=!1},d(e){e&&detach(t),destroy_component(n)}}}function create_if_block$r(e){let t,n;return(t=new AccessControlDetailView({props:{request:e[1]}})).$on("escape",e[8]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.request=e[1]),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$L(e){let t,n,r,o,s,i={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$7,then:create_then_block$7,catch:create_catch_block$7,value:18,error:22,blocks:[,,,]};handle_promise(r=e[11](),i);let a=e[1]&&create_if_block$r(e);return{c(){t=element("div"),n=element("div"),i.block.c(),o=space(),a&&a.c(),attr(n,"class","upload-view svelte-1x48xq9"),attr(t,"class","browse-content-container svelte-1x48xq9")},m(e,r){insert(e,t,r),append(t,n),i.block.m(n,i.anchor=null),i.mount=(()=>n),i.anchor=null,append(t,o),a&&a.m(t,null),s=!0},p(n,[r]){update_await_block_branch(i,e=n,r),e[1]?a?(a.p(e,r),2&r&&transition_in(a,1)):((a=create_if_block$r(e)).c(),transition_in(a,1),a.m(t,null)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(e){s||(transition_in(i.block),transition_in(a),s=!0)},o(e){for(let e=0;e<3;e+=1){transition_out(i.blocks[e])}transition_out(a),s=!1},d(e){e&&detach(t),i.block.d(),i.token=null,i=null,a&&a.d()}}}function access_request_parser(e,t){if(1==e.request_form||!(t in[0,1,2]))return!1;let n={image_case:{},video_case:{},doc_case:{}};return e.request_components.forEach(e=>{if(0==e.requesting_case_form)n.image_case[e.image_case.id]=t;else if(1==e.requesting_case_form)n.video_case[e.video_case.id]=t;else{if(2!=e.requesting_case_form)return!1;n.doc_case[e.doc_case.id]=t}}),n}function instance$E(e,t,n){let r;component_subscribe(e,token,e=>n(13,r=e));let{stage:o=1}=t,s=!1,i=null,a=[];async function l(e,t,n){let o;if(0==e){let s={};(s=access_request_parser(n,1)).status=1,s.request_form=e,s.request_id=t,o=await axios$1({url:"http://127.0.0.1:8000/drf/request/resolve",method:"post",data:s,headers:{Authorization:`Token ${r}`}})}else o=await axios$1({url:"http://127.0.0.1:8000/drf/request/resolve",method:"post",data:{request_form:e,request_id:t,status:1},headers:{Authorization:`Token ${r}`}});return o}async function c(e,t,n){let o;if(0==e){let s={};(s=access_request_parser(n,0)).status=0,s.request_form=e,s.request_id=t,o=await axios$1({url:"http://127.0.0.1:8000/drf/request/resolve",method:"post",data:s,headers:{Authorization:`Token ${r}`}})}else o=await axios$1({url:"http://127.0.0.1:8000/drf/request/resolve",method:"post",data:{request_form:e,request_id:t,status:0},headers:{Authorization:`Token ${r}`}});return o}async function d(){let e=await axios$1({url:"http://127.0.0.1:8000/drf/request/browse",method:"get",headers:{Authorization:`Token ${r}`}});return 200!=e.status?e:(n(2,a=e.data),a.forEach(e=>{e.checked=!1}),a)}function p(){return[...a]}return e.$$set=(e=>{"stage"in e&&n(12,o=e.stage)}),e.$$.update=(()=>{e.$$.dirty}),[s,i,a,function(e){s?(n(0,s=!1),a.forEach(e=>{e.checked=!1})):(n(0,s=!0),a.forEach(e=>{e.checked=!0})),console.log(a),n(2,a)},async function(e){let t=e.detail.index;if(a[t]){try{await c(a[t].request_form,a[t].id),a.splice(t,1)}catch(e){console.log(e)}n(2,a)}else console.log(`item_objs[#${t}] doesn't exist`)},async function(e){let t=e.detail.index;if(a[t]){try{await l(a[t].request_form,a[t].id),a.splice(t,1)}catch(e){console.log(e)}n(2,a)}else console.log(`item_objs[#${t}] doesn't exist`)},function(e){let t=e.detail.index,r=e.detail.checked;a[t]?n(2,a[t].checked=r,a):console.log(`item_objs[#${t}] doesn't exist`),n(2,a)},function(e){let t=e.detail.index;n(1,i=a[t])},function(e){n(1,i=e.detail.focus)},async function(){let e=p(),t=[];console.log(e.length);for(let n=0;n<e.length;n++)if(console.log(n),e[n].checked){let r=e.splice(n,1),o=await c(r[0].request_form,r[0].id,r[0]);t=[...t,o],n-=1}try{n(2,a=await d())}catch(e){connection_warning=!0}console.log(t)},async function(){let e=p(),t=[];console.log(e.length);for(let n=0;n<e.length;n++)if(console.log(n),e[n].checked){let r=e.splice(n,1),o=await l(r[0].request_form,r[0].id,r[0]);t=[...t,o],n-=1}try{n(2,a=await d())}catch(e){connection_warning=!0}console.log(t)},d,o]}class AccessControlContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$E,create_fragment$L,safe_not_equal,{stage:12})}}function create_fragment$M(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),(n=element("h3")).textContent="기록물 접근 관리",r=space(),o=element("div"),s=element("div"),i=element("h3"),a=text(e[0]),attr(n,"class","svelte-1wpj7h6"),attr(i,"class","svelte-1wpj7h6"),attr(s,"class","keyword-holder-label svelte-1wpj7h6"),attr(o,"class","keyword-holder-wrap svelte-1wpj7h6"),attr(t,"class","browse-content-title svelte-1wpj7h6")},m(e,l){insert(e,t,l),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),append(i,a)},p(e,[t]){1&t&&set_data(a,e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$F(e,t,n){let{subtitle:r=""}=t;return e.$$set=(e=>{"subtitle"in e&&n(0,r=e.subtitle)}),[r]}class AccessControlTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$F,create_fragment$M,safe_not_equal,{subtitle:0})}}function create_fragment$N(e){let t,n,r,o,s,i,a;return t=new AccessControlTitle({props:{subtitle:e[1]}}),r=new AccessControlContainer({props:{stage:e[0]}}),(i=new ManageCreateNavbar({props:{stage:e[0]}})).$on("stageChange",e[2]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(s,"class","bottom-bar svelte-f8j4m1")},m(e,l){mount_component(t,e,l),insert(e,n,l),mount_component(r,e,l),insert(e,o,l),insert(e,s,l),mount_component(i,s,null),a=!0},p(e,[n]){const o={};2&n&&(o.subtitle=e[1]),t.$set(o);const s={};1&n&&(s.stage=e[0]),r.$set(s);const a={};1&n&&(a.stage=e[0]),i.$set(a)},i(e){a||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s),destroy_component(i)}}}function titleChange$1(e){return 1==e?"받은 요청":2==e?"권한 수정":"허가되지 않은 창"}function instance$G(e,t,n){let r="",o=1;return e.$$.update=(()=>{1&e.$$.dirty&&n(1,r=titleChange$1(o))}),[o,r,function(e){n(0,o=e.detail.stage)}]}class AccessControlView extends SvelteComponent{constructor(e){super(),init(this,e,instance$G,create_fragment$N,safe_not_equal,{})}}function create_if_block_1$i(e){let t,n,r={ctx:e,current:null,token:null,hasCatch:!0,pending:create_pending_block$8,then:create_then_block$8,catch:create_catch_block$8,value:16,error:17};return handle_promise(n=e[2](e[1]),r),{c(){t=empty(),r.block.c()},m(e,n){insert(e,t,n),r.block.m(e,r.anchor=n),r.mount=(()=>t.parentNode),r.anchor=t},p(t,o){e=t,r.ctx=e,2&o&&n!==(n=e[2](e[1]))&&handle_promise(n,r)||update_await_block_branch(r,e,o)},i(e){transition_in(r.block)},o:noop,d(e){e&&detach(t),r.block.d(e),r.token=null,r=null}}}function create_if_block$s(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A;return(i=new InputSingleValue({props:{placeholder:"이름",conditions:condition_set.default_conditions}})).$on("change",e[3]),i.$on("pass",passHandle$2),(l=new InputSingleValue({props:{placeholder:"소속",conditions:condition_set.default_conditions}})).$on("change",e[4]),l.$on("pass",passHandle$2),(h=new InputSingleValue({props:{placeholder:"계급",conditions:condition_set.default_conditions}})).$on("change",e[5]),h.$on("pass",passHandle$2),(f=new InputSingleValue({props:{placeholder:"직별 혹은 직책",conditions:condition_set.default_conditions}})).$on("change",e[6]),f.$on("pass",passHandle$2),(b=new InputSingleValue({props:{placeholder:"아이디",conditions:condition_set.registered_id_conditions}})).$on("change",e[7]),b.$on("pass",passHandle$2),(k=new InputSingleValue({props:{placeholder:"비밀번호",conditions:condition_set.default_conditions}})).$on("change",e[8]),k.$on("pass",passHandle$2),(O=new InputSelectValue({props:{placeholder:"권한 종류",init:1,conditions:condition_set.select_conditions,option_list:["비인가","일반 유저","관리자"]}})).$on("change",e[9]),O.$on("pass",passHandle$2),(N=new InputSingleValue({props:{placeholder:"등록 IP",conditions:condition_set.default_conditions}})).$on("change",e[10]),N.$on("pass",passHandle$2),{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("div")).innerHTML='<h3 class="svelte-16tj9qz">기본 등록 정보</h3>',s=space(),create_component(i.$$.fragment),a=space(),create_component(l.$$.fragment),c=space(),d=element("div"),p=element("div"),u=space(),create_component(h.$$.fragment),m=space(),create_component(f.$$.fragment),g=space(),v=element("div"),_=element("div"),w=space(),create_component(b.$$.fragment),y=space(),create_component(k.$$.fragment),$=space(),x=element("div"),S=space(),M=element("div"),(C=element("div")).innerHTML='<h3 class="svelte-16tj9qz">권한 정보</h3>',T=space(),create_component(O.$$.fragment),E=space(),create_component(N.$$.fragment),attr(o,"class","input-category-title svelte-16tj9qz"),attr(r,"class","single-input-wrap svelte-16tj9qz"),attr(p,"class","padding svelte-16tj9qz"),attr(d,"class","single-input-wrap svelte-16tj9qz"),attr(_,"class","padding svelte-16tj9qz"),attr(v,"class","single-input-wrap svelte-16tj9qz"),attr(x,"class","buffer svelte-16tj9qz"),attr(C,"class","input-category-title svelte-16tj9qz"),attr(M,"class","single-input-wrap svelte-16tj9qz"),attr(n,"class","body-content-wrap svelte-16tj9qz"),attr(t,"class","body svelte-16tj9qz")},m(e,R){insert(e,t,R),append(t,n),append(n,r),append(r,o),append(r,s),mount_component(i,r,null),append(r,a),mount_component(l,r,null),append(n,c),append(n,d),append(d,p),append(d,u),mount_component(h,d,null),append(d,m),mount_component(f,d,null),append(n,g),append(n,v),append(v,_),append(v,w),mount_component(b,v,null),append(v,y),mount_component(k,v,null),append(n,$),append(n,x),append(n,S),append(n,M),append(M,C),append(M,T),mount_component(O,M,null),append(M,E),mount_component(N,M,null),A=!0},p:noop,i(e){A||(transition_in(i.$$.fragment,e),transition_in(l.$$.fragment,e),transition_in(h.$$.fragment,e),transition_in(f.$$.fragment,e),transition_in(b.$$.fragment,e),transition_in(k.$$.fragment,e),transition_in(O.$$.fragment,e),transition_in(N.$$.fragment,e),A=!0)},o(e){transition_out(i.$$.fragment,e),transition_out(l.$$.fragment,e),transition_out(h.$$.fragment,e),transition_out(f.$$.fragment,e),transition_out(b.$$.fragment,e),transition_out(k.$$.fragment,e),transition_out(O.$$.fragment,e),transition_out(N.$$.fragment,e),A=!1},d(e){e&&detach(t),destroy_component(i),destroy_component(l),destroy_component(h),destroy_component(f),destroy_component(b),destroy_component(k),destroy_component(O),destroy_component(N)}}}function create_catch_block$8(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록에 실패했습니다",l=space(),(c=element("h5")).textContent="입력 내용을 다시 한번 확인해 주세요",d=space(),(p=element("a")).innerHTML="<h3>다시 입력하기</h3>",u=space(),(h=element("a")).innerHTML="<h3>돌아가기</h3>",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(226, 41, 41)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-16tj9qz"),attr(c,"class","svelte-16tj9qz"),attr(h,"href","/manage/accounts/browse"),attr(t,"class","upload-fail-page svelte-16tj9qz")},m(s,g){insert(s,t,g),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c),append(t,d),append(t,p),append(t,u),append(t,h),m||(f=listen(p,"click",e[12]),m=!0)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),m=!1,f()}}}function create_then_block$8(e){let t,n,r,o,s,i,a,l,c,d,p,u,h;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록이 끝났습니다!",l=space(),(c=element("a")).innerHTML="<h3>돌아가기</h3>",d=space(),(p=element("a")).innerHTML="<h3>등록 계속하기</h3>",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M4.5 12.75l6 6 9-13.5"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","1.5"),attr(r,"stroke","rgb(99, 228, 99)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-16tj9qz"),attr(c,"href","/manage/accounts/browse"),attr(t,"class","upload-success-page svelte-16tj9qz")},m(s,m){insert(s,t,m),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c),append(t,d),append(t,p),u||(h=listen(p,"click",e[11]),u=!0)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),u=!1,h()}}}function create_pending_block$8(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록 중 입니다",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(31, 32, 88)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-16tj9qz"),attr(t,"class","uploading-landing-page svelte-16tj9qz")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_fragment$O(e){let t,n,r,o;const s=[create_if_block$s,create_if_block_1$i],i=[];function a(e,t){return 1==e[0]?0:2==e[0]?1:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=element("div"),r&&r.c(),attr(t,"class","browse-content-container svelte-16tj9qz")},m(e,r){insert(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,[o]){let l=n;(n=a(e))===l?~n&&i[n].p(e,o):(r&&(group_outros(),transition_out(i[l],1,1,()=>{i[l]=null}),check_outros()),~n?((r=i[n])?r.p(e,o):(r=i[n]=s[n](e)).c(),transition_in(r,1),r.m(t,null)):r=null)},i(e){o||(transition_in(r),o=!0)},o(e){transition_out(r),o=!1},d(e){e&&detach(t),~n&&i[n].d()}}}function passHandle$2(e){let t=e.detail.name;pass_list[t]=e.detail.pass}function changeHandle$2(e,t){e.detail.value}function changeOptionHandle$2(e,t){e.detail.key}function instance$H(e,t,n){let{stage:r=1}=t,o={},s=!1;var i=createEventDispatcher();function a(){s&&(n(1,o.name="",o),n(1,o.affiliation="",o),n(1,o.standing="",o),n(1,o.position="",o),n(1,o.registered_id="",o),n(1,o.password="",o),n(1,o.authority=1,o),n(1,o.ip_address="",o),n(1,o={}))}return e.$$set=(e=>{"stage"in e&&n(0,r=e.stage)}),e.$$.update=(()=>{1&e.$$.dirty&&(1==r?i("stageChange",{stage:r}):2==r&&i("stageChange",{stage:r}))}),[r,o,async function(e){s=!0;let t=await axios$1.get("http://localhost:4000");return a(),setTimeout(()=>{f.goto("/manage/accounts/browse")},2e3),s=!1,t},e=>changeHandle$2(e,o.name),e=>changeHandle$2(e,o.affiliation),e=>changeHandle$2(e,o.standing),e=>changeHandle$2(e,o.position),e=>changeHandle$2(e,o.registered_id),e=>changeHandle$2(e,o.password),e=>changeOptionHandle$2(e,o.authority),e=>changeHandle$2(e,o.ip_address),()=>{n(0,r-=1)},()=>{n(0,r-=1)}]}class AccountCreateContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$H,create_fragment$O,safe_not_equal,{stage:0})}}function create_fragment$P(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),(n=element("h3")).textContent="회원 등록",r=space(),o=element("div"),s=element("div"),i=element("h3"),a=text(e[0]),attr(n,"class","svelte-1wpj7h6"),attr(i,"class","svelte-1wpj7h6"),attr(s,"class","keyword-holder-label svelte-1wpj7h6"),attr(o,"class","keyword-holder-wrap svelte-1wpj7h6"),attr(t,"class","browse-content-title svelte-1wpj7h6")},m(e,l){insert(e,t,l),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),append(i,a)},p(e,[t]){1&t&&set_data(a,e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$I(e,t,n){let{subtitle:r=""}=t;return e.$$set=(e=>{"subtitle"in e&&n(0,r=e.subtitle)}),[r]}class AccountCreateTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$I,create_fragment$P,safe_not_equal,{subtitle:0})}}function create_fragment$Q(e){let t,n,r,o,s,i,a;return t=new AccountCreateTitle({props:{subtitle:e[1]}}),(r=new AccountCreateContainer({props:{stage:e[0]}})).$on("stageChange",e[2]),(i=new ManageCreateNavbar({props:{stage:e[0]}})).$on("stageChange",e[2]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(s,"class","bottom-bar svelte-f8j4m1")},m(e,l){mount_component(t,e,l),insert(e,n,l),mount_component(r,e,l),insert(e,o,l),insert(e,s,l),mount_component(i,s,null),a=!0},p(e,[n]){const o={};2&n&&(o.subtitle=e[1]),t.$set(o);const s={};1&n&&(s.stage=e[0]),r.$set(s);const a={};1&n&&(a.stage=e[0]),i.$set(a)},i(e){a||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s),destroy_component(i)}}}function titleChange$2(e){return 1==e?"회원정보 등록":2==e?"저장":"허가되지 않은 창"}function instance$J(e,t,n){let r="",o=1;return e.$$.update=(()=>{1&e.$$.dirty&&n(1,r=titleChange$2(o))}),[o,r,function(e){n(0,o=e.detail.stage)}]}class AccountCreateView extends SvelteComponent{constructor(e){super(),init(this,e,instance$J,create_fragment$Q,safe_not_equal,{})}}function get_each_context$h(e,t,n){const r=e.slice();return r[18]=t[n],r[20]=n,r}function create_else_block_2$3(e){let t;return{c(){(t=element("div")).innerHTML="<h3>요청이 비어있습니다</h3> \n                        ",attr(t,"class","no-case-id")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_else_block_1$4(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecapf","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","2"),attr(t,"stroke","white"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block_1$j(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M4.5 12.75l6 6 9-13.5"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","2"),attr(t,"stroke","currentColor"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_else_block$k(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M6 18L18 6M6 6l12 12"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","white"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_if_block$t(e){let t,n;return{c(){t=svg_element("svg"),attr(n=svg_element("path"),"stroke-linecap","round"),attr(n,"stroke-linejoin","round"),attr(n,"d","M6 18L18 6M6 6l12 12"),attr(t,"xmlns","http://www.w3.org/2000/svg"),attr(t,"fill","none"),attr(t,"viewBox","0 0 24 24"),attr(t,"stroke-width","1.5"),attr(t,"stroke","currentColor"),attr(t,"height","18"),attr(t,"width","18")},m(e,r){insert(e,t,r),append(t,n)},d(e){e&&detach(t)}}}function create_each_block$h(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D,I,z,L,F,q,B,P,j,H,V=e[18].id+"";function W(e,t){return 4&t&&(C=null),null==C&&(C=!!e[2].includes(e[20])),C?create_if_block_1$j:create_else_block_1$4}let U=W(e,-1),K=U(e);function J(e,t){return e[3]!=e[20]?create_if_block$t:create_else_block$k}let G=J(e),Y=G(e);function X(){return e[9](e[20])}function Z(){return e[10](e[20])}return{c(){t=element("div"),n=element("div"),(r=element("h3")).textContent="등록 번호",o=space(),s=element("div"),i=space(),a=element("h4"),l=text(V),c=space(),d=element("div"),p=space(),(u=element("h3")).textContent="의 기록물",h=space(),m=element("div"),f=space(),(g=element("h4")).textContent="#이인호_동상_앞",v=space(),(_=element("h5")).textContent="(눌러서 이동)",w=space(),b=element("div"),y=space(),(k=element("h3")).textContent="에 대한 열람 권한",$=space(),x=element("div"),S=element("div"),M=element("div"),K.c(),T=space(),O=element("h3"),E=text("선택"),R=space(),D=element("div"),I=element("div"),Y.c(),z=space(),L=element("h3"),F=text("보류"),P=space(),attr(r,"class","svelte-b6bgfc"),attr(s,"class","whitespace svelte-b6bgfc"),attr(a,"class","svelte-b6bgfc"),attr(d,"class","whitespace svelte-b6bgfc"),attr(u,"class","svelte-b6bgfc"),attr(m,"class","whitespace svelte-b6bgfc"),attr(g,"class","svelte-b6bgfc"),attr(_,"class","svelte-b6bgfc"),attr(b,"class","whitespace svelte-b6bgfc"),attr(k,"class","svelte-b6bgfc"),attr(n,"class","request-content-container svelte-b6bgfc"),attr(M,"class","accept-svg"),attr(O,"class",N=null_to_empty(e[2].includes(e[18])?"clicked":"unclicked")+" svelte-b6bgfc"),attr(S,"class",A=null_to_empty(e[2].includes(e[18])?"accept-container-clicked container":"accept-container container")+" svelte-b6bgfc"),attr(I,"class","decline-svg"),attr(L,"class",q=null_to_empty(e[3]==e[20]?"clicked":"unclicked")+" svelte-b6bgfc"),attr(D,"class",B=null_to_empty(e[3]==e[20]?"decline-container-clicked container":"decline-container container")+" svelte-b6bgfc"),attr(x,"class","select-wrap svelte-b6bgfc"),attr(t,"class","browsing-request-container svelte-b6bgfc")},m(C,N){insert(C,t,N),append(t,n),append(n,r),append(n,o),append(n,s),append(n,i),append(n,a),append(a,l),append(n,c),append(n,d),append(n,p),append(n,u),append(n,h),append(n,m),append(n,f),append(n,g),append(n,v),append(n,_),append(n,w),append(n,b),append(n,y),append(n,k),append(t,$),append(t,x),append(x,S),append(S,M),K.m(M,null),append(S,T),append(S,O),append(O,E),append(x,R),append(x,D),append(D,I),Y.m(I,null),append(D,z),append(D,L),append(L,F),append(t,P),j||(H=[listen(D,"click",X),listen(D,"mouseenter",Z),listen(D,"mouseleave",e[11])],j=!0)},p(t,n){e=t,4&n&&V!==(V=e[18].id+"")&&set_data(l,V),U!==(U=W(e,n))&&(K.d(1),(K=U(e))&&(K.c(),K.m(M,null))),4&n&&N!==(N=null_to_empty(e[2].includes(e[18])?"clicked":"unclicked")+" svelte-b6bgfc")&&attr(O,"class",N),4&n&&A!==(A=null_to_empty(e[2].includes(e[18])?"accept-container-clicked container":"accept-container container")+" svelte-b6bgfc")&&attr(S,"class",A),G!==(G=J(e))&&(Y.d(1),(Y=G(e))&&(Y.c(),Y.m(I,null))),8&n&&q!==(q=null_to_empty(e[3]==e[20]?"clicked":"unclicked")+" svelte-b6bgfc")&&attr(L,"class",q),8&n&&B!==(B=null_to_empty(e[3]==e[20]?"decline-container-clicked container":"decline-container container")+" svelte-b6bgfc")&&attr(D,"class",B)},d(e){e&&detach(t),K.d(),Y.d(),j=!1,run_all(H)}}}function create_header_slot$2(e){let t;return{c(){(t=element("h3")).textContent="빠진 정보가 있습니다",attr(t,"class","modal-header"),attr(t,"slot","header")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_content_slot$2(e){let t;return{c(){(t=element("h3")).textContent="입력 정보를 다시 확인해주세요",attr(t,"class","modal-content"),attr(t,"slot","content")},m(e,n){insert(e,t,n)},p:noop,d(e){e&&detach(t)}}}function create_fragment$R(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$,x,S,M,C,T,O,E,N,A,R,D=e[2],I=[];for(let t=0;t<D.length;t+=1)I[t]=create_each_block$h(get_each_context$h(e,D,t));let z=null;return D.length||(z=create_else_block_2$3()),(E=new DefaultModal({props:{modalActive:e[1],$$slots:{content:[create_content_slot$2],header:[create_header_slot$2]},$$scope:{ctx:e}}})).$on("close",e[13]),{c(){t=element("div"),n=element("div"),r=element("div"),(o=element("button")).innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6" height="18" width="18"><path stroke-linecap="round" stroke-linejoin="round" d="M9 15L3 9m0 0l6-6M3 9h12a6 6 0 010 12h-3"></path></svg>',s=space(),(i=element("h3")).textContent="기록물 접근 권한 요청",a=space(),l=element("div"),c=element("div"),d=element("div"),(p=element("div")).innerHTML='<h3 class="svelte-b6bgfc">접근 요청할 기록물</h3>',u=space(),h=element("div");for(let e=0;e<I.length;e+=1)I[e].c();z&&z.c(),m=space(),f=element("div"),g=space(),v=element("div"),(_=element("div")).innerHTML='<h3 class="svelte-b6bgfc">사유</h3>',w=space(),b=element("div"),y=element("div"),k=element("textarea"),$=space(),x=element("div"),S=element("div"),(M=element("button")).innerHTML='<h3 class="svelte-b6bgfc">취소하기</h3>',C=space(),(T=element("button")).innerHTML='<h3 class="svelte-b6bgfc">확인하기</h3>',O=space(),create_component(E.$$.fragment),attr(o,"class","back-btn svelte-b6bgfc"),attr(r,"class","back-btn-wrap svelte-b6bgfc"),attr(i,"class","svelte-b6bgfc"),attr(n,"class","header svelte-b6bgfc"),attr(p,"class","input-category-title svelte-b6bgfc"),attr(h,"class","browsing-request-wrap  svelte-b6bgfc"),attr(d,"class","single-input-wrap svelte-b6bgfc"),attr(f,"class","buffer svelte-b6bgfc"),attr(_,"class","input-category-title svelte-b6bgfc"),attr(k,"class","content-input svelte-b6bgfc"),attr(k,"placeholder","사유를 입력해 주세요"),attr(y,"class","input-wrap svelte-b6bgfc"),attr(b,"class","text-wrap svelte-b6bgfc"),attr(v,"class","single-input-wrap svelte-b6bgfc"),attr(M,"class","withdraw-btn btn svelte-b6bgfc"),attr(T,"class","accept-btn btn svelte-b6bgfc"),attr(S,"class","btn-container svelte-b6bgfc"),attr(x,"class","btn-control-wrap svelte-b6bgfc"),attr(c,"class","body-content-wrap svelte-b6bgfc"),attr(l,"class","body svelte-b6bgfc"),attr(t,"class","focus svelte-b6bgfc")},m(D,L){insert(D,t,L),append(t,n),append(n,r),append(r,o),append(n,s),append(n,i),append(t,a),append(t,l),append(l,c),append(c,d),append(d,p),append(d,u),append(d,h);for(let e=0;e<I.length;e+=1)I[e].m(h,null);z&&z.m(h,null),append(c,m),append(c,f),append(c,g),append(c,v),append(v,_),append(v,w),append(v,b),append(b,y),append(y,k),set_input_value(k,e[0]),append(c,$),append(c,x),append(x,S),append(S,M),append(S,C),append(S,T),insert(D,O,L),mount_component(E,D,L),N=!0,A||(R=[listen(o,"click",e[4]),listen(k,"input",e[12]),listen(M,"click",e[6]),listen(T,"click",e[7])],A=!0)},p(e,[t]){if(44&t){let n;for(D=e[2],n=0;n<D.length;n+=1){const r=get_each_context$h(e,D,n);I[n]?I[n].p(r,t):(I[n]=create_each_block$h(r),I[n].c(),I[n].m(h,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=D.length,!D.length&&z?z.p(e,t):D.length?z&&(z.d(1),z=null):((z=create_else_block_2$3()).c(),z.m(h,null))}1&t&&set_input_value(k,e[0]);const n={};2&t&&(n.modalActive=e[1]),2097152&t&&(n.$$scope={dirty:t,ctx:e}),E.$set(n)},i(e){N||(transition_in(E.$$.fragment,e),N=!0)},o(e){transition_out(E.$$.fragment,e),N=!1},d(e){e&&detach(t),destroy_each(I,e),z&&z.d(),e&&detach(O),destroy_component(E,e),A=!1,run_all(R)}}}function wishListWrapper(e){let t=[];for(var n=0;n<3;n++)e[n].forEach(e=>{t.push({form:n,id:e})});return t}function instance$K(e,t,n){let r,o;component_subscribe(e,wishList,e=>n(14,r=e)),component_subscribe(e,token,e=>n(15,o=e));let s="",i=!1;var a=createEventDispatcher();function l(e){let t=d[e].form,o=d[e].id,s=r[t].indexOf(o);r[t].splice(s,1),n(2,d=wishListWrapper(r))}function c(e,t){0==t&&n(1,i=e.detail.modalActive)}let d=wishListWrapper(r),p=null;return[s,i,d,p,function(){a("stageChange",{stage:1})},l,function(){a("stageChange",{stage:1})},async function(){if((r[0]||r[1]||r[2])&&s){let e=await async function(){return await axios$1({url:"http://127.0.0.1:8000/drf/request/open",method:"post",data:{image_cases:r[0],video_cases:r[1],doc_cases:r[2],request_form:0,title:"기록물 접근 권한신청",comments:s},headers:{Authorization:`Token ${o}`}})}();wishList.update(e=>({0:[],1:[],2:[]})),a("submit",{data:e,stage:3})}else n(1,i=!0)},c,e=>l(e),e=>n(3,p=e),()=>n(3,p=null),function(){s=this.value,n(0,s)},e=>c(e,0)]}class AccessRequestContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$K,create_fragment$R,safe_not_equal,{})}}function create_if_block_3$7(e){let t;function n(e,t){return e[3]?200==e[3].status?create_if_block_5$3:create_else_block_1$5:create_if_block_4$5}let r=n(e),o=r(e);return{c(){o.c(),t=empty()},m(e,n){o.m(e,n),insert(e,t,n)},p(e,s){r===(r=n(e))&&o?o.p(e,s):(o.d(1),(o=r(e))&&(o.c(),transition_in(o,1),o.m(t.parentNode,t)))},i(e){transition_in(o)},o:noop,d(e){o.d(e),e&&detach(t)}}}function create_if_block_1$k(e){let t,n,r,o;const s=[create_if_block_2$c,create_else_block$l],i=[];function a(e,t){return 0==e[2]?0:1}return t=a(e),n=i[t]=s[t](e),{c(){n.c(),r=empty()},m(e,n){i[t].m(e,n),insert(e,r,n),o=!0},p(e,o){let l=t;(t=a(e))===l?i[t].p(e,o):(group_outros(),transition_out(i[l],1,1,()=>{i[l]=null}),check_outros(),(n=i[t])?n.p(e,o):(n=i[t]=s[t](e)).c(),transition_in(n,1),n.m(r.parentNode,r))},i(e){o||(transition_in(n),o=!0)},o(e){transition_out(n),o=!1},d(e){i[t].d(e),e&&detach(r)}}}function create_if_block$u(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k,$;return{c(){t=element("div"),n=element("div"),r=element("div"),o=element("div"),s=element("div"),i=svg_element("svg"),a=svg_element("path"),d=space(),(p=element("div")).innerHTML='<div class="title-holder svelte-q7z5ja"><h3 class="svelte-q7z5ja">기록물 접근 권한 요청</h3></div>',u=space(),h=element("div"),m=element("div"),f=element("div"),g=svg_element("svg"),v=svg_element("path"),b=space(),(y=element("div")).innerHTML='<div class="title-holder svelte-q7z5ja"><h3 class="svelte-q7z5ja">계정 권한 요청</h3></div>',attr(a,"stroke-linecap","round"),attr(a,"stroke-linejoin","round"),attr(a,"d","M15.75 5.25a3 3 0 013 3m3 0a6 6 0 01-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1121.75 8.25z"),attr(i,"xmlns","http://www.w3.org/2000/svg"),attr(i,"fill","none"),attr(i,"viewBox","0 0 24 24"),attr(i,"stroke-width","1.5"),attr(i,"stroke",l=1==e[1]?"white":"rgb(31, 32, 88)"),attr(i,"height","120px"),attr(i,"width","120px"),attr(s,"class","svg-holder"),attr(o,"class",c=null_to_empty(1==e[1]?"background-container-focus":"background-container")+" svelte-q7z5ja"),attr(p,"class","title-container svelte-q7z5ja"),attr(r,"class","choice svelte-q7z5ja"),attr(v,"stroke-linecap","round"),attr(v,"stroke-linejoin","round"),attr(v,"d","M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"),attr(g,"xmlns","http://www.w3.org/2000/svg"),attr(g,"fill","none"),attr(g,"viewBox","0 0 24 24"),attr(g,"stroke-width","1.5"),attr(g,"stroke",_=2==e[1]?"white":"rgb(31, 32, 88)"),attr(g,"height","120px"),attr(g,"width","120px"),attr(f,"class","svg-holder"),attr(m,"class",w=null_to_empty(2==e[1]?"background-container-focus":"background-container")+" svelte-q7z5ja"),attr(y,"class","title-container svelte-q7z5ja"),attr(h,"class","choice svelte-q7z5ja"),attr(n,"class","choice-wrap svelte-q7z5ja"),attr(t,"class","body svelte-q7z5ja")},m(l,c){insert(l,t,c),append(t,n),append(n,r),append(r,o),append(o,s),append(s,i),append(i,a),append(r,d),append(r,p),append(n,u),append(n,h),append(h,m),append(m,f),append(f,g),append(g,v),append(h,b),append(h,y),k||($=[listen(r,"click",e[4]),listen(r,"mouseenter",e[7]),listen(r,"mouseleave",e[8]),listen(h,"click",e[4]),listen(h,"mouseenter",e[9]),listen(h,"mouseleave",e[10])],k=!0)},p(e,t){2&t&&l!==(l=1==e[1]?"white":"rgb(31, 32, 88)")&&attr(i,"stroke",l),2&t&&c!==(c=null_to_empty(1==e[1]?"background-container-focus":"background-container")+" svelte-q7z5ja")&&attr(o,"class",c),2&t&&_!==(_=2==e[1]?"white":"rgb(31, 32, 88)")&&attr(g,"stroke",_),2&t&&w!==(w=null_to_empty(2==e[1]?"background-container-focus":"background-container")+" svelte-q7z5ja")&&attr(m,"class",w)},i:noop,o:noop,d(e){e&&detach(t),k=!1,run_all($)}}}function create_else_block_1$5(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록에 실패했습니다",l=space(),(c=element("h5")).textContent="입력 내용을 다시 한번 확인해 주세요",d=space(),p=element("div"),(u=element("a")).innerHTML='<h3 class="svelte-q7z5ja">다시 입력</h3>',h=space(),(m=element("a")).innerHTML='<h3 class="svelte-q7z5ja">돌아가기</h3>',attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(226, 41, 41)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-q7z5ja"),attr(c,"class","svelte-q7z5ja"),attr(u,"class","btn svelte-q7z5ja"),attr(m,"class","btn svelte-q7z5ja"),attr(m,"href","/manage/accounts/browse"),attr(p,"class","btn-container svelte-q7z5ja"),attr(t,"class","upload-fail-page svelte-q7z5ja")},m(s,v){insert(s,t,v),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c),append(t,d),append(t,p),append(p,u),append(p,h),append(p,m),f||(g=listen(u,"click",e[11]),f=!0)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t),f=!1,g()}}}function create_if_block_5$3(e){let t,n,r,o,s,i,a,l,c;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록이 끝났습니다!",l=space(),(c=element("div")).innerHTML='<a class="btn svelte-q7z5ja" href="/manage/accounts/browse"><h3 class="svelte-q7z5ja">돌아가기</h3></a>',attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M4.5 12.75l6 6 9-13.5"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","1.5"),attr(r,"stroke","rgb(99, 228, 99)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-q7z5ja"),attr(c,"class","btn-container-2 svelte-q7z5ja"),attr(t,"class","upload-success-page svelte-q7z5ja")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a),append(t,l),append(t,c)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_if_block_4$5(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),n=element("div"),r=svg_element("svg"),o=svg_element("path"),i=space(),(a=element("h4")).textContent="등록 중 입니다",attr(o,"stroke-linecap","round"),attr(o,"stroke-linejoin","round"),attr(o,"d","M10.05 4.575a1.575 1.575 0 10-3.15 0v3m3.15-3v-1.5a1.575 1.575 0 013.15 0v1.5m-3.15 0l.075 5.925m3.075.75V4.575m0 0a1.575 1.575 0 013.15 0V15M6.9 7.575a1.575 1.575 0 10-3.15 0v8.175a6.75 6.75 0 006.75 6.75h2.018a5.25 5.25 0 003.712-1.538l1.732-1.732a5.25 5.25 0 001.538-3.712l.003-2.024a.668.668 0 01.198-.471 1.575 1.575 0 10-2.228-2.228 3.818 3.818 0 00-1.12 2.687M6.9 7.575V12m6.27 4.318A4.49 4.49 0 0116.35 15m.002 0h-.002"),attr(r,"xmlns","http://www.w3.org/2000/svg"),attr(r,"fill","none"),attr(r,"viewBox","0 0 24 24"),attr(r,"stroke-width","0.8"),attr(r,"stroke","rgb(31, 32, 88)"),attr(r,"height","100"),attr(r,"width","100"),attr(n,"class","svg-wrap"),attr(a,"class","svelte-q7z5ja"),attr(t,"class","uploading-landing-page svelte-q7z5ja")},m(e,s){insert(e,t,s),append(t,n),append(n,r),append(r,o),append(t,i),append(t,a)},p:noop,i(e){s||add_render_callback(()=>{(s=create_in_transition(o,draw,{duration:700,speed:1})).start()})},o:noop,d(e){e&&detach(t)}}}function create_else_block$l(e){let t;return{c(){attr(t=element("div"),"class","authority-request")},m(e,n){insert(e,t,n)},p:noop,i:noop,o:noop,d(e){e&&detach(t)}}}function create_if_block_2$c(e){let t,n;return(t=new AccessRequestContainer({})).$on("stageChange",e[5]),t.$on("submit",e[6]),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p:noop,i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_fragment$S(e){let t,n,r,o;const s=[create_if_block$u,create_if_block_1$k,create_if_block_3$7],i=[];function a(e,t){return 1==e[0]?0:2==e[0]?1:3==e[0]?2:-1}return~(n=a(e))&&(r=i[n]=s[n](e)),{c(){t=element("div"),r&&r.c(),attr(t,"class","browse-content-container svelte-q7z5ja")},m(e,r){insert(e,t,r),~n&&i[n].m(t,null),o=!0},p(e,[o]){let l=n;(n=a(e))===l?~n&&i[n].p(e,o):(r&&(group_outros(),transition_out(i[l],1,1,()=>{i[l]=null}),check_outros()),~n?((r=i[n])?r.p(e,o):(r=i[n]=s[n](e)).c(),transition_in(r,1),r.m(t,null)):r=null)},i(e){o||(transition_in(r),o=!0)},o(e){transition_out(r),o=!1},d(e){e&&detach(t),~n&&i[n].d()}}}function instance$L(e,t,n){let{stage:r=1}=t,o=null,s=null,i=null;var a=createEventDispatcher();return e.$$set=(e=>{"stage"in e&&n(0,r=e.stage)}),e.$$.update=(()=>{1&e.$$.dirty&&(1==r?a("stageChange",{stage:r}):2==r&&a("stageChange",{stage:r}))}),[r,o,s,i,function(){n(2,s=o-1),n(0,r+=1)},function(e){n(0,r=e.detail.stage),n(1,o=null),n(2,s=null)},function(e){n(0,r=e.detail.stage),n(3,i=e.detail.data)},()=>n(1,o=1),()=>n(1,o=null),()=>n(1,o=2),()=>n(1,o=null),()=>{n(0,r-=1)}]}class AccessRequestCreateContainer extends SvelteComponent{constructor(e){super(),init(this,e,instance$L,create_fragment$S,safe_not_equal,{stage:0})}}function create_fragment$T(e){let t,n,r,o,s,i,a;return{c(){t=element("div"),(n=element("h3")).textContent="권한 요청",r=space(),o=element("div"),s=element("div"),i=element("h3"),a=text(e[0]),attr(n,"class","svelte-1wpj7h6"),attr(i,"class","svelte-1wpj7h6"),attr(s,"class","keyword-holder-label svelte-1wpj7h6"),attr(o,"class","keyword-holder-wrap svelte-1wpj7h6"),attr(t,"class","browse-content-title svelte-1wpj7h6")},m(e,l){insert(e,t,l),append(t,n),append(t,r),append(t,o),append(o,s),append(s,i),append(i,a)},p(e,[t]){1&t&&set_data(a,e[0])},i:noop,o:noop,d(e){e&&detach(t)}}}function instance$M(e,t,n){let{subtitle:r=""}=t;return e.$$set=(e=>{"subtitle"in e&&n(0,r=e.subtitle)}),[r]}class AccessRequestCreateTitle extends SvelteComponent{constructor(e){super(),init(this,e,instance$M,create_fragment$T,safe_not_equal,{subtitle:0})}}function create_fragment$U(e){let t,n,r,o,s,i;return t=new AccessRequestCreateTitle({props:{subtitle:e[1]}}),(r=new AccessRequestCreateContainer({props:{stage:e[0]}})).$on("stageChange",e[2]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),(s=element("div")).innerHTML='<div class="navbar-placeholder svelte-6ohazb"></div>',attr(s,"class","bottom-bar svelte-6ohazb")},m(e,a){mount_component(t,e,a),insert(e,n,a),mount_component(r,e,a),insert(e,o,a),insert(e,s,a),i=!0},p(e,[n]){const o={};2&n&&(o.subtitle=e[1]),t.$set(o);const s={};1&n&&(s.stage=e[0]),r.$set(s)},i(e){i||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),i=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),i=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s)}}}function titleChange$3(e){return 1==e?"요청 선택":2==e?"요청 세부사항":3==e?"요청 전송 중":"허가되지 않은 창"}function instance$N(e,t,n){let r="",o=1;return e.$$.update=(()=>{1&e.$$.dirty&&n(1,r=titleChange$3(o))}),[o,r,function(e){n(0,o=e.detail.stage)}]}class AccessRequestCreateView extends SvelteComponent{constructor(e){super(),init(this,e,instance$N,create_fragment$U,safe_not_equal,{})}}function create_default_slot_4(e){let t,n,r,o,s,i,a;return(t=new BrowseAccountTitle({})).$on("keyword",e[6]),(r=new AccountListContainer({props:{page:e[1],keywords:e[0]}})).$on("pageChange",e[4]),r.$on("focus",e[5]),(i=new BrowseNavbar({props:{page:e[1],focus:e[2]}})).$on("pageChange",e[4]),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),s=element("div"),create_component(i.$$.fragment),attr(s,"class","bottom-bar svelte-tnik5k")},m(e,l){mount_component(t,e,l),insert(e,n,l),mount_component(r,e,l),insert(e,o,l),insert(e,s,l),mount_component(i,s,null),a=!0},p(e,t){const n={};2&t&&(n.page=e[1]),1&t&&(n.keywords=e[0]),r.$set(n);const o={};2&t&&(o.page=e[1]),4&t&&(o.focus=e[2]),i.$set(o)},i(e){a||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(i.$$.fragment,e),a=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(i.$$.fragment,e),a=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),e&&detach(s),destroy_component(i)}}}function create_default_slot_3$1(e){let t,n;return t=new AccessControlView({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_2$1(e){let t,n;return t=new AccountCreateView({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1$2(e){let t,n;return t=new AccessRequestCreateView({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot$3(e){let t,n,r,o,s,i,a,l,c,d,p,u,h,m,f,g,v,_,w,b,y,k;return n=new ManageSidebar({props:{categories:e[3]}}),l=new Route({props:{path:"/",redirect:"/manage/accounts/browse"}}),d=new Route({props:{path:"/browse/*",$$slots:{default:[create_default_slot_4]},$$scope:{ctx:e}}}),u=new Route({props:{path:"/access-control/*",$$slots:{default:[create_default_slot_3$1]},$$scope:{ctx:e}}}),m=new Route({props:{path:"/create/*",$$slots:{default:[create_default_slot_2$1]},$$scope:{ctx:e}}}),g=new Route({props:{path:"/request/*",$$slots:{default:[create_default_slot_1$2]},$$scope:{ctx:e}}}),w=new UserInfo({}),{c(){t=element("div"),create_component(n.$$.fragment),s=space(),i=element("div"),a=element("div"),create_component(l.$$.fragment),c=space(),create_component(d.$$.fragment),p=space(),create_component(u.$$.fragment),h=space(),create_component(m.$$.fragment),f=space(),create_component(g.$$.fragment),v=space(),_=element("div"),create_component(w.$$.fragment),attr(t,"class","sidebar-wrap"),attr(a,"class","browse-content-wrap svelte-tnik5k"),attr(i,"class","manage-content-main svelte-tnik5k"),attr(_,"class","user-info-wrap")},m(e,r){insert(e,t,r),mount_component(n,t,null),insert(e,s,r),insert(e,i,r),append(i,a),mount_component(l,a,null),append(a,c),mount_component(d,a,null),append(a,p),mount_component(u,a,null),append(a,h),mount_component(m,a,null),append(a,f),mount_component(g,a,null),insert(e,v,r),insert(e,_,r),mount_component(w,_,null),k=!0},p(e,t){const n={};2055&t&&(n.$$scope={dirty:t,ctx:e}),d.$set(n);const r={};2048&t&&(r.$$scope={dirty:t,ctx:e}),u.$set(r);const o={};2048&t&&(o.$$scope={dirty:t,ctx:e}),m.$set(o);const s={};2048&t&&(s.$$scope={dirty:t,ctx:e}),g.$set(s)},i(e){k||(transition_in(n.$$.fragment,e),add_render_callback(()=>{o&&o.end(1),(r=create_in_transition(t,fly,{duration:200,x:-400,y:0})).start()}),transition_in(l.$$.fragment,e),transition_in(d.$$.fragment,e),transition_in(u.$$.fragment,e),transition_in(m.$$.fragment,e),transition_in(g.$$.fragment,e),transition_in(w.$$.fragment,e),add_render_callback(()=>{y&&y.end(1),(b=create_in_transition(_,fly,{duration:200,x:400,y:0})).start()}),k=!0)},o(e){transition_out(n.$$.fragment,e),r&&r.invalidate(),o=create_out_transition(t,fade,{duration:10}),transition_out(l.$$.fragment,e),transition_out(d.$$.fragment,e),transition_out(u.$$.fragment,e),transition_out(m.$$.fragment,e),transition_out(g.$$.fragment,e),transition_out(w.$$.fragment,e),b&&b.invalidate(),y=create_out_transition(_,fade,{duration:10}),k=!1},d(e){e&&detach(t),destroy_component(n),e&&o&&o.end(),e&&detach(s),e&&detach(i),destroy_component(l),destroy_component(d),destroy_component(u),destroy_component(m),destroy_component(g),e&&detach(v),e&&detach(_),destroy_component(w),e&&y&&y.end()}}}function create_fragment$V(e){let t,n;return t=new Route({props:{path:"/*",$$slots:{default:[create_default_slot$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},p(e,[n]){const r={};2055&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function instance$O(e,t,n){let r=["#사용자_전체"],o=1,s=!1;return[r,o,s,[{name:"회원관리",sub_category:[{name:"회원 조회",path:"/manage/accounts/browse"},{name:"회원 생성",path:"/manage/accounts/create"},{name:"기록물 접근 관리",path:"/manage/accounts/access-control"},{name:"권한 요청",path:"/manage/accounts/request"}]},{name:"소속관리",sub_category:[{name:"소속 조회",path:"/manage/accounts/affiliations"},{name:"소속 생성",path:"/user/accounts/affiliations/revise"}]}],function(e){n(1,o=e.detail.page)},function(e){n(2,s=e.detail.focus)},function(e){n(0,r=e.detail.keywords)}]}class ManageUserMain extends SvelteComponent{constructor(e){super(),init(this,e,instance$O,create_fragment$V,safe_not_equal,{})}}function create_default_slot_10(e){let t,n;return t=new UserMain({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_9(e){let t,n;return t=new Login({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_8(e){let t,n;return t=new Signin({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_7(e){let t,n,r,o;return t=new Route({props:{path:"/login",$$slots:{default:[create_default_slot_9]},$$scope:{ctx:e}}}),r=new Route({props:{path:"/signin",$$slots:{default:[create_default_slot_8]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment)},m(e,s){mount_component(t,e,s),insert(e,n,s),mount_component(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};4&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e)}}}function create_default_slot_6(e){let t,n;return t=new UserMain({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_5(e){let t,n,r,o;return t=new UserNavbar({}),r=new Browse({}),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment)},m(e,s){mount_component(t,e,s),insert(e,n,s),mount_component(r,e,s),o=!0},i(e){o||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e)}}}function create_default_slot_4$1(e){let t,n,r,o;return t=new Route({props:{path:"/",$$slots:{default:[create_default_slot_6]},$$scope:{ctx:e}}}),r=new Route({props:{path:"/browse/*",$$slots:{default:[create_default_slot_5]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment)},m(e,s){mount_component(t,e,s),insert(e,n,s),mount_component(r,e,s),o=!0},p(e,n){const o={};4&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};4&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s)},i(e){o||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),o=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),o=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e)}}}function create_default_slot_3$2(e){let t,n;return t=new ManageMain({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_2$2(e){let t,n;return t=new ManageBrowse({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot_1$3(e){let t,n;return t=new ManageUserMain({}),{c(){create_component(t.$$.fragment)},m(e,r){mount_component(t,e,r),n=!0},i(e){n||(transition_in(t.$$.fragment,e),n=!0)},o(e){transition_out(t.$$.fragment,e),n=!1},d(e){destroy_component(t,e)}}}function create_default_slot$4(e){let t,n,r,o,s,i,a,l;return t=new ManageNavbar({}),r=new Route({props:{path:"/",$$slots:{default:[create_default_slot_3$2]},$$scope:{ctx:e}}}),s=new Route({props:{path:"/cases/*",$$slots:{default:[create_default_slot_2$2]},$$scope:{ctx:e}}}),a=new Route({props:{path:"/accounts/*",$$slots:{default:[create_default_slot_1$3]},$$scope:{ctx:e}}}),{c(){create_component(t.$$.fragment),n=space(),create_component(r.$$.fragment),o=space(),create_component(s.$$.fragment),i=space(),create_component(a.$$.fragment)},m(e,c){mount_component(t,e,c),insert(e,n,c),mount_component(r,e,c),insert(e,o,c),mount_component(s,e,c),insert(e,i,c),mount_component(a,e,c),l=!0},p(e,t){const n={};4&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};4&t&&(o.$$scope={dirty:t,ctx:e}),s.$set(o);const i={};4&t&&(i.$$scope={dirty:t,ctx:e}),a.$set(i)},i(e){l||(transition_in(t.$$.fragment,e),transition_in(r.$$.fragment,e),transition_in(s.$$.fragment,e),transition_in(a.$$.fragment,e),l=!0)},o(e){transition_out(t.$$.fragment,e),transition_out(r.$$.fragment,e),transition_out(s.$$.fragment,e),transition_out(a.$$.fragment,e),l=!1},d(e){destroy_component(t,e),e&&detach(n),destroy_component(r,e),e&&detach(o),destroy_component(s,e),e&&detach(i),destroy_component(a,e)}}}function create_fragment$W(e){let t,n,r,o,s,i,a,l,c,d,p;return n=new Route({props:{path:"/",redirect:"/user",$$slots:{default:[create_default_slot_10]},$$scope:{ctx:e}}}),o=new Route({props:{path:"/auth/*",$$slots:{default:[create_default_slot_7]},$$scope:{ctx:e}}}),i=new Route({props:{path:"/user/*",$$slots:{default:[create_default_slot_4$1]},$$scope:{ctx:e}}}),l=new Route({props:{path:"/manage/*",$$slots:{default:[create_default_slot$4]},$$scope:{ctx:e}}}),d=new Footer({}),{c(){t=element("main"),create_component(n.$$.fragment),r=space(),create_component(o.$$.fragment),s=space(),create_component(i.$$.fragment),a=space(),create_component(l.$$.fragment),c=space(),create_component(d.$$.fragment),attr(t,"class","svelte-1rgr3hj")},m(e,u){insert(e,t,u),mount_component(n,t,null),append(t,r),mount_component(o,t,null),append(t,s),mount_component(i,t,null),append(t,a),mount_component(l,t,null),append(t,c),mount_component(d,t,null),p=!0},p(e,[t]){const r={};4&t&&(r.$$scope={dirty:t,ctx:e}),n.$set(r);const s={};4&t&&(s.$$scope={dirty:t,ctx:e}),o.$set(s);const a={};4&t&&(a.$$scope={dirty:t,ctx:e}),i.$set(a);const c={};4&t&&(c.$$scope={dirty:t,ctx:e}),l.$set(c)},i(e){p||(transition_in(n.$$.fragment,e),transition_in(o.$$.fragment,e),transition_in(i.$$.fragment,e),transition_in(l.$$.fragment,e),transition_in(d.$$.fragment,e),p=!0)},o(e){transition_out(n.$$.fragment,e),transition_out(o.$$.fragment,e),transition_out(i.$$.fragment,e),transition_out(l.$$.fragment,e),transition_out(d.$$.fragment,e),p=!1},d(e){e&&detach(t),destroy_component(n),destroy_component(o),destroy_component(i),destroy_component(l),destroy_component(d)}}}function instance$P(e,t,n){let r;component_subscribe(e,token,e=>n(0,r=e));let o=localStorage.getItem("token");return r!=o&&token.set(o),[]}class App extends SvelteComponent{constructor(e){super(),init(this,e,instance$P,create_fragment$W,safe_not_equal,{})}}const app=new App({target:document.body});return app}();
//# sourceMappingURL=bundle.js.map
